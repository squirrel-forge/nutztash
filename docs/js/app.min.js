/*! For license information please see app.min.js.LICENSE.txt */
!function(){"use strict";var t,e,n={},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,o),i.exports}function i(t){requestAnimationFrame((function(){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(void 0)}))}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(l())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&s(o,n.prototype),o}(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,t)},c(t)}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var u=2&r&&n;"object"==typeof u&&!~t.indexOf(u);u=e(u))Object.getOwnPropertyNames(u).forEach((function(t){a[t]=function(){return n[t]}}));return a.default=function(){return n},o.d(i,a),i},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var h,y=function(t){function e(t){var n,r,o,i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p((r=this,i=[t],o=f(o=e),n=function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(r,l()?Reflect.construct(o,i||[],f(r).constructor):o.apply(r,i))),"previous",null),p(n,"previousToStack",!0),p(n,"previousPrefix","> Caused by: "),n.name=n.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=new Error(t).stack,n.previous=u||null,n.addPreviousToStack(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(r=[{key:"addPreviousToStack",value:function(){this.previousToStack&&("string"==typeof this.stack?this.previous&&(this.previous instanceof Error||this.previous.toString||"string"==typeof this.previous)&&(this.stack=this.stack+"\n",this.previousPrefix&&(this.stack=this.stack+this.previousPrefix),this.stack=this.stack+("string"==typeof this.previous.stack?this.previous.stack:this.previous)):this.previous&&window.console.error(this,"Caused by",this.previous))}}])&&u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(c(Error));function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t){return null!==t&&"object"===v(t)&&Object.getPrototypeOf(t)===Object.prototype}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!!e;var n,r=t instanceof Array,o=m(t),i=r?[]:{};if(r||o){for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(null!==t[n]&&"object"===b(t[n])&&e?i[n]=g(t[n],e):i[n]=t[n]);return i}return t}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e,n){S(t,e),e.set(t,n)}function S(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T(t,e){return t.get(I(t,e))}function L(t,e,n){return t.set(I(t,e),n),n}function I(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function N(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:e+""}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e,n){return e=x(e),function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],x(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}var M=function(t){function e(){return P(this,e),k(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(e,t),N(e)}(y),D=new WeakMap,H=new WeakMap,B=new WeakMap,F=new WeakMap,G=new WeakSet,W=function(){return N((function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(P(this,t),S(this,e=G),e.add(this),A(this,D,null),A(this,H,null),A(this,B,null),A(this,F,{}),null!==n&&!this.constructor.isCompat(n))throw new M("Argument element must be null or a compatible instance");if(null!==r&&!this.constructor.isCompat(r))throw new M("Argument parent must be null or a compatible instance");L(D,this,o),L(H,this,n),L(B,this,r),T(D,this)&&T(D,this).log(this.constructor.name+"::constructed",this)}),[{key:"debug",get:function(){return T(D,this)}},{key:"target",get:function(){return T(H,this)}},{key:"parent",get:function(){return T(B,this)}},{key:"overrideParent",value:function(t){L(B,this,t)}},{key:"isSimulated",get:function(){return null===T(H,this)}},{key:"dispatchEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=I(G,this,U).call(this,e),T(D,this)&&(T(D,this).groupCollapsed(this.constructor.name+"::dispatchEvent [ "+t+" ]"),T(D,this).log("element >",T(H,this)||this),T(D,this).log("data >",e),T(D,this).groupEnd());var o=new CustomEvent(t,{bubbles:n,cancelable:r,detail:e});return null===T(H,this)?I(G,this,Y).call(this,t,o,e):T(H,this).dispatchEvent(o),!o.defaultPrevented}},{key:"hasSimulated",value:function(t){return T(F,this)[t]&&T(F,this)[t].length}},{key:"addEventListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(m(n)||(n={once:!1,capture:n,passive:!1}),"function"!=typeof e)throw new M('Argument callback for event "'+t+'" must be a function');null===T(H,this)?I(G,this,K).call(this,t,e,n):T(H,this).addEventListener(t,e,n),T(D,this)&&(T(D,this).groupCollapsed(this.constructor.name+"::addEventListener [ "+t+" ]"),T(D,this).log("element >",T(H,this)),T(D,this).log("callback >",e),T(D,this).groupEnd())}},{key:"removeEventListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===T(H,this)?I(G,this,z).call(this,t,e):T(H,this).removeEventListener(t,e,n)}},{key:"addEventList",value:function(t){for(var e=0;e<t.length;e++)this.addEventListener.apply(this,O(t[e]))}}],[{key:"isCompat",value:function(t){return t.addEventListener&&t.removeEventListener&&t.dispatchEvent}}])}();function U(t){return(t=t||{target:this}).target||(t.target=this),t.current||(t.current=this),t}function Y(t,e,n){if(T(F,this)[t]&&T(F,this)[t].length)for(var r=O(T(F,this)[t]),o=0;o<r.length;o++)if(T(F,this)[t].includes(r[o])){try{r[o].apply(this,[e])}catch(t){window.console.error(new M("Simulated event error",t))}if(r[o]&&!0===r[o].__EventDispatcherOnce&&I(G,this,z).call(this,t,r[o]),e.cancelBubble){T(D,this)&&T(D,this).log(this.constructor.name+"::dispatchEvent simulated [ "+t+" ] broke after",o);break}}if(T(B,this)&&e.bubbles&&!e.cancelBubble)if(T(D,this)&&T(D,this).log(this.constructor.name+"::dispatchEvent bubble [ "+t+" ] to",T(B,this)),T(B,this)instanceof h){var i=g(n);i.current=T(B,this),T(B,this).dispatchEvent(t,i)}else T(B,this).dispatchEvent(e)}function K(t,e,n){T(F,this)[t]||(T(F,this)[t]=[]),T(F,this)[t].push(e),m(n)&&!0===n.once&&(T(F,this)[t][T(F,this)[t].length-1].__EventDispatcherOnce=!0)}function z(t,e){if(T(F,this)[t])for(var n=0;n<T(F,this)[t].length;n++)T(F,this)[t][n]===e&&T(F,this)[t].splice(n,1)}function q(t){var e=document;"complete"===e.readyState||"loading"!==e.readyState&&!e.documentElement.doScroll?t():e.addEventListener("DOMContentLoaded",(function(){t()}))}function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"smooth",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;if(e||(e=document.documentElement),n instanceof HTMLElement?n=n.getBoundingClientRect().height:"function"==typeof n&&(n=n(t)),"number"!=typeof n||Number.isNaN(n))throw new Error("scrollTo() Argument offset must be a Number, HTMLElement or Function returning a Number");var i=e.scrollTop+t.getBoundingClientRect().top-n;Math.abs(e.scrollTop-i)>=o&&(e===document.documentElement?window.scrollTo({top:i,behavior:r}):(i-=e.getBoundingClientRect().top,e.scrollTo({top:i,behavior:r})))}function J(){for(var t=[],e=0,n=!0,r=!1,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];for(var u=0;u<i.length;u++)i[u]instanceof Array?i[u].forEach((function(e){(!n||n&&!t.includes(e))&&t.push(r?g(e):e)})):e<2&&(0===e?n=!!i[u]:1===e&&(r=!!i[u]),e++);return t}function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Z(t,e){var n,r,o,i,a,u,c,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];for(n in l=!!l,s=!!s,f=!!f,p=!!p,e)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)?(r=X(t[n]),o=X(e[n]),i=t[n]instanceof Array,a=e[n]instanceof Array,u=m(t[n]),c=m(e[n]),r+"_"+o=="object_object"?t[n]=s?!p&&i&&a?J(!0,f,t[n],e[n]):u&&c?Z(t[n],e[n],l,s,f,p):g(e[n],!0):e[n]:(l||null===t[n]||null===e[n]||r===o)&&(t[n]=e[n])):l&&void 0===t[n]&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=g(e[n],!0));return t}function $(t,e){for(;t.charAt(0)===e;)t=t.substring(1);for(;t.charAt(t.length-1)===e;)t=t.substring(0,t.length-1);return t}function Q(t){return $(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/")}function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lt(r.key),r)}}function ot(t,e,n){return e=at(e),function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,it()?Reflect.construct(e,n||[],at(t).constructor):e.apply(t,n))}function it(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(it=function(){return!!t})()}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function ct(t,e,n){return(e=lt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lt(t){var e=function(t,e){if("object"!=tt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tt(e)?e:e+""}function st(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}h=W;var ft=new WeakSet,pt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}(t=ot(this,e,[window,null,r]),ft),ct(t,"config",null),ct(t,"initial",null),t.config={offset:0,bind:!0,context:document.body,selector:'[href^="#"], [href*="#"]',scrollContext:null,autoTop:!1,capture:!0,initial:1e3,complete:null},m(n)&&Z(t.config,n),t.config.capture&&st(ft,t,ht).call(t),t.config.bind&&t.bind(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(e,t),n=e,r=[{key:"scrollTo",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null!=r?r:this.config.offset;i instanceof Array||(i=[i]),i.unshift(null!=o?o:this.config.scrollContext),i.unshift(t),void 0===e&&(e=this.config.complete),this.dispatchEvent("scroll.before",{scrollTarget:t,params:i},!0,!0)&&(function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r||(r=window),"function"!=typeof t)throw new Error("scrollComplete() Argument callback must be a Function");var o={passive:!0};r.addEventListener("scroll",(function i(){window.clearTimeout(e),e=window.setTimeout((function(){r.removeEventListener("scroll",i,o);try{t()}catch(t){throw window.console.error(t),new Error("scrollComplete() Argument callback caused an error")}}),n)}),o)}((function(){n.dispatchEvent("scroll.after",{scrollTarget:t}),"function"==typeof e&&e(t)})),V.apply(void 0,et(i)))}},{key:"bind",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||this.config.context,n=n||this.config.selector;var r=this.config.context.querySelectorAll(n);!r.length&&this.debug&&this.debug.warn(this.constructor.name+"::bind No scrollTo links found in context:",e);for(var o=0;o<r.length;o++)r[o].hasAttribute("data-scrollto")||(r[o].addEventListener("click",(function(e){st(ft,t,dt).call(t,e)})),r[o].setAttribute("data-scrollto","true"))}}],o=[{key:"getUrlWithHash",value:function(t){return((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||window.location.href).split("#")[0]+"#"+t}}],r&&rt(n.prototype,r),o&&rt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W);function dt(t){if("true"===t.currentTarget.getAttribute("data-scrollto")){var e=null,n=t.currentTarget.getAttribute("href"),r=n.indexOf("#");if(0===r)e=n.substring(1);else if(r>0){var o=n.split("#");Q(location.pathname)===Q(o[0])&&(e=o[1]||"")}var i=document.getElementById(e);!this.config.autoTop||i||""!==e&&"top"!==e||(i=document.body),i?(this.scrollTo(i),t.preventDefault()):this.debug&&this.debug.warn(this.constructor.name+"::event_scrollToClick No valid target for: ",e,t.currentTarget)}}function ht(){var t=this,e=window.location.hash;e&&e.length>1&&(this.initial=document.getElementById(e.substring(1)),this.initial&&history.replaceState(null,document.title,this.constructor.getUrlWithHash("s2:"+e.substring(1)))),"ready"===this.config.initial?q((function(){st(ft,t,vt).call(t,e)})):this.config.initial instanceof Array?st(ft,this,yt).call(this,et(this.config.initial)):"number"==typeof this.config.initial?window.setTimeout((function(){st(ft,t,vt).call(t,e)}),this.config.initial):st(ft,this,vt).call(this,e)}function yt(t,e){var n=this,r=e.shift();if("function"!=typeof r.addEventListener)throw new Error(this.constructor.name+"::capture() First initial argument must be an event target");if("string"!=typeof e[0]||!e[0].length)throw new Error(this.constructor.name+"::capture() Second initial argument must be an event name");if("function"!=typeof e[1])throw new Error(this.constructor.name+"::capture() Thrid initial argument must be an event handler");var o=e[1];e[1]=function(e){o(e,t,(function(){st(ft,n,mt).call(n,t)}))},void 0===e[2]&&(e[2]={once:!0}),r.addEventListener.apply(r,et(e))}function vt(t){var e=this;this.initial instanceof HTMLElement&&this.scrollTo(this.initial,(function(){st(ft,e,mt).call(e,t)}))}function mt(t){history.replaceState(null,document.title,this.constructor.getUrlWithHash(t.substring(1))),this.dispatchEvent("scroll.initial.complete",{initial:this.initial})}function bt(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"-"+(performance.now()+"").replace(/\./g,"-"):"";return Math.random().toString(36).substring(2,12)+t}function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function Et(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Ot(t,e){return t.get(At(t,e))}function wt(t,e,n){return t.set(At(t,e),n),n}function At(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lt(r.key),r)}}function Tt(t,e,n){return e&&St(t.prototype,e),n&&St(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lt(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gt(e)?e:e+""}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e,n){return e=Rt(e),function(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nt()?Reflect.construct(e,n||[],Rt(t).constructor):e.apply(t,n))}function Nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nt=function(){return!!t})()}function Rt(t){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rt(t)}function Pt(t,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pt(t,e)}var kt=function(t){function e(){return It(this,e),Ct(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}(e,t),Tt(e)}(y),_t=new WeakMap,xt=new WeakMap,jt=new WeakMap,Mt=function(){return Tt((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(It(this,t),Et(this,_t,void 0),Et(this,xt,void 0),Et(this,jt,void 0),"string"!=typeof e)throw new kt("First argument prefix, must be of type string");wt(jt,this,e),wt(_t,this,n),wt(xt,this,t.available())}),[{key:"prefix",get:function(){return Ot(jt,this)},set:function(t){if("string"!=typeof t)throw new kt("Property prefix, must be of type string");wt(jt,this,t)}},{key:"get",value:function(t){var e;if("string"!=typeof t)throw new kt("First argument key, must be of type string");var n="".concat(Ot(jt,this)).concat(t);return Ot(xt,this)?localStorage.getItem(n):null!==(e=Ot(_t,this)[n])&&void 0!==e?e:null}},{key:"set",value:function(t,e){if("string"!=typeof t)throw new kt("First argument key, must be of type string");if("string"!=typeof e)throw new kt("Second argument value, must be of type string");var n="".concat(Ot(jt,this)).concat(t);Ot(xt,this)?localStorage.setItem(n,e):Ot(_t,this)[n]=e}},{key:"remove",value:function(t){var e="".concat(Ot(jt,this)).concat(t);Ot(xt,this)?localStorage.removeItem(e):delete Ot(_t,this)[e]}},{key:"clear",value:function(){Ot(xt,this)?localStorage.clear():wt(_t,this,{})}}],[{key:"available",value:function(){var t=bt();try{return localStorage.setItem(t,t),localStorage.getItem(t)===t&&(localStorage.removeItem(t),!0)}catch(t){return!1}}},{key:"getCurrentSize",value:function(){return new Promise((function(t){var e,n=0;for(e in localStorage)localStorage.hasOwnProperty(e)&&(n+=2*(localStorage[e].length+e.length));t(n)}))}},{key:"testMaxValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25e4,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise((function(n){var r,o,i="ls_max",a=parseInt(null!==(r=localStorage.getItem(i))&&void 0!==r?r:"0"),u="value_test",c=e;if(a>0)n(a);else{var l=localStorage.getItem(u);if(l&&l.length)localStorage.setItem(i,"".concat(l.length)),n(l.length);else try{for(;c<t;){var s;if(o="Ãœ".repeat(c),localStorage.setItem(u,o),(null===(s=localStorage.getItem(u))||void 0===s?void 0:s.length)!==o.length)throw c-=e,new kt("Value size test miss match");c+=e}}catch(t){}}n(c)}))}},{key:"testMaxClean",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];localStorage.removeItem("value_test"),t&&localStorage.removeItem("ls_max")}}])}();function Dt(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bt(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(t instanceof Array||t instanceof NodeList))throw new Error("bindNodeList() First argument elements must be a NodeList or an Array of HTMLElement");if(!(e instanceof Array))throw new Error("bindNodeList() Second argument events must be an Array of addEventListener arguments");for(var o=0;o<t.length;o++)for(var i=0;i<e.length;i++){var a;if(!(e[i]instanceof Array&&e[i].length>1))throw new Error("bindNodeList() Second argument events array must only contain Arrays of addEventListener arguments");(a=t[o])[(r?"remove":"add")+"EventListener"].apply(a,function(t){if(Array.isArray(t))return Ht(t)}(n=e[i])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return Ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Gt(){Gt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Ft(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ft(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Wt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("textarea");n.value=t,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(t){e&&e.error("Failed to copy to clipboard",t)}document.body.removeChild(n)}function Yt(t){return Kt.apply(this,arguments)}function Kt(){var t;return t=Gt().mark((function t(e){var n,r=arguments;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:null,navigator.clipboard){t.next=4;break}return Ut(e,n),t.abrupt("return",null);case 4:return t.prev=4,t.next=7,navigator.clipboard.writeText(e);case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(4),n&&n.error("Failed to copy to clipboard",t.t0),t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,null,[[4,9]])})),Kt=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Wt(i,r,o,a,u,"next",t)}function u(t){Wt(i,r,o,a,u,"throw",t)}a(void 0)}))},Kt.apply(this,arguments)}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e="number"==typeof e?e:350;var r=0;return function(){for(var o,i=!1,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];n&&(i=n.apply(void 0,u)),r&&(window.clearTimeout(r),r=0),i||(r=(o=window).setTimeout.apply(o,[t,e].concat(u)))}}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n=n||['a:not([data-focus="no-auto"])','button:not(:disabled):not([data-focus="no-auto"])','input:not(:disabled):not([type="hidden"]):not([data-focus="no-auto"])','select:not(:disabled):not([data-focus="no-auto"])','textarea:not(:disabled):not([data-focus="no-auto"])','[tabindex]:not([tabindex="-1"]):not(:disabled):not([data-focus="no-auto"])'].join(", ");var r,o=function(t){if(Array.isArray(t))return qt(t)}(r=t.querySelectorAll(n))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return o.length?!0===e?o.pop():o.shift():null}function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Xt(t){return t==parseInt(t)?parseInt(t):t}function Zt(t,e,n){var r,o,i,a,u,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,f=t.split("."),p=[],d=n;for(r=0;r<f.length;r++)if(o=Xt(f[r]),p.push(o),i=Object.prototype.hasOwnProperty.call(d,o)?Jt(d[o]):"undefined",l||"object"!==i||m(d[o])||d[o]instanceof Array||(i="value"),a=(u=r+1===f.length)?null:Xt(f[r+1]),"undefined"!==i||u||(d[o]="number"==typeof a?[]:{},i="object"),u){if(!c&&"undefined"!==i&&null!==d[o])return s&&s.warn('strCreate : already defined "'+t+'" ['+i+"]"),n;d[o]=e}else if("object"===i)d=d[o];else{if(!c||u)return s&&s.warn('strCreate : partially defined "'+t+'" as "'+p.join(".")+'" ['+i+"]"),n;d[o]="number"==typeof a?[]:{},d=d[o]}return n}function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Qt(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("object"!==$t(e)||null===e)return r&&r.error("strAccess : invalid subject input : ",e),null;var o,i,a,u=t.split("."),c=[],l=e;for(o=0;o<u.length;o++){if(a=u[o],c.push(a),i=1===n||Object.prototype.hasOwnProperty.call(l,a)?$t(l[a]):"undefined",null===l[a]&&(i="undefined"),"undefined"===i)return n?(r&&r.warn('strAccess : no exact match for "'+t+'" found "'+c.join(".")+'" ['+i+"]"),null):l;if(o===u.length-1)return l[a];if("object"!==i)return n?(r&&r.warn('strAccess : no exact match for "'+t+'" found "'+c.join(".")+'" ['+i+"]"),null):l;l=l[a]}}function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ne(t,e){return t.get(oe(t,e))}function re(t,e,n){return t.set(oe(t,e),n),n}function oe(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ue(r.key),r)}}function ae(t,e,n){return e&&ie(t.prototype,e),n&&ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ue(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==te(e)?e:e+""}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e,n){return e=fe(e),function(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,se()?Reflect.construct(e,n||[],fe(t).constructor):e.apply(t,n))}function se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(se=function(){return!!t})()}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pe(t,e)}var de=function(t){function e(){return ce(this,e),le(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(e,t),ae(e)}(y),he=new WeakMap,ye=new WeakMap,ve=function(){return ae((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(ce(this,t),ee(this,he,{}),ee(this,ye,{}),!m(e))throw new de("Argument defaults must be a plain Object");if(re(he,this,e),!(n instanceof Array))throw new de("Argument extended must be an Array");var r=this.constructor.extendInheritance(n);r&&this.constructor.merge(r,ne(he,this),!0),re(ye,this,this.constructor.clone(ne(he,this)))}),[{key:"defaults",get:function(){return this.constructor.clone(ne(he,this))}},{key:"data",get:function(){return this.constructor.clone(ne(ye,this))}},{key:"exposed",get:function(){return ne(ye,this)}},{key:"get",value:function(t){return Qt(t,ne(ye,this))}},{key:"set",value:function(t,e){Zt(t,e,ne(ye,this),!0)}},{key:"merge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!m(t))throw new de("Argument data must be a plain Object");this.constructor.merge(t,ne(ye,this),e)}}],[{key:"clone",value:function(t){return g(t,!0)}},{key:"merge",value:function(t,e){Z(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],!0,!0)}},{key:"extendInheritance",value:function(t){if(!t.length)return null;for(var e=t.shift(),n=0;n<t.length;n++){if(!m(t[n]))throw new de("Argument extended must contain only plain Objects");this.merge(t[n],e,!0)}return e}}])}();function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function be(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ge(t,e){return t.get(Oe(t,e))}function Ee(t,e,n){return t.set(Oe(t,e),n),n}function Oe(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Se(r.key),r)}}function Ae(t,e,n){return e&&we(t.prototype,e),n&&we(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Se(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==me(e)?e:e+""}function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Le(t,e,n){return e=Ce(e),function(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ie()?Reflect.construct(e,n||[],Ce(t).constructor):e.apply(t,n))}function Ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ie=function(){return!!t})()}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Ne(t,e){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ne(t,e)}var Re=function(t){function e(){return Te(this,e),Le(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ne(t,e)}(e,t),Ae(e)}(y),Pe=new WeakMap,ke=new WeakMap,_e=function(){return Ae((function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Te(this,t),be(this,Pe,null),be(this,ke,null),e=this,(n=Se(n="options"))in e?Object.defineProperty(e,n,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[n]=null,Ee(Pe,this,i),Ee(ke,this,o),this.options=r}),[{key:"debug",get:function(){return ge(Pe,this)}},{key:"context",get:function(){return ge(ke,this)}},{key:"_context_check",value:function(t){if(t&&ge(ke,this)&&t!==ge(ke,this))throw new Re("Context mismatch")}}])}();function xe(t){return function(t){if(Array.isArray(t))return je(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return je(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function De(t,e,n){He(t,e),e.set(t,n)}function He(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Be(t,e){return t.get(Ge(t,e))}function Fe(t,e,n){return t.set(Ge(t,e),n),n}function Ge(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ye(r.key),r)}}function Ue(t,e,n){return e&&We(t.prototype,e),n&&We(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ye(t){var e=function(t,e){if("object"!=Me(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Me(e)?e:e+""}function Ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ze(t,e,n){return e=Ve(e),function(t,e){if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qe()?Reflect.construct(e,n||[],Ve(t).constructor):e.apply(t,n))}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qe=function(){return!!t})()}function Ve(t){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ve(t)}function Je(t,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Je(t,e)}var Xe=function(t){function e(){return Ke(this,e),ze(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Je(t,e)}(e,t),Ue(e)}(y),Ze=new WeakMap,$e=new WeakMap,Qe=new WeakMap,tn=new WeakSet,en=function(){return Ue((function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Ke(this,t),He(this,e=tn),e.add(this),De(this,Ze,null),De(this,$e,null),De(this,Qe,{}),function(t,e,n){(e=Ye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"append",!0),r&&"object"!==Me(r))throw new Xe("Argument context must be null or an Object");Fe(Ze,this,i),Fe($e,this,r),this.append=o,this.load(n)}),[{key:"debug",get:function(){return Be(Ze,this)}},{key:"context",get:function(){return Be($e,this)}},{key:"load",value:function(t){if(!(t instanceof Array))throw new Xe("Argument plugins must be an Array");Be(Ze,this)&&Be(Ze,this).group(Ge(tn,this,rn).call(this)+"load");for(var e=0;e<t.length;e++){var n=t[e];n instanceof Array||(n=[n]),this.init.apply(this,xe(n))}Be(Ze,this)&&Be(Ze,this).groupEnd()}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof t)throw new Xe("Argument Construct expected function but got: "+Me(t));var r=t.pluginName||t.name;if(!n&&Be(Qe,this)[r])throw new Xe("Plugin already defined: "+r);try{Be(Qe,this)[r]=new t(e,Be($e,this),Be(Ze,this))}catch(t){throw new Xe("Error initializing plugin: "+r,t)}return Be(Ze,this)&&Be(Ze,this).log(Ge(tn,this,rn).call(this)+"init",r),Be(Qe,this)[r]}},{key:"runAsync",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.run(t,e,n),o=Object.values(r),i=[],a=0;a<o.length;a++)"function"==typeof o[a].then&&i.push(o[a]);return i}},{key:"run",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Be(Ze,this)&&Be(Ze,this).group(Ge(tn,this,rn).call(this)+"run",t);for(var r={},o=Object.keys(Be(Qe,this)),i=0;i<o.length;i++)if(!n||!n.length||n.includes(o[i])){var a=this.exec(o[i],t,e);null!==a&&(r[o[i]]=a)}return Be(Ze,this)&&!Object.keys(r).length&&Be(Ze,this).log(Ge(tn,this,rn).call(this)+"run No results:",t,e,n),Be(Ze,this)&&Be(Ze,this).groupEnd(),r}},{key:"exec",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Be(Qe,this)[t]){if(r)return null;throw new Xe("Plugin not loaded: "+t)}n instanceof Array||(n=[n]),Be($e,this)&&null!==this.append&&(this.append?n[n.length-1]!==Be($e,this)&&n.push(Be($e,this)):n[0]!==Be($e,this)&&n.unshift(Be($e,this)));var o=null;if(Be(Qe,this)[t][e]){try{var i;o=(i=Be(Qe,this)[t])[e].apply(i,xe(n))}catch(n){throw new Xe('Plugin method "'+e+'" failed to run: '+t,n)}Be(Ze,this)&&Be(Ze,this).log(Ge(tn,this,rn).call(this)+"exec",t,e)}else Be(Ze,this)&&Be(Ze,this).log(Ge(tn,this,rn).call(this)+"exec Unknown method",e,"on plugin",t);return o}},{key:"get",value:function(t){return Be(Qe,this)[t]||null}},{key:"has",value:function(t){return!!Be(Qe,this)[t]}},{key:"require",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++){if(!this.has(n[o]))throw new Xe("Failed with unmet plugin requirement: "+n[o]);t.push(this.get(n[o]))}return t}}])}();function nn(){var t="unknown",e=null;return Be($e,this)&&(Be($e,this).constructor&&Be($e,this).constructor.name&&(t=Be($e,this).constructor.name),Be($e,this).type&&(t=Be($e,this).type),Be($e,this).name&&(t=Be($e,this).name),Be($e,this).dom&&Be($e,this).dom.id&&(e=Be($e,this).dom.id),Be($e,this).id&&(e=Be($e,this).id)),t+(e?"#"+e:"")}function rn(){return Ge(tn,this,nn).call(this)+"->"+this.constructor.name+"::"}function on(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;1024!==n&&1e3!==n&&(n=1024);var i={bytes:t<=0?0:t,unit:"bytes"};if(i.value=i.bytes,i.bytes<=0)return r?i:"0 bytes";var a=1e3===n?["bytes","kb","mb","gb","tb","pb","eb","zb","yb"]:["bytes","kib","mib","gib","tib","pib","eib","zib","yib"],u="number"==typeof o?o:Math.floor(Math.log(i.bytes)/Math.log(n)),c=e<=0||"bytes"===a[u]?0:e;return i.value=(i.bytes/Math.pow(n,u)).toFixed(c),i.unit=a[u],r?i:i.value+" "+i.unit}function an(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e=Math.pow(10,e),Math.round(t*e)/e}function un(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,(function(t){return e[t]}))}function cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!n)return null;var r="rgb",o=[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)];return null!==e&&(r+="a",o.push(e>1?e/100:e)),"".concat(r,"(").concat(o.join(","),")")}function ln(t){return t.replace(/^[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}function sn(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=t.trim()).length){var n=document.createElement("template");if("content"in n)return n.innerHTML=t,e?n.content.childNodes:n.content.firstChild}return null}function fn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}function dn(t){if(void 0===t||!t)return!0;switch(pn(t)){case"string":return!t.length;case"object":return!(t instanceof Date||(t instanceof Array?t.length:m(t)?Object.keys(t).length:void 0===t.length||t.length))}return!1}function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function yn(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function vn(t,e){return t.get(bn(t,e))}function mn(t,e,n){return t.set(bn(t,e),n),n}function bn(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,On(r.key),r)}}function En(t,e,n){return e&&gn(t.prototype,e),n&&gn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function On(t){var e=function(t,e){if("object"!=hn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==hn(e)?e:e+""}function wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function An(t,e,n){return e=Tn(e),function(t,e){if(e&&("object"===hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Sn()?Reflect.construct(e,n||[],Tn(t).constructor):e.apply(t,n))}function Sn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Sn=function(){return!!t})()}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(t,e)}var In=function(t){function e(){return wn(this,e),An(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}(e,t),En(e)}(y),Cn=new WeakMap,Nn=new WeakMap,Rn=new WeakMap,Pn=new WeakMap,kn=new WeakMap,_n=function(){return En((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(wn(this,t),yn(this,Cn,null),yn(this,Nn,null),yn(this,Rn,{}),yn(this,Pn,null),yn(this,kn,"data-state"),mn(Cn,this,e),null!==n&&!m(n))throw new In("Argument states must be null or a plain Object");null===n&&(n={initialized:{classOn:"initialized"}}),mn(Nn,this,n)}),[{key:"global",get:function(){return vn(Pn,this)}},{key:"exposed",get:function(){return vn(Nn,this)}},{key:"extend",value:function(t){Z(vn(Nn,this),t,!0,!0,!0,!1)}},{key:"is",value:function(t){return!!vn(Rn,this)[t]}},{key:"has",value:function(t){return!!vn(Nn,this)[t]}},{key:"get",value:function(t){var e=vn(Nn,this)[t];if(!e)throw new In("Unknown state: "+t);return e}},{key:"set",value:function(t){var e=this.get(t),n=!0===e||!1!==e.global,r=!1,o=null,i=vn(Pn,this);if(n){if(t===i)return;r=!0,o=t}if(!0!==e){if(e.unsets instanceof Array)for(var a=0;a<e.unsets.length;a++)this.unset(e.unsets[a]);e.classOn&&vn(Cn,this).dom.classList.add(e.classOn),e.classOff&&vn(Cn,this).dom.classList.remove(e.classOff)}n&&(vn(Cn,this).dom.setAttribute(vn(kn,this),t),mn(Pn,this,t)),vn(Rn,this)[t]=!0,r?vn(Cn,this).dispatchEvent("state.changed",{from:i,to:o}):vn(Cn,this).dispatchEvent("state.set",{set:t})}},{key:"unset",value:function(t){if(vn(Rn,this)[t]){var e=this.get(t),n=!0===e||!1!==e.global;!0!==e&&(e.classOn&&vn(Cn,this).dom.classList.remove(e.classOn),e.classOff&&vn(Cn,this).dom.classList.add(e.classOff)),n&&(vn(Cn,this).dom.setAttribute(vn(kn,this),"null"),mn(Pn,this,null)),vn(Rn,this)[t]=!1,vn(Cn,this).dispatchEvent("state.unset",{unset:t})}}}])}();function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function jn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||Dn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(t){return function(t){if(Array.isArray(t))return Hn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Dn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(t,e){if(t){if("string"==typeof t)return Hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hn(t,e):void 0}}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bn(t,e,n){Fn(t,e),e.set(t,n)}function Fn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gn(t,e){return t.get(Un(t,e))}function Wn(t,e,n){return t.set(Un(t,e),n),n}function Un(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zn(r.key),r)}}function Kn(t,e,n){return e&&Yn(t.prototype,e),n&&Yn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zn(t){var e=function(t,e){if("object"!=xn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xn(e)?e:e+""}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vn(t,e,n){return e=Xn(e),function(t,e){if(e&&("object"===xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jn()?Reflect.construct(e,n||[],Xn(t).constructor):e.apply(t,n))}function Jn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jn=function(){return!!t})()}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xn(t)}function Zn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}var Qn=function(t){function e(){return qn(this,e),Vn(this,e,arguments)}return Zn(e,t),Kn(e)}(y),tr=new WeakMap,er=new WeakMap,nr=new WeakMap,rr=new WeakMap,or=new WeakMap,ir=new WeakMap,ar=new WeakMap,ur=new WeakSet,cr=function(t){function e(t){var n,r,o,i,a,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];if(qn(this,e),Fn(a=i=Vn(this,e,[t,d,h]),u=ur),u.add(a),Bn(i,tr,null),Bn(i,er,null),Bn(i,nr,null),Bn(i,rr,null),Bn(i,or,!1),Bn(i,ir,[]),Bn(i,ar,!1),h&&window.console.warn("UiComponent.constructor >",i.constructor.name,{element:t,settings:c,defaults:l,extend:s,states:f,plugins:p,parent:d,debug:h,init:y}),!(t instanceof HTMLElement))throw new Qn("Argument element must be a HTMLElement");Wn(tr,i,t),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.id||function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||"";do{t=e+bt(n)}while(document.getElementById(t));return t}(e,n);t.id=r}(t,i.constructor.name.toLowerCase()+"-",!0),Un(ur,i,sr).call(i),s=s||[],Wn(rr,i,p?new en(p,i,!0,h):null),null===(n=Gn(rr,i))||void 0===n||n.run("extendDefaultConfig",[s]),Wn(er,i,new ve(l||{eventPrefix:null},s)),Un(ur,i,pr).call(i),Un(ur,i,lr).call(i),null===(r=Gn(rr,i))||void 0===r||r.run("applyConfig",[i.config]);var v=!1;return c&&!0===c.__forceExtend&&(v=!0,delete c.__forceExtend),m(c)&&i.config.merge(c,v),Wn(nr,i,new _n(i,f||{})),null===(o=Gn(rr,i))||void 0===o||o.run("extendAvailableStates",[Gn(nr,i)]),y&&i.init(),i}return Zn(e,t),Kn(e,[{key:"type",get:function(){return this.constructor.name}},{key:"dom",get:function(){return Gn(tr,this)}},{key:"config",get:function(){return Gn(er,this)}},{key:"states",get:function(){return Gn(nr,this)}},{key:"plugins",get:function(){return Gn(rr,this)}},{key:"children",get:function(){return Mn(Gn(ir,this))}},{key:"init",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Gn(or,this))throw new Qn("Component already initialized");Wn(or,this,!0),null===(t=Gn(rr,this))||void 0===t||t.run("initComponent"),Gn(nr,this).set("initialized"),window.setTimeout((function(){e.dispatchEvent((e.config.get("eventPrefix")||"")+"initialized"),n&&n(e)}),1)}},{key:"_initChildren",value:function(){if(Gn(ar,this))throw new Qn("Component children already initialized");Wn(ar,this,!0);var t=Gn(er,this).get("children");if(t&&m(t)){var e=Object.entries(t);e.length&&this.debug&&this.debug.group(this.constructor.name+"::_initChildren",e);for(var n=0;n<e.length;n++){var r=jn(e[n],2),o=r[0],i=r[1],a=i instanceof Array?i:[i];try{var u;Wn(ir,this,Gn(ir,this).concat((u=Un(ur,this,fr)).call.apply(u,[this].concat(Mn(a)))))}catch(t){throw new Qn("Failed to initialize child type: "+o,t)}}e.length&&this.debug&&this.debug.groupEnd(),this.dispatchEvent((this.config.get("eventPrefix")||"")+"children.initialized")}}},{key:"eachChild",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"==typeof t)e=t,t=null;else if("function"!=typeof e)throw new Qn("Argument callback must be a Function");for(var n=0,r=0;r<Gn(ir,this).length;r++){var o=Gn(ir,this)[r];if(!t||t===o.type||t instanceof Array&&t.includes(o.type)){if(!0===e(o,n,r))break;n++}}}},{key:"getConfigFromAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["id","class","type","state","config"];if(Gn(tr,this).hasAttributes()){for(var e={},n=Gn(tr,this).attributes,r=0;r<n.length;r++){var o=this.constructor.configDotNameFromAttr(n[r].name),i=this.constructor.configValueFromAttr(n[r].value);t.includes(o)||Zt(o,i,e,!0,!0,this.debug);var a=this.constructor.configCamelNameFromDot(o);t.includes(a)||Zt(a,i,e,!0,!0,this.debug)}return e}return null}},{key:"getDomRefs",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.get("dom."+t);if(!t||!t.length||!n)return e?[]:null;var r="querySelector"+(e?"All":"");return Gn(tr,this)[r](n)}},{key:"requireDomRefs",value:function(t){for(var e=0;e<t.length;e++){var n=jn(t[e],2),r=n[0],o=n[1],i=this.getDomRefs(r,o);if(!i||o&&!i.length)throw new Qn("Component requires a dom reference for: "+r)}}},{key:"event_state",value:function(t,e){if(!t||"string"!=typeof t.type||!t.type.length)throw new Qn("No valid event type available");var n=t.type;"string"!=typeof e&&(e=this.config.get("eventPrefix")),e&&e.length&&n.substring(0,e.length)===e&&(n=n.substring(e.length)),this.states.set(n)}}],[{key:"configValueFromAttr",value:function(t){if("string"==typeof t)if(t.length){if("true"===t.toLowerCase())t=!0;else if("false"===t.toLowerCase())t=!1;else if(/^[0-9]+$/.test(t))t=parseInt(t);else if(/^[0-9]*\.[0-9]+$/.test(t))t=parseFloat(t);else if("["===t[0]||"{"===t[0])try{t=JSON.parse(t)}catch(e){return t}}else t=!0;return t}},{key:"configDotNameFromAttr",value:function(t){return"data."===(t=t.replace(/-/g,".")).substr(0,5)&&(t=t.substr(5)),t}},{key:"configCamelNameFromDot",value:function(t){return t.toLowerCase().replace(/\.(.)/g,(function(t,e){return e.toUpperCase()}))}},{key:"make",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!(t instanceof HTMLElement))throw new Qn("Argument element must be a HTMLElement");if(i=i||this,null===o){var a=t.getAttribute("debug")||t.getAttribute("data-debug");!0===i.configValueFromAttr(a)&&(o=console)}else!0===o&&(o=console);return o&&window.console.warn("UiComponent.make",i.name,{element:t,settings:e,plugins:n,parent:r,debug:o,Construct:i}),new i(t,e,null,null,null,n,r,o,!0)}},{key:"makeAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;i=i||this,o&&window.console.warn("UiComponent.makeAll",i.name,{settings:t,plugins:e,parent:n,context:r,debug:o,Construct:i});for(var a=[],u=r.querySelectorAll(i.selector),c=0;c<u.length;c++)a.push(i.make(u[c],t,e,n,o,i));return a}},{key:"selector",get:function(){return'[is="ui-component"]:not([data-state])'}}])}(W);function lr(){var t=function(t,e){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.getAttribute(t);if("string"!=typeof o||!o.length)return null;try{n=JSON.parse(o)}catch(t){if(!r)throw t;return null}return n}("data-config",Gn(tr,this));t&&(this.config.merge(t),this.debug&&this.debug.log(this.constructor.name+"::loadElementConfig",t))}function sr(){Gn(tr,this).setAttribute("data-ui",this.constructor.name)}function fr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("function"!=typeof t)throw new Qn("Argument Construct must be a Function");return t.makeAll(e,n,this,Gn(tr,this),this.debug,t)}function pr(){var t=this.getConfigFromAttributes();t&&(this.config.merge(t),this.debug&&this.debug.log(this.constructor.name+"::getConfigFromAttributes",t))}function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function hr(t,e,n){return(e=br(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,br(r.key),r)}}function mr(t,e,n){return e&&vr(t.prototype,e),n&&vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function br(t){var e=function(t,e){if("object"!=dr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dr(e)?e:e+""}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Er(t,e,n){return e=wr(e),function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Or()?Reflect.construct(e,n||[],wr(t).constructor):e.apply(t,n))}function Or(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Or=function(){return!!t})()}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}function Ar(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sr(t,e)}function Sr(t,e){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sr(t,e)}var Tr=function(t){function e(){return gr(this,e),Er(this,e,arguments)}return Ar(e,t),mr(e)}(y),Lr=new WeakMap,Ir=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return gr(this,e),hr(t=Er(this,e,[n,r,o]),"extendConfig",null),hr(t,"extendStates",null),hr(t,"registerEvents",null),hr(t,"configOptions",!0),function(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}(t,Lr,!1),t}return Ar(e,t),mr(e,[{key:"extendDefaultConfig",value:function(t,e){if(this._context_check(e),this.extendConfig){if(!m(this.extendConfig))throw new Tr("Config extension, must be a plain Object");if(!Object.keys(this.extendConfig).length)throw new Tr("Config extension is empty");t.push(this.extendConfig)}}},{key:"extendAvailableStates",value:function(t,e){if(this._context_check(e),this.extendStates){if(!m(this.extendConfig))throw new Tr("States extension, must be a plain Object");if(!Object.keys(this.extendConfig).length)throw new Tr("States extension is empty");t.extend(this.extendStates)}}},{key:"applyConfig",value:function(t,e){if(this._context_check(e),this.configOptions)if(m(this.options)){var n={};n[this.constructor.pluginName||this.constructor.name]=this.options,t.merge(n)}else this.debug&&this.debug.error(this.constructor.name+"::applyConfig Invalid options type:",dr(this.options))}},{key:"initComponent",value:function(t){if(this,(e=Lr).get(yr(e,this)))throw new Tr("Plugin already initialized: "+this.constructor.name);var e;if(function(t,e,n){t.set(yr(t,e),!0)}(Lr,this),this._context_check(t),this.registerEvents){if(!(this.registerEvents instanceof Array))throw new Tr("Event register must be an Array");t.addEventList(this.registerEvents)}}}])}(_e);function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Nr(t){return function(t){if(Array.isArray(t))return Rr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pr(t,e,n){return(e=Hr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kr(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function _r(t,e,n){return t.set(jr(t,e),n),n}function xr(t,e){return t.get(jr(t,e))}function jr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hr(r.key),r)}}function Dr(t,e,n){return e&&Mr(t.prototype,e),n&&Mr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hr(t){var e=function(t,e){if("object"!=Cr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Cr(e)?e:e+""}function Br(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fr(t,e,n){return e=Wr(e),function(t,e){if(e&&("object"===Cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Gr()?Reflect.construct(e,n||[],Wr(t).constructor):e.apply(t,n))}function Gr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gr=function(){return!!t})()}function Wr(t){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wr(t)}function Ur(t,e){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ur(t,e)}var Yr=function(t){function e(){return Br(this,e),Fr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ur(t,e)}(e,t),Dr(e)}(y),Kr=new WeakMap,zr=new WeakMap,qr=function(){return Dr((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Br(this,t),kr(this,Kr,null),kr(this,zr,!0),Pr(this,"debug",null),Pr(this,"errorMessage",null),Pr(this,"_defaults",null),this.debug=n,e&&(this.data=e)}),[{key:"_render",value:function(t){throw this.debug&&this.debug.warn(this.constructor.name+"::_render",t),new Yr("Template requires a render method")}},{key:"_validate",value:function(t){throw this.debug&&this.debug.warn(this.constructor.name+"::_validate",t),new Yr("Template requires a validate method")}},{key:"extend",get:function(){return xr(zr,this)},set:function(t){if("boolean"!=typeof t)throw new Yr("Extend must be a boolean value");_r(zr,this,t)}},{key:"data",get:function(){return xr(Kr,this)},set:function(t){if(!m(t))throw new Yr("Cannot set invalid template data, must be a plain object");_r(Kr,this,t)}},{key:"_process_defaults",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(null==e?void 0:e.classes)||[];t.classes instanceof Array?r.push.apply(r,Nr(t.classes)):"string"==typeof t.classes&&r.push(t.classes);var o=(null==e?void 0:e.attributes)||[];return n&&t.id&&o.push('id="'.concat(t.id,'"')),t.attributes instanceof Array?o.push.apply(o,Nr(t.attributes)):"string"==typeof t.attributes&&o.push(t.attributes),{classes:r,attributes:o}}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!m(this._defaults))throw new Yr("Invalid template defaults data");if(t&&(this.data=t),!m(xr(Kr,this)))throw new Yr("Invalid template data, must be a plain object");var e={};return Z(e,this._defaults,!0,!0),Z(e,xr(Kr,this),xr(zr,this),!0),this._validate(e),this.debug&&this.debug.log(this.constructor.name+"::render",e),this._render(e)}},{key:"loop",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++)n.push(this.render(t));return e?n:n.join("")}},{key:"node",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t instanceof Array?this.loop(t):this.render(t);return e?sn(e):[]}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(t instanceof HTMLElement))throw new Yr("Requires a HTMLElement to append to");for(var n=this.node(e),r=0;r<n.length;r++)t.appendChild(n[r]);return n}},{key:"toString",value:function(){var t;try{t=this.render()}catch(e){this.debug&&this.debug.error(this.constructor.name+"::toString",e),t=this.errorMessage}return"string"!=typeof t&&(t="\x3c!-- render error: ".concat(this.constructor.name," with: ").concat(JSON.stringify(xr(Kr,this))," --\x3e")),t}}],[{key:"dom",value:function(t){var e=document.getElementById(t);if(!e)throw new Yr("Template not found: "+t);return e.innerHTML.trim()}}])}();function Vr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Jr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function Zr(t,e,n){return(e=to(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,to(r.key),r)}}function Qr(t,e,n){return e&&$r(t.prototype,e),n&&$r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function to(t){var e=function(t,e){if("object"!=Xr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xr(e)?e:e+""}function eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function no(t,e,n){return e=oo(e),function(t,e){if(e&&("object"===Xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ro()?Reflect.construct(e,n||[],oo(t).constructor):e.apply(t,n))}function ro(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ro=function(){return!!t})()}function oo(t){return oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oo(t)}function io(t,e){return io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},io(t,e)}var ao=function(t){function e(){return eo(this,e),no(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&io(t,e)}(e,t),Qr(e)}(y),uo=function(){return Qr((function t(){eo(this,t)}),null,[{key:"isRenderData",value:function(t){return m(t)&&"string"==typeof t.template&&m(t.data)}},{key:"add",value:function(t,e){if("object"!==Xr(e))throw new ao("Must be a template object: "+t);if(this.tmpl[t])throw new ao("Template already defined: "+t);this.tmpl[t]=e}},{key:"require",value:function(t,e){try{this.add(t,e)}catch(t){if("object"!==Xr(e))throw t}}},{key:"get",value:function(t){if(this.tmpl&&this.tmpl[t])return this.tmpl[t];throw new ao("Unknown template: "+t)}},{key:"as",value:function(t,e){for(var n={},r=Object.entries(t),o=0;o<r.length;o++){var i=Vr(r[o],2),a=i[0],u=i[1];Zt(a,this.recursive(u,e+"."+a),n,!0,!1,this.debug)}return n}},{key:"data",value:function(t,e){var n=this.get(t.template);if(this.debug&&this.debug.log(this.name+"::data template:",t.template,"["+e+"]"),m(t.as)){var r=this.as(t.as,e+".as");this.debug&&this.debug.log(this.name+"::data as:",r,"["+e+"]"),Z(t.data,r,!0,!0)}return n.render(t.data)}},{key:"recursive",value:function(t,e){var n=Xr(t);if("string"===n)return t;if("function"===n){var r;try{r=t(e)}catch(t){throw new ao("Failed to render custom callback ["+e+"]",t)}if("string"!=typeof r)throw new ao("A custom callback must always return a string ["+e+"]");return r}if(t instanceof Array){for(var o=[],i=0;i<t.length;i++)o.push(this.recursive(t[i],e+"[".concat(i,"]")));return o[0]===this.keepMarker?(o.shift(),o):o.join("")}if(this.isRenderData(t))return this.data(t,e);if(m(t)&&!0===t[this.keepMarker])return t;if("function"==typeof t.toString)return t.toString();throw this.debug&&this.debug.error(this.name+"::render",t),new ao("Unknown data type: "+Xr(t)+" ["+e+"]")}},{key:"render",value:function(t){this.debug&&this.debug.groupCollapsed(this.name+"::render");var e=this.recursive(t,"data");return this.debug&&this.debug.groupEnd(),e}},{key:"node",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.render(t);return e?sn(e):[]}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(t instanceof HTMLElement))throw new UiTemplateException("Requires a HTMLElement to append to");for(var n=this.node(e),r=0;r<n.length;r++)t.appendChild(n[r]);return n}}])}();function co(t){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(t)}function lo(t){return function(t){if(Array.isArray(t))return so(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return so(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fo(t,e,n){po(t,e),e.set(t,n)}function po(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ho(t,e){return t.get(vo(t,e))}function yo(t,e,n){return t.set(vo(t,e),n),n}function vo(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,go(r.key),r)}}function bo(t,e,n){return e&&mo(t.prototype,e),n&&mo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function go(t){var e=function(t,e){if("object"!=co(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==co(e)?e:e+""}function Eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oo(t,e,n){return e=Ao(e),function(t,e){if(e&&("object"===co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wo()?Reflect.construct(e,n||[],Ao(t).constructor):e.apply(t,n))}function wo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wo=function(){return!!t})()}function Ao(t){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(t)}function So(t,e){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},So(t,e)}Zr(uo,"debug",null),Zr(uo,"tmpl",{}),Zr(uo,"keepMarker","__keep__");var To=function(t){function e(){return Eo(this,e),Oo(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&So(t,e)}(e,t),bo(e)}(y),Lo=new WeakMap,Io=new WeakMap,Co=new WeakMap,No=new WeakMap,Ro=new WeakSet,Po=function(){return bo((function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Eo(this,t),po(this,n=Ro),n.add(this),fo(this,Lo,null),fo(this,Io,null),fo(this,Co,!1),fo(this,No,!0),yo(Lo,this,o),!(e instanceof HTMLElement))throw new To("Argument form must be an instance of HTMLElement");yo(Io,this,e),this.includeDisabled=r}),[{key:"debug",get:function(){return ho(Lo,this)}},{key:"form",get:function(){return ho(Io,this)}},{key:"setAsDefault",get:function(){return ho(No,this)},set:function(t){yo(No,this,!!t)}},{key:"includeDisabled",get:function(){return ho(Co,this)},set:function(t){yo(Co,this,!!t)}},{key:"get",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input, select, textarea",n={},r=ho(Io,this).querySelectorAll(e),o=0;o<r.length;o++){var i=r[o],a="get_"+i.tagName.toLowerCase()+"_value";if((ho(Co,this)||!ho(Co,this)&&!i.disabled)&&this[a]){var u=this[a](i);if(null!==u){var c=this.constructor.input_info(i.name,u);if(t)n[c.name]?n[c.name]instanceof Array&&c.value instanceof Array&&(n[c.name]=n[c.name].concat(c.value)):n[c.name]=c.value;else{var l=Qt(c.name,n,!0);null!==l?l instanceof Array&&c.value instanceof Array&&Zt(c.name,l.concat(c.value),n,!0):Zt(c.name,c.value,n)}}}}return n}},{key:"set",value:function(t){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=this.constructor.convert_from_flat(t)),vo(Ro,this,ko).call(this,t,[],null,!1,e)}},{key:"inputs",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return Zt(t,!0,n),vo(Ro,this,ko).call(this,n,[],null,!0,e)||[]}},{key:"fieldname",value:function(t){if(!t||"string"!=typeof t.name||!t.name.length)throw new To("Argument input must be a HTMLElement with a name property");var e=t.name;if((e=e.replace(/\[/g,".").replace(/]/g,"")).includes("..")){if(t.hasAttribute("data-fieldname")&&(e=t.getAttribute("data-fieldname"))&&e.length)return e;throw new To("Complex fields require a data-fieldname attribute")}if("."===e[e.length-1]){e=e.substr(0,e.length-1);for(var n='[name^="'+t.name.substr(0,t.name.length-2)+'"]',r=ho(Io,this).querySelectorAll(n),o=0;o<r.length;o++)if(r[o]===t){e+="."+o;break}}return e}},{key:"get_input_value",value:function(t){if(ho(Co,this)||!t.disabled){var e=t.value;switch(t.type){case"checkbox":case"radio":return"string"==typeof e&&"on"!==e.toLowerCase()&&(e.length||t.hasAttribute("value"))||(e=!0),t.checked?e:null;case"file":return t.files&&t.files.length?t.multiple?t.files:t.files[0]:null;case"number":return"".concat(e).length?parseFloat(e):null;default:return e}}return null}},{key:"get_select_value",value:function(t){if(ho(Co,this)||!t.disabled){for(var e=[],n=0;n<t.options.length;n++){var r=t.options[n];!ho(Co,this)&&r.disabled||r.selected&&e.push(r.hasAttribute("value")?r.value:r.innerText)}return t.multiple?e:e.shift()}return null}},{key:"get_textarea_value",value:function(t){return ho(Co,this)||!t.disabled?t.value:null}}],[{key:"input_info",value:function(t,e){return"."===(t=t.replace(/\[/g,".").replace(/]/g,""))[t.length-1]&&(t=t.substr(0,t.length-1),e instanceof Array||(e=[e])),{name:t,value:e}}},{key:"convert_from_flat",value:function(t){for(var e={},n=Object.keys(t),r=0;r<n.length;r++)Zt(n[r],t[n[r]],e);return e}}])}();function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(void 0===t)return null;if(t instanceof Array){var i=ho(Io,this).querySelectorAll('[name="'+n+'[]"]');if(i&&i.length){if(r){for(var a=[],u=0;u<i.length;u++)!0===t[u]&&a.push(i[u]);return a}vo(Ro,this,_o).call(this,i,t)}else if((i=ho(Io,this).querySelectorAll('[name="'+n+'"]'))&&1===i.length){if(r)return i;vo(Ro,this,_o).call(this,i,t)}else{for(var c=[],l=0;l<t.length;l++){var s=n+"["+l+"]",f=vo(Ro,this,ko).call(this,t[l],[].concat(lo(e),[l]),s,r,o);f&&f.length&&(c=c.concat(Array.prototype.slice.call(f)))}if(r)return c}}else if(m(t)){for(var p=[],d=Object.keys(t),h=0;h<d.length;h++){var y;y=null===n?d[h]:n+"["+d[h]+"]";var v=vo(Ro,this,ko).call(this,t[d[h]],[].concat(lo(e),[d[h]]),y,r,o);v&&v.length&&(p=p.concat(Array.prototype.slice.call(v)))}if(r)return p}else{var b=ho(Io,this).querySelectorAll('[name="'+n+'"]');if(b.length){if(r)return b;vo(Ro,this,_o).call(this,b,t)}else{if(o)throw new To("Undefined field: "+n);ho(Lo,this)&&ho(Lo,this).error(this.constructor.name+"::set_recursive Undefined field: "+n)}}return null}function _o(t,e){if(e instanceof Array&&1===t.length&&"select"===t[0].tagName.toLowerCase()){for(var n=0;n<t[0].options.length;n++){var r=e.includes(t[0].options[n].value);t[0].options[n].selected=r,ho(No,this)&&t[0].options[n][r?"setAttribute":"removeAttribute"]("selected","")}ho(Lo,this)&&ho(Lo,this).log(this.constructor.name+"::set_inputs_values > select.array.value",t[0],e)}else for(var o=0;o<t.length;o++)e instanceof Array?void 0!==e[o]&&("radio"===t[o].type||"checkbox"===t[o].type?vo(Ro,this,jo).call(this,t,e,o):(ho(No,this)?"textarea"===t[o].type?t[o].innerText=e:t[o].setAttribute("value",e):t[o].value=e,ho(Lo,this)&&ho(Lo,this).log(this.constructor.name+"::set_inputs_values > array.value",t[o],e))):"radio"===t[o].type||"checkbox"===t[o].type?vo(Ro,this,jo).call(this,t,e,o,!0):"select"===t[o].tagName.toLowerCase()?vo(Ro,this,xo).call(this,t,e,o):"file"===t[o].type?ho(Lo,this)&&ho(Lo,this).warn(this.constructor.name+"::set_inputs_values > file not settable",t[o],e):null!==e?(t[o].value=e,ho(No,this)&&("textarea"===t[o].type?t[o].innerHTML=e:t[o].setAttribute("value",e)),ho(Lo,this)&&ho(Lo,this).log(this.constructor.name+"::set_inputs_values > value",t[o],e)):ho(Lo,this)&&ho(Lo,this).warn(this.constructor.name+"::set_inputs_values > null",t[o],e)}function xo(t,e,n){for(var r=0;r<t[n].options.length;r++){var o=e===t[n].options[r].value;t[n].options[r].selected=o,ho(No,this)&&t[n].options[r][o?"setAttribute":"removeAttribute"]("selected","")}ho(Lo,this)&&ho(Lo,this).log(this.constructor.name+"::set_select_single_value > select.value",t[n],e)}function jo(t,e,n){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){var r=[];r[n]=e,e=r}if(t[n].hasAttribute("value")){var o=!1;t[n].value===e[n]||!0===e[n]||e[n]&&e[n].toLowerCase&&"on"===e[n].toLowerCase()?(ho(No,this)&&t[n].setAttribute("checked",""),t[n].checked=!0,o=!0):null!==e[n]&&!1!==e[n]||(ho(No,this)&&t[n].removeAttribute("checked"),t[n].checked=!1,o=!0),o&&ho(Lo,this)&&ho(Lo,this).log(this.constructor.name+"::set_radio_checkbox_value > value",t[n],t[n].checked)}else{var i=!1;!0===e[n]||e[n]&&e[n].toLowerCase&&"on"===e[n].toLowerCase()?(ho(No,this)&&t[n].setAttribute("checked",""),t[n].checked=!0,i=!0):null!==e[n]&&!1!==e[n]||(ho(No,this)&&t[n].removeAttribute("checked"),t[n].checked=!1,i=!0),i&&ho(Lo,this)&&ho(Lo,this).log(this.constructor.name+"::set_radio_checkbox_value",t[n],t[n].checked)}}function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Do(t){return function(t){if(Array.isArray(t))return Ho(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ho(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Go(r.key),r)}}function Fo(t,e,n){return e&&Bo(t.prototype,e),n&&Bo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Go(t){var e=function(t,e){if("object"!=Mo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mo(e)?e:e+""}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uo(t,e,n){return e=Ko(e),function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yo()?Reflect.construct(e,n||[],Ko(t).constructor):e.apply(t,n))}function Yo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yo=function(){return!!t})()}function Ko(t){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ko(t)}function zo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}var Vo=function(t){function e(){return Wo(this,e),Uo(this,e,arguments)}return zo(e,t),Fo(e)}(y),Jo=function(t){function e(){var t,n,r,o;Wo(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=t=Uo(this,e,[].concat(a)),o={legend:null,contentBefore:null,content:null,contentAfter:null,required:null,classes:[],attributes:[],wrapper:["ui-wrap","ui-wrap--fieldset"],rows:[],row_classes:["ui-wrap","ui-wrap--fieldset-row"]},(r=Go(r="_defaults"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return zo(e,t),Fo(e,[{key:"_validate",value:function(t){var e="string"==typeof t.contentBefore&&t.contentBefore.length,n="string"==typeof t.content&&t.content.length,r="string"==typeof t.contentAfter&&t.contentAfter.length,o=!!t.rows.length;if(!(e||n||r||o))throw new Vo("Requires content, before/after or rows")}},{key:"_render",value:function(t){var e,n,r,o=["ui-fieldset"];t.legend&&o.push("ui-fieldset--legend"),t.classes instanceof Array&&o.push.apply(o,Do(t.classes));var i=[];t.wrapper instanceof Array&&i.push.apply(i,Do(t.wrapper));var a=[];t.attributes instanceof Array&&a.push.apply(a,Do(t.attributes));var u=t.required;u&&(u='<div class="ui-fieldset__required"><p><em>'.concat(u,"</em></p></div>"));var c="div",l=[];if(t.rows.length){c="ul";var s=["ui-fieldset__row"];t.row_classes instanceof Array&&s.push.apply(s,Do(t.row_classes));for(var f=0;f<t.rows.length;f++)l.push('<li class="'.concat(s.join(" "),'">').concat(t.rows[f],"</li>"))}return'<fieldset class="'.concat(o.join(" "),'" ').concat(a.join(" "),">")+(t.legend?'<legend class="ui-fieldset__legend"><strong>'.concat(t.legend,"</strong></legend>"):"")+'<div class="ui-fieldset__content">'+"<".concat(c,' class="').concat(i.join(" "),'">')+(null!==(e=t.contentBefore)&&void 0!==e?e:"")+(null!==(n=t.content)&&void 0!==n?n:"")+(l.length?l.join(""):"")+(null!==(r=t.contentAfter)&&void 0!==r?r:"")+(u||"")+"</".concat(c,">")+"</div></fieldset>"}}])}(qr);function Xo(t){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(t)}function Zo(t){return function(t){if(Array.isArray(t))return $o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ei(r.key),r)}}function ti(t,e,n){return e&&Qo(t.prototype,e),n&&Qo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ei(t){var e=function(t,e){if("object"!=Xo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xo(e)?e:e+""}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ri(t,e,n){return e=ii(e),function(t,e){if(e&&("object"===Xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oi()?Reflect.construct(e,n||[],ii(t).constructor):e.apply(t,n))}function oi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oi=function(){return!!t})()}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(t)}function ai(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ui(t,e)}function ui(t,e){return ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ui(t,e)}var ci=function(t){function e(){return ni(this,e),ri(this,e,arguments)}return ai(e,t),ti(e)}(y),li=function(t){function e(){var t,n,r,o;ni(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=t=ri(this,e,[].concat(a)),o={id:null,url:"",method:"post",files:!1,content:null,classes:[],attributes:[],wrapper:[]},(r=ei(r="_defaults"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return ai(e,t),ti(e,[{key:"_validate",value:function(t){if("string"!=typeof t.content||!t.content.length)throw new ci("Requires content")}},{key:"_render",value:function(t){var e=["ui-form"];t.classes instanceof Array&&e.push.apply(e,Zo(t.classes));var n=["ui-wrap","ui-wrap--form"];t.wrapper instanceof Array&&n.push.apply(n,Zo(t.wrapper));var r=['action="'.concat(t.url,'"'),'method="'.concat(t.method,'"')];return t.id&&r.push('id="'.concat(t.id,'"')),t.files&&r.push('enctype="multipart/form-data"'),t.attributes instanceof Array&&r.push.apply(r,Zo(t.attributes)),'<form is="ui-form" class="'.concat(e.join(" "),'" ').concat(r.join(" "),">")+'<div class="'.concat(n.join(" "),'">').concat(t.content,"</div>")+"</form>"}}])}(qr);function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function fi(t){return function(t){if(Array.isArray(t))return pi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yi(r.key),r)}}function hi(t,e,n){return e&&di(t.prototype,e),n&&di(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yi(t){var e=function(t,e){if("object"!=si(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=si(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==si(e)?e:e+""}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mi(t,e,n){return e=gi(e),function(t,e){if(e&&("object"===si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bi()?Reflect.construct(e,n||[],gi(t).constructor):e.apply(t,n))}function bi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bi=function(){return!!t})()}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(t)}function Ei(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oi(t,e)}function Oi(t,e){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oi(t,e)}var wi=function(t){function e(){return vi(this,e),mi(this,e,arguments)}return Ei(e,t),hi(e)}(y),Ai=function(t){function e(){var t,n,r,o;vi(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=t=mi(this,e,[].concat(a)),o={id:null,name:null,type:"text",value:null,checked:!1,required:!1,maxlen:null,min:null,max:null,step:null,width:null,classes:[],attr:[],attributes:[],autocomplete:null,label:{tag:"strong",before:!0,text:null},before:null,after:null,prefix:null,suffix:null,error:{tag:"em"},options:null,pseudo:"",icon:null},(r=yi(r="_defaults"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return Ei(e,t),hi(e,[{key:"_validate",value:function(t){if("string"!=typeof t.name||!t.name.length)throw new wi("Requires a valid name");if("string"!=typeof t.type||!t.type.length)throw new wi("Requires a valid type")}},{key:"_render",value:function(t){var e=["ui-input"];["date","datetime","email","number","select","text"].includes(t.type)&&e.push("ui-input--default"),e.push("ui-input--".concat(t.type)),"checkbox"===t.type&&null===t.icon&&(t.icon="check"),t.required&&e.push("ui-input--required"),t.width&&e.push("ui-input--".concat(t.width)),t.classes instanceof Array&&e.push.apply(e,fi(t.classes));var n=[];t.attr instanceof Array&&n.push.apply(n,fi(t.attr));var r=[];t.id&&r.push('id="'.concat(t.id,'"')),["checkbox","radio"].includes(t.type)&&t.checked&&r.push("checked"),t.required&&r.push("required"),"number"==typeof t.maxlen&&r.push('maxlength="'.concat(t.maxlen,'"')),"number"==typeof t.min&&r.push('min="'.concat(t.min,'"')),"number"==typeof t.max&&r.push('max="'.concat(t.max,'"')),t.step&&r.push('step="'.concat(t.step,'"')),null===t.value||"boolean"==typeof t.value||["textarea","select"].includes(t.type)||r.push('value="'.concat(t.value,'"')),t.attributes instanceof Array&&r.push.apply(r,fi(t.attributes)),!t.icon||t.pseudo&&t.pseudo.length||(t.pseudo='<span class="ui-icon" data-icon="'.concat(t.icon,'"><span></span><span></span></span>'));var o="";if(t.autocomplete instanceof Array&&t.autocomplete.length){r.push('list="'.concat(t.id,'_autocomplete"')),r.push('autocomplete="off"'),o+='<datalist id="'.concat(t.id,'_autocomplete">');for(var i=0;i<t.autocomplete.length;i++){var a=t.autocomplete[i],u=void 0;a instanceof Array&&(u=a.pop(),a=a.pop()),o+="<option".concat(void 0!==u?' value="'.concat(u,'"'):"",">")+a+"</option>"}o+="</datalist>"}var c=t.label.text&&t.label.text.length?"<".concat(t.label.tag,' class="ui-input__label">').concat(t.label.text,"</").concat(t.label.tag,">"):"",l=t.error.tag&&t.error.tag.length?"<".concat(t.error.tag,' class="ui-input__error"></').concat(t.error.tag,">"):"";!t.before&&t.prefix&&(t.before='<span class="ui-input__prefix">'.concat(t.prefix,"</span>")),!t.after&&t.suffix&&(t.after='<span class="ui-input__suffix">'.concat(t.suffix,"</span>"));var s='<input type="'.concat(t.type,'" name="').concat(t.name,'" ').concat(r.join(" ")," />");switch(t.type){case"textarea":s='<textarea name="'.concat(t.name,'" ').concat(r.join(" "),">").concat(null===t.value?"":t.value,"</textarea>");break;case"select":if(s='<select name="'.concat(t.name,'" ').concat(r.join(" "),">"),"string"==typeof t.options)s+=t.options;else for(var f=0;f<t.options.length;f++){var p=t.options[f];m(p)||(p={value:p,label:fn(p)}),t.value===p.value&&(p.attributes||(p.attributes=""),p.attributes+=" selected"),s+='<option value="'.concat(null===p.value?"":p.value,'" ').concat(p.attributes||"",">").concat(p.label,"</option>")}s+="</select>",s+='<span class="ui-input__pseudo">'.concat(t.pseudo,"</span>");break;case"checkbox":case"radio":s+='<span class="ui-input__pseudo">'.concat(t.pseudo,"</span>")}return'<label class="'.concat(e.join(" "),'" ').concat(n.join(" "),">")+(t.label.before?c:"")+'<span class="ui-input__input">'+(t.before||"")+s+(t.after||"")+"</span>"+(t.label.before?"":c)+l+o+"</label>"}}])}(qr);function Si(t){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}function Ti(){return Ti="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ti.apply(this,arguments)}function Li(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ii(t,e){return t.get(Ni(t,e))}function Ci(t,e,n){return t.set(Ni(t,e),n),n}function Ni(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ki(r.key),r)}}function Pi(t,e,n){return e&&Ri(t.prototype,e),n&&Ri(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ki(t){var e=function(t,e){if("object"!=Si(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Si(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Si(e)?e:e+""}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xi(t,e,n){return e=Mi(e),function(t,e){if(e&&("object"===Si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ji()?Reflect.construct(e,n||[],Mi(t).constructor):e.apply(t,n))}function ji(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ji=function(){return!!t})()}function Mi(t){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(t)}function Di(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hi(t,e)}function Hi(t,e){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hi(t,e)}var Bi=function(t){function e(){return _i(this,e),xi(this,e,arguments)}return Di(e,t),Pi(e)}(y),Fi=new WeakMap,Gi=new WeakSet,Wi=function(t){function e(t){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return _i(this,e),Li(r=n=xi(this,e,[t,i,a=a||{eventPrefix:"modal.",context:document.documentElement,openInContextClass:"ui-modal-context--active",mode:"modal",availableModes:["modal"],modeClass:"ui-modal--",restrictFocus:!0,focusOnShown:!0,focusLast:!1,focusResetOnHidden:!0,easyHide:!0,animator:{show:null,hide:null,speed:null,vis:!0},dom:{native:"dialog",dialog:".ui-modal__dialog",focusable:null,title:".ui-modal__dialog-title",content:".ui-modal__dialog-content",close:'[data-modal="ctrl:close"]'}},u,c=c||{initialized:{classOn:"ui-modal--initialized"},closed:{classOn:"ui-modal--closed",unsets:["open"]},open:{classOn:"ui-modal--open",unsets:["closed"]},animating:{global:!1,classOn:"ui-modal--animating"}},l,s,f,p]),o=Gi),o.add(r),function(t,e,n){Li(t,e),e.set(t,null)}(n,Fi),n}return Di(e,t),Pi(e,[{key:"init",value:function(){var t=this;if(!W.isCompat(this.config.get("context")))throw new Bi("Option context must be an EventTarget compatible object");var n=this.getDomRefs("native",!1);n||(this.dom.setAttribute("role","dialog"),this.dom.setAttribute("aria-modal","true")),function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=null;document.addEventListener("keyup",(function(i){if((9===i.keyCode||"Tab"===i.key)&&function(t){return"function"==typeof t?!!t():!!t}(e))if(t.contains(document.activeElement))o=document.activeElement;else{var a;if(i.preventDefault(),n){var u=Vt(t,!1,r),c=Vt(t,!0,r);a=o===u?c:u}else a=Vt(t,i.shiftKey,r);a&&a.focus()}}))}(this.dom,(function(){return t.open&&t.config.get("restrictFocus")}),!0,this.config.get("dom.focusable")),this.bind(),this.config.get("animator.vis")&&(this.dom.style.display="none"),n&&n.removeAttribute("open"),(n||this.dom).setAttribute("aria-hidden","true"),this.states.set("closed");var r=this.config.get("openInContextClass");r&&this.config.get("context").classList.remove(r),Ti(Mi(e.prototype),"init",this).call(this,(function(){t.dom.classList.add(t.config.get("modeClass")+t.mode),t.dom.setAttribute("data-mode",t.mode)}))}},{key:"bind",value:function(){var t=this;this.addEventList([["click",function(){t._modeOptionActive("easyHide")&&t.hide()}],["modal.shown",function(){Ni(Gi,t,Ui).call(t)}]]),this.dialog.addEventListener("click",(function(e){t._modeOptionActive("easyHide")&&e.stopPropagation()})),document.addEventListener("keyup",(function(e){27!==e.keyCode&&"Escape"!==e.key||!t.open||t._modeOptionActive("easyHide")&&t.hide()})),Bt(this.getDomRefs("close"),[["click",function(e){e.preventDefault(),t.hide()}]])}},{key:"_modeOptionActive",value:function(t){var e=this.config.get(t);if(!0===e)return!0;if(e instanceof Array){if(e.includes("!"+this.mode))return!1;if(e.includes(this.mode))return!0;if(e.includes("all!"))return!0}return!1}},{key:"mode",get:function(){return this.config.get("mode")},set:function(t){var e=this.config.get("availableModes");if(!t||!e.includes(t))throw new Bi('Unknown mode "'+mode+'"');this.mode!==t&&(this.dom.classList.remove(this.config.get("modeClass")+this.mode),this.config.set("mode",t),this.dom.classList.add(this.config.get("modeClass")+t),this.dom.setAttribute("data-mode",t))}},{key:"open",get:function(){return"open"===this.states.global},set:function(t){if("boolean"!=typeof t)throw new Bi(this.constructor.name+".open must be of type boolean");this.open!==t&&(this.open?this.hide():this.show())}},{key:"animating",get:function(){return this.states.is("animating")}},{key:"dialog",get:function(){return this.getDomRefs("dialog",!1)}},{key:"title",get:function(){return this.getDomRefs("title",!1)}},{key:"content",get:function(){return this.getDomRefs("content",!1)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.open&&!this.states.is("animating")){if(Ci(Fi,this,e instanceof HTMLElement?e:document.activeElement||null),this.states.set("animating"),n&&!this.dispatchEvent((this.config.get("eventPrefix")||"")+"show",null,!0,!0))return void this.states.unset("animating");var r=this.config.get("animator.show");"function"!=typeof r&&(r=function(e){Ni(Gi,t,Yi).call(t,e)}),this.config.get("animator.vis")&&(this.dom.style.display=""),i((function(){var e=t.getDomRefs("native",!1);e&&e.setAttribute("open",""),(e||t.dom).setAttribute("aria-hidden","false"),t.states.set("open");var o=t.config.get("openInContextClass");o&&t.config.get("context").classList.add(o),r((function(){t.states.unset("animating"),n&&t.dispatchEvent((t.config.get("eventPrefix")||"")+"shown")}),t)}))}}},{key:"hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.open&&!this.states.is("animating")){if(this.states.set("animating"),e&&!this.dispatchEvent((this.config.get("eventPrefix")||"")+"hide",null,!0,!0))return void this.states.unset("animating");var n=this.config.get("animator.hide");"function"!=typeof n&&(n=function(e){Ni(Gi,t,Yi).call(t,e)});var r=this.getDomRefs("native",!1);r&&r.removeAttribute("open"),(r||this.dom).setAttribute("aria-hidden","true"),this.states.set("closed");var o=this.config.get("openInContextClass");o&&this.config.get("context").classList.remove(o),n((function(){t.states.unset("animating"),t.config.get("animator.vis")&&(t.dom.style.display="none"),Ii(Fi,t)&&t.config.get("focusResetOnHidden")&&Ii(Fi,t).focus(),e&&t.dispatchEvent((t.config.get("eventPrefix")||"")+"hidden"),Ci(Fi,t,null)}),this)}}}],[{key:"bindOpeners",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'[data-modal="ctrl:open"]',r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof Array))throw new Bi("Argument modals must be an Array of UiModalComponent instances");if("function"!=typeof e.querySelectorAll)throw new Bi("Argument context must supply a querySelectorAll method");var o=e.querySelectorAll(n);if(!(o instanceof NodeList||o instanceof Array))throw new Bi("Argument context.querySelectorAll must return a NodeList or Array");var i=function(t){for(var e=["data-modal-id","aria-controls","href","value"],n=0;n<e.length;n++)if(t.hasAttribute(e[n])){var r=t.getAttribute(e[n]);if(r)return $(r,"#")}return null};"function"!=typeof r&&(r=i);for(var a=function(){var e=o[u];e.addEventListener("click",(function(n){n.preventDefault();var o=r(e,i);if("string"!=typeof o||!o.length)throw new Bi("Failed to get target modal id on opener");for(var a=0;a<t.length;a++)if(t[a].dom.id===o)return void(t[a].open=!0);throw new Bi("Modal opener could not find the target modal for: "+o)}))},u=0;u<o.length;u++)a()}},{key:"selector",get:function(){return'[is="ui-modal"]:not([data-state])'}}])}(cr);function Ui(){if(this._modeOptionActive("focusOnShown")){var t=Vt(this.dom,this._modeOptionActive("focusLast"),this.config.get("dom.focusable"));t&&t.focus()}}function Yi(t){var e=this.config.get("animator.speed");e="number"==typeof e?e:300;var n=void 0!==this.dom.style.transition;n&&e&&this.dom.addEventListener("transitionend",t,{once:!0}),n&&e||window.setTimeout(t,e+1)}function Ki(t){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(t)}function zi(t){return function(t){if(Array.isArray(t))return qi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vi(t,e,n){return(e=Zi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zi(r.key),r)}}function Xi(t,e,n){return e&&Ji(t.prototype,e),n&&Ji(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zi(t){var e=function(t,e){if("object"!=Ki(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Ki(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ki(e)?e:e+""}function $i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e,n){return e=ea(e),function(t,e){if(e&&("object"===Ki(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ta()?Reflect.construct(e,n||[],ea(t).constructor):e.apply(t,n))}function ta(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ta=function(){return!!t})()}function ea(t){return ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ea(t)}function na(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ra(t,e)}function ra(t,e){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ra(t,e)}var oa=function(t){function e(){return $i(this,e),Qi(this,e,arguments)}return na(e,t),Xi(e)}(y),ia=function(t){function e(){var t;$i(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Vi(t=Qi(this,e,[].concat(r)),"_defaults",{id:null,classes:[],attributes:[],mode:"modal",header:{title:null,custom:null,controls:{before:null,custom:null,after:null}},focusable:!0,content:null,footer:{custom:null,controls:{before:null,custom:null,after:null}},icons:{closetop:"close",close:"close-small",ok:"check",cancel:"close-small",confirm:"check"},i18n:{closetop:"Close",close:"Close",ok:"Ok",cancel:"Cancel",confirm:"Confirm"},buttons:{closetop:"ui-button ui-button--icon ui-button--label-hidden ui-button--close",close:"ui-button ui-button--icon ui-button--close",ok:"ui-button ui-button--icon ui-button--accept",cancel:"ui-button ui-button--icon ui-button--cancel",confirm:"ui-button ui-button--icon ui-button--confirm"}}),t}return na(e,t),Xi(e,[{key:"_validate",value:function(t){var e="string"==typeof t.content,n="function"==typeof t.content.toString;if(!e&&!n)throw new oa("Requires content")}},{key:"_render",value:function(t){var e="modal";t.mode&&this.constructor.availableModes.includes(t.mode)&&(e=t.mode);var n=["ui-modal"];t.classes instanceof Array&&n.push.apply(n,zi(t.classes));var r=['data-mode="'.concat(e,'"')];return t.id&&r.push('id="'.concat(t.id,'"')),t.attributes instanceof Array?r.push.apply(r,zi(t.attributes)):"string"==typeof t.attributes&&r.push(t.attributes),'<section is="ui-modal" class="'.concat(n.join(" "),'" ').concat(r.join(" "),">")+'<div class="ui-modal__wrap"><dialog class="ui-modal__dialog">'+(t.header?'<div class="ui-modal__dialog-header">'+(t.header.title?'<h3 class="ui-modal__dialog-title">'.concat(t.header.title,"</h3>"):"")+(t.header.custom?t.header.custom:"")+(t.header.controls?'<div class="ui-modal__dialog-controls">'+(t.header.controls.before?t.header.controls.before:"")+(t.header.controls.custom?t.header.controls.custom:'<button class="ui-modal__button ui-modal__button--close '.concat(t.buttons.closetop,'" type="button" data-modal="ctrl:close">')+'<span class="ui-modal__icon ui-icon" data-icon="'.concat(t.icons.closetop,'"><span></span></span>')+'<span class="ui-modal__label ui-button__label">'.concat(t.i18n.closetop,"</span></button>"))+(t.header.controls.after?t.header.controls.after:"")+"</div>":"")+"</div>":"")+'<div class="ui-modal__dialog-scrollable"'.concat(t.focusable?' tabindex="0"':"",">")+'<div class="ui-modal__dialog-content">'.concat(t.content,"</div>")+"</div>"+(t.footer?'<div class="ui-modal__dialog-footer">'+(t.footer.custom?t.footer.custom:"")+(t.footer.controls?'<div class="ui-modal__dialog-controls">'+(t.footer.controls.before?t.footer.controls.before:"")+(t.footer.controls.custom?t.footer.controls.custom:"modal"===e?'<button class="ui-modal__button ui-modal__button--close '.concat(t.buttons.close,'" type="button" data-modal="ctrl:close">')+'<span class="ui-modal__icon ui-icon" data-icon="'.concat(t.icons.close,'"><span></span></span>')+'<span class="ui-modal__label ui-button__label">'.concat(t.i18n.close,"</span></button>"):"alert"===e?'<button class="ui-modal__button ui-modal__button--ok '.concat(t.buttons.ok,'" type="button" data-modal="ctrl:close">')+'<span class="ui-modal__icon ui-icon" data-icon="'.concat(t.icons.ok,'"><span></span></span>')+'<span class="ui-modal__label ui-button__label">'.concat(t.i18n.ok,"</span></button>"):"confirm"===e||"prompt"===e?'<button class="ui-modal__button ui-modal__button--cancel '.concat(t.buttons.cancel,'" type="button" data-modal="ctrl:close">')+'<span class="ui-modal__icon ui-icon" data-icon="'.concat(t.icons.cancel,'"><span></span></span>')+'<span class="ui-modal__label ui-button__label">'.concat(t.i18n.cancel,"</span></button>")+'<button class="ui-modal__button ui-modal__button--confirm '.concat(t.buttons.confirm,'" type="button" data-modal="ctrl:').concat(e,'.confirm">')+'<span class="ui-modal__icon ui-icon" data-icon="'.concat(t.icons.confirm,'"><span></span></span>')+'<span class="ui-modal__label ui-button__label">'.concat(t.i18n.confirm,"</span></button>"):"")+(t.footer.controls.after?t.footer.controls.after:"")+"</div>":"")+"</div>":"")+"</dialog></div></section>"}}])}(qr);function aa(t){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(t)}function ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ca(r.key),r)}}function ca(t){var e=function(t,e){if("object"!=aa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==aa(e)?e:e+""}function la(t,e,n){return e=fa(e),function(t,e){if(e&&("object"===aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sa()?Reflect.construct(e,n||[],fa(t).constructor):e.apply(t,n))}function sa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sa=function(){return!!t})()}function fa(t){return fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fa(t)}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pa(t,e)}Vi(ia,"availableModes",["modal","alert","confirm","prompt"]);var da=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=la(this,e,[t,n,r])).extendConfig={availableModes:["modal","alert"],focusLast:["alert"]},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}(e,t),n=e,(r=[{key:"pluginName",get:function(){return"alert"}}])&&ua(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Ir);function ha(t){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(t)}function ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,va(r.key),r)}}function va(t){var e=function(t,e){if("object"!=ha(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ha(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ha(e)?e:e+""}function ma(t,e,n){return e=ga(e),function(t,e){if(e&&("object"===ha(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ba()?Reflect.construct(e,n||[],ga(t).constructor):e.apply(t,n))}function ba(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ba=function(){return!!t})()}function ga(t){return ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ga(t)}function Ea(t,e){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ea(t,e)}var Oa=new WeakSet,wa=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}(o=ma(this,e,[t,n,r]),Oa),o.extendConfig={availableModes:["modal","confirm"],focusLast:["confirm"],dom:{confirm:{confirm:'[data-modal="ctrl:confirm.confirm"]'}}},o.registerEvents=[["modal.initialized",function(t){(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")})(Oa,o,Aa).call(o,t)}],["modal.show",function(){"confirm"===o.context.mode&&(o.context.confirmed=!1)}],["modal.hide",function(t){"confirm"===o.context.mode&&(o.context.confirmed||o.context.dispatchEvent((o.context.config.get("eventPrefix")||"")+"confirm.cancel",null,!0,!0)||t.preventDefault())}]],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ea(t,e)}(e,t),n=e,(r=[{key:"pluginName",get:function(){return"confirm"}}])&&ya(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Ir);function Aa(t){var e=this;t.detail.target===this.context&&"confirm"===this.context.mode&&(this.context.requireDomRefs([["close",!0],["confirm.confirm",!1]]),this.context.confirmed=null,Bt(this.context.getDomRefs("confirm.confirm"),[["click",function(t){t.preventDefault(),e.context.dispatchEvent((e.context.config.get("eventPrefix")||"")+"confirm.confirm",null,!0,!0)&&(e.context.confirmed=!0,e.context.hide())}]]))}function Sa(t){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(t)}function Ta(){Ta=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Sa(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Sa(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function La(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Ia(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){La(i,r,o,a,u,"next",t)}function u(t){La(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Ca(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Na(t,e){return t.get(Pa(t,e))}function Ra(t,e,n){return t.set(Pa(t,e),n),n}function Pa(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xa(r.key),r)}}function _a(t,e,n){return e&&ka(t.prototype,e),n&&ka(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xa(t){var e=function(t,e){if("object"!=Sa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Sa(e)?e:e+""}function ja(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ma(t,e,n){return e=Ha(e),function(t,e){if(e&&("object"===Sa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Da()?Reflect.construct(e,n||[],Ha(t).constructor):e.apply(t,n))}function Da(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Da=function(){return!!t})()}function Ha(t){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(t)}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}var Fa=function(t){function e(){return ja(this,e),Ma(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ba(t,e)}(e,t),_a(e)}(y),Ga=new WeakMap,Wa=new WeakMap,Ua=new WeakMap,Ya=new WeakMap,Ka=new WeakMap,za=function(){return _a((function t(e,n){ja(this,t),Ca(this,Ga,void 0),Ca(this,Wa,void 0),Ca(this,Ua,[]),Ca(this,Ya,"index_"),Ca(this,Ka,!1),Ra(Wa,this,e),Ra(Ga,this,n)}),[{key:"storage",get:function(){return Na(Wa,this)}},{key:"type",get:function(){return Na(Ga,this)}},{key:"list",get:function(){return Na(Ua,this).slice()}},{key:"each",value:(o=Ia(Ta().mark((function t(e){var n;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<Na(Ua,this).length)){t.next=7;break}return t.next=4,e(Na(Ua,this)[n]);case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"load",value:(r=Ia(Ta().mark((function t(){var e;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Na(Ka,this)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Na(Wa,this).get(Na(Ya,this)+Na(Ga,this));case 4:if(e=t.sent){t.next=8;break}return Ra(Ka,this,!0),t.abrupt("return");case 8:if("string"!=typeof e||!e.length){t.next=16;break}t.prev=9,e=JSON.parse(e),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(9),new Fa('Data index failed to decode for "'.concat(this.type,'"'));case 16:if(e instanceof Array){t.next=18;break}throw new Fa('Data index corrupted for "'.concat(this.type,'"'));case 18:Ra(Ua,this,e),Ra(Ka,this,!0);case 20:case"end":return t.stop()}}),t,this,[[9,13]])}))),function(){return r.apply(this,arguments)})},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){if(Na(Ua,this).includes(t))throw new Fa('Id already exists "'.concat(t,'"'))}else do{t=crypto.randomUUID()}while(Na(Ua,this).includes(t));return Na(Ua,this).push(t),t}},{key:"save",value:(n=Ia(Ta().mark((function t(){var e;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e=JSON.stringify(Na(Ua,this)),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),new Fa('Failed to encode index for "'.concat(this.type,'"'),t.t0);case 7:return t.prev=7,t.next=10,Na(Wa,this).set(Na(Ya,this)+Na(Ga,this),e);case 10:t.next=15;break;case 12:throw t.prev=12,t.t1=t.catch(7),new Fa('Failed to save index for "'.concat(this.type,'"'),t.t1);case 15:case"end":return t.stop()}}),t,this,[[0,4],[7,12]])}))),function(){return n.apply(this,arguments)})},{key:"delete",value:(e=Ia(Ta().mark((function t(e){var n;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=Na(Ua,this).indexOf(e))>-1)){t.next=5;break}return Na(Ua,this).splice(n,1),t.next=5,this.save();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"reorder",value:(t=Ia(Ta().mark((function t(e){var n;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Na(Ua,this).filter((function(t){return!e.includes(t)})),Ra(Ua,this,n.concat(e)),t.next=4,this.save();case 4:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})}]);var t,e,n,r,o}();function qa(t){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(t)}function Va(){Va=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==qa(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(qa(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Ja(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Xa(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ja(i,r,o,a,u,"next",t)}function u(t){Ja(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Za(t,e,n){$a(t,e),e.set(t,n)}function $a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qa(t,e){return t.get(tu(t,e))}function tu(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ru(r.key),r)}}function nu(t,e,n){return e&&eu(t.prototype,e),n&&eu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ru(t){var e=function(t,e){if("object"!=qa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qa(e)?e:e+""}function ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e,n){return e=uu(e),function(t,e){if(e&&("object"===qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,au()?Reflect.construct(e,n||[],uu(t).constructor):e.apply(t,n))}function au(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(au=function(){return!!t})()}function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(t)}function cu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lu(t,e)}function lu(t,e){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lu(t,e)}var su=function(t){function e(){return ou(this,e),iu(this,e,arguments)}return cu(e,t),nu(e)}(y),fu=new WeakMap,pu=new WeakMap,du=new WeakMap,hu=new WeakMap,yu=new WeakMap,vu=new WeakSet,mu=function(t){function e(t,n){var r,o,i,a,u,c;return ou(this,e),$a(o=r=iu(this,e,[null,t,n]),i=vu),i.add(o),Za(r,fu,void 0),Za(r,pu,{}),Za(r,du,{}),Za(r,hu,"local"),Za(r,yu,["local"]),a=fu,u=r,c=new Mt("ntz_"),a.set(tu(a,u),c),r}return cu(e,t),nu(e,[{key:"local",get:function(){return Qa(fu,this)}},{key:"load",value:(s=Xa(Va().mark((function t(e){var n,r,o;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.debug&&this.debug.log(this.constructor.name+".load()"),e&&e.length){t.next=3;break}throw new su("Requires at least one data type");case 3:if(!(n=this.local.get("driver"))||Qa(yu,this).includes(n)){t.next=6;break}throw new su('Unknown storage driver "'.concat(n,'"'));case 6:for(n||(this.debug&&this.debug.log(this.constructor.name+".load() using default localStorage driver"),n=Qa(hu,this)),r=0;r<e.length;r++)tu(vu,this,bu).call(this,e[r]);if(this.debug&&this.debug.log(this.constructor.name+".load() registered ".concat(e.length," data types")),t.prev=9,"local"!==n){t.next=16;break}if(!this.debug){t.next=16;break}return t.next=14,Mt.getCurrentSize();case 14:o=t.sent,this.debug.log(this.constructor.name+".load(".concat(n,") ").concat(on(o)," in use."));case 16:t.next=21;break;case 18:throw t.prev=18,t.t0=t.catch(9),new su('Failed to initialize storage driver "'.concat(n,'"'),t.t0);case 21:this.dispatchEvent("storage.ready");case 22:case"end":return t.stop()}}),t,this,[[9,18]])}))),function(t){return s.apply(this,arguments)})},{key:"storageSize",value:(l=Xa(Va().mark((function t(){var e,n,r=arguments;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(r.length>0&&void 0!==r[0])||r[0],t.next=3,Mt.getCurrentSize();case 3:if(n=t.sent,!e){t.next=6;break}return t.abrupt("return",on(n));case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"models",get:function(){return Qa(du,this)}},{key:"requireIndex",value:(c=Xa(Va().mark((function t(e){return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(tu(vu,this,gu).call(this,e),Qa(pu,this)[e]){t.next=5;break}return Qa(pu,this)[e]=new za(this,e),t.next=5,Qa(pu,this)[e].load();case 5:return t.abrupt("return",Qa(pu,this)[e]);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"typeHasData",value:(u=Xa(Va().mark((function t(e){var n,r;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return tu(vu,this,gu).call(this,e),t.next=3,this.requireIndex(e);case 3:return n=t.sent,r=n.list,this.debug&&this.debug.log("Storage.typeHasData(".concat(e,") ").concat(r.length," entries")),t.abrupt("return",!!r.length);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"typeList",value:(a=Xa(Va().mark((function t(e){var n,r,o,i,a=arguments;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,r=tu(vu,this,gu).call(this,e),t.next=4,this.requireIndex(e);case 4:return o=t.sent,i=[],t.next=8,o.each(function(){var t=Xa(Va().mark((function t(e){var o;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(o=new r(null,n)).load(e),i.push(o);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"get",value:(n=Xa(Va().mark((function t(e){var n,r;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this[Qa(hu,this)],this.debug&&this.debug.warn("Storage.get(".concat(Qa(hu,this),"::").concat(e,")")),t.next=4,n.get(e);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"set",value:(i=Xa(Va().mark((function t(e,n){var r;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.debug&&this.debug.log("Storage.set(".concat(Qa(hu,this),"::").concat(e,")")),"string"==typeof e&&e.length){t.next=3;break}throw new su("First argument id must be a non empty string");case 3:if("string"==typeof n){t.next=5;break}throw new su("Second argument value must be a string");case 5:return r=this[Qa(hu,this)],t.next=8,r.set(e,n);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"remove",value:(o=Xa(Va().mark((function t(e){var n;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.debug&&this.debug.log("Storage.remove(".concat(Qa(hu,this),"::").concat(e,")")),"string"==typeof e&&e.length){t.next=3;break}throw new su("First argument id must be a non empty string");case 3:return n=this[Qa(hu,this)],t.next=6,n.remove(e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"clear",value:(r=Xa(Va().mark((function t(){var e;return Va().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this[Qa(hu,this)],t.next=3,e.clear();case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var n,r,o,i,a,u,c,l,s}(W);function bu(t){if(Qa(du,this)[t.modelType])throw new su('Model "'.concat(t.modelType,'" already defined'));Qa(du,this)[t.modelType]=t}function gu(t){if(!Qa(du,this)[t])throw new su('Unknown type "'.concat(t,'"'));return Qa(du,this)[t]}function Eu(t){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(t)}function Ou(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||wu(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(t,e){if(t){if("string"==typeof t)return Au(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Au(t,e):void 0}}function Au(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Su(){Su=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Eu(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Eu(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Tu(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Lu(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Tu(i,r,o,a,u,"next",t)}function u(t){Tu(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Iu(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Cu(t,e,n){return(e=xu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nu(t,e,n){return t.set(Pu(t,e),n),n}function Ru(t,e){return t.get(Pu(t,e))}function Pu(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xu(r.key),r)}}function _u(t,e,n){return e&&ku(t.prototype,e),n&&ku(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xu(t){var e=function(t,e){if("object"!=Eu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Eu(e)?e:e+""}function ju(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(t,e,n){return e=Hu(e),function(t,e){if(e&&("object"===Eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Du()?Reflect.construct(e,n||[],Hu(t).constructor):e.apply(t,n))}function Du(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Du=function(){return!!t})()}function Hu(t){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(t)}function Bu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fu(t,e)}function Fu(t,e){return Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fu(t,e)}var Gu=function(t){function e(){return ju(this,e),Mu(this,e,arguments)}return Bu(e,t),_u(e)}(y),Wu=new WeakMap,Uu=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,zu=new WeakMap,qu=new WeakMap,Vu=new WeakMap,Ju=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ju(this,e),Iu(t=Mu(this,e,[null,r,o]),Wu,null),Iu(t,Uu,null),Iu(t,Yu,{}),Iu(t,Ku,!1),Iu(t,zu,{}),Iu(t,qu,!1),Iu(t,Vu,{}),t.initialize(),n&&t.assign(n),t}return Bu(e,t),_u(e,[{key:"stats",get:function(){return Ru(Vu,this)},set:function(t){var e=!0;null!=t&&t.noAsync&&(delete t.noAsync,e=!1),Z(Ru(Vu,this),t,!0,!0),this.update(e)}},{key:"initialize",value:function(){var t=this;if(!Ru(qu,this)){Object.defineProperty(this,"type",{get:function(){return t.constructor.modelType},enumerable:!0,configurable:!1}),Object.defineProperty(this,"id",{get:function(){return t._id()},enumerable:!0,configurable:!1});for(var e=Object.keys(this.constructor.modelFields),n=function(){var n=e[r];Object.defineProperty(t,n,{get:function(){return t._get(n)},set:function(e){t._set(n,e)},enumerable:!0,configurable:!1})},r=0;r<e.length;r++)n();Nu(qu,this,!0)}}},{key:"_get",value:function(t){var e,n;return null!==(e=Ru(Yu,this)[t])&&void 0!==e?e:null===(n=this.constructor.modelFields[t])||void 0===n?void 0:n.value}},{key:"_set",value:function(t,e){Ru(Yu,this)[t]!==e&&Nu(Ku,this,!0),Ru(Yu,this)[t]=e}},{key:"_id",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return Ru(Wu,this)}))},{key:"importId",set:function(t){Nu(Uu,this,t)}},{key:"data",get:function(){for(var t={},e=Object.keys(this.constructor.modelFields),n=0;n<e.length;n++){var r=e[n];t[r]=this._get(r)}return t.id=Ru(Wu,this),t}},{key:"dom",get:function(){var t;return null!==(t=Ru(zu,this)[this.constructor.modelType])&&void 0!==t?t:null}},{key:"view",value:function(t){var e;return null!==(e=Ru(zu,this)[t])&&void 0!==e?e:null}},{key:"children",get:function(){return this.dom.querySelector(this.constructor.childrenHost)}},{key:"iconType",get:function(){return dn(this.icon)?"menu":"font"}},{key:"hasChanges",value:function(){return Ru(Ku,this)}},{key:"assign",value:function(t){var e=this.constructor.validate(t);if(!e.valid)throw this.debug&&this.debug.error(t,e.errors),new Gu("Failed to assign invalid data");for(var n=Object.keys(this.constructor.modelFields),r=!1,o=0;o<n.length;o++){var i=n[o];void 0!==t[i]&&(Ru(Yu,this)[i]!==t[i]&&(r=!0),Ru(Yu,this)[i]=t[i])}Nu(Ku,this,r)}},{key:"load",value:(o=Lu(Su().mark((function t(e){var n,r,o;return Su().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.constructor.modelType,t.next=3,this.constructor.storage.get(n+"_"+e);case 3:if(r=t.sent){t.next=6;break}throw new Gu("Model data not found for ".concat(n,"[").concat(e,"]"));case 6:t.prev=6,o=JSON.parse(r),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(6),new Gu("Failed to decode model data for ".concat(n,"[").concat(e,"]"),t.t0);case 13:if(m(o)){t.next=15;break}throw new Gu("Corrupted model data for ".concat(n,"[").concat(e,"]"));case 15:this.assign(o),Nu(Wu,this,e),Nu(Ku,this,!1),this.dispatchEvent("model.loaded");case 19:case"end":return t.stop()}}),t,this,[[6,10]])}))),function(t){return o.apply(this,arguments)})},{key:"save",value:(r=Lu(Su().mark((function t(){var e,n,r,o,i=arguments;return Su().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]&&i[0],this.debug&&this.debug.log(this.constructor.name+".save(".concat(this.constructor.modelType,", ").concat(Ru(Yu,this).id||"null",")")),this.constructor.storage){t.next=4;break}throw new Gu("Storage driver not available");case 4:if(Ru(Ku,this)){t.next=6;break}return t.abrupt("return");case 6:t.prev=6,n=JSON.stringify(Ru(Yu,this)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(6),new Gu("Failed to encode data");case 13:if(r=!1,Ru(Wu,this)){t.next=21;break}return t.next=17,this.constructor.storage.requireIndex(this.constructor.modelType);case 17:o=t.sent,Nu(Wu,this,o.create(Ru(Uu,this))),Nu(Uu,this,null),r=!0;case 21:return t.next=23,this.constructor.storage.set(this.constructor.modelType+"_"+Ru(Wu,this),n);case 23:if(!r){t.next=26;break}return t.next=26,o.save();case 26:Nu(Ku,this,!1),e||this.dispatchEvent("model.saved",{created:r});case 28:case"end":return t.stop()}}),t,this,[[6,10]])}))),function(){return r.apply(this,arguments)})},{key:"delete",value:(n=Lu(Su().mark((function t(){var e;return Su().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.debug&&this.debug.log(this.constructor.name+".save(".concat(this.constructor.modelType,", ").concat(Ru(Yu,this).id||"null",")")),this.constructor.storage){t.next=3;break}throw new Gu("Storage driver not available");case 3:return t.next=5,this.constructor.storage.requireIndex(this.constructor.modelType);case 5:return e=t.sent,t.next=8,this.constructor.storage.remove(this.constructor.modelType+"_"+Ru(Wu,this));case 8:return t.next=10,e.delete(Ru(Wu,this));case 10:Nu(Wu,this,null),Nu(Ku,this,!0),this.dispatchEvent("model.deleted");case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null!==(t=n.template)&&void 0!==t?t:this.constructor.modelType,o=null!==(e=n.append)&&void 0!==e?e:this.parent.children;return Ru(zu,this)[r]=uo.node({template:r,data:this.data})[0],n.model=this,this.constructor.bind(Ru(zu,this)[r],n),o.appendChild(Ru(zu,this)[r]),Ru(zu,this)[r]}},{key:"clearRender",value:function(t){Ru(zu,this)[t]&&delete Ru(zu,this)[t]}},{key:"update",value:function(){var t,e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.constructor.modelType;if(Ru(zu,this)[o]){var i=function(t){if(Array.isArray(t))return Au(t)}(t=Ru(zu,this)[o].querySelectorAll("[data-model-update]"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();r||(i=i.filter((function(t){return!e.children.contains(t)})));for(var a=0;a<i.length;a++)for(var u=i[a],c=u.getAttribute("data-model-update").split("|"),l=0;l<c.length;l++){var s=Ou(c[l].split(":"),3),f=s[0],p=s[1],d=s[2],h=Qt(p,this,1,this.debug);if(h||0===h)switch(f){case"text":u.innerText=h;break;case"html":u.innerHTML=h;break;case"attr":u.setAttribute(d,h)}}n&&this.updateAsync&&this.updateAsync()}}},{key:"isOpen",value:function(){return this.dom.classList.contains("".concat(this.type,"--open"))}},{key:"actionOpen",value:function(){var t=this;this.dispatchEvent("".concat(this.type,".open")),this.dom.classList.add("".concat(this.type,"--open")),i((function(){t.dispatchEvent("".concat(t.type,".opened"))}))}},{key:"actionClose",value:function(){var t=this;this.isMaximized()&&this.actionMinimize(),this.dispatchEvent("".concat(this.type,".close")),this.dom.classList.remove("".concat(this.type,"--open")),i((function(){t.dispatchEvent("".concat(t.type,".closed"))}))}},{key:"isMaximized",value:function(){return this.dom.classList.contains("".concat(this.type,"--maximized"))}},{key:"actionMaximize",value:function(){var t=this;this.dispatchEvent("".concat(this.type,".maximize")),this.dom.classList.add("".concat(this.type,"--maximized")),this.dom.setAttribute("data-is-maximized","true"),this.parent.children.setAttribute("data-has-maximized","true"),i((function(){t.dispatchEvent("".concat(t.type,".maximized"))}))}},{key:"actionMinimize",value:function(){var t=this;this.dispatchEvent("".concat(this.type,".minimize")),this.dom.classList.remove("".concat(this.type,"--maximized")),this.dom.removeAttribute("data-is-maximized"),this.parent.children.removeAttribute("data-has-maximized"),i((function(){t.dispatchEvent("".concat(t.type,".minimized"))}))}}],[{key:"labelGenerator",value:function(t){return fn(t.replace(/^[A-Z]/g,(function(t){return" "+t.toLowerCase()})).replace(/[A-Z]/g,(function(t){return" "+t.toLowerCase()})).replace("modal","popup").replace("nav","navigation"))}},{key:"form",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={template:"fieldset",data:{},as:{content:[]}},n=Object.entries(this.modelFields),r=0;r<n.length;r++){var o=Ou(n[r],2),i=o[0],a=o[1],u={template:"input",data:g(a,!0)};if(u.data.name=i,u.data.classes=["ui-input--".concat(ln(i)),"ui-input--grow","ui-input--grow-label","ui-input--label-multiline"],"textarea"===a.type?u.data.classes.push("ui-input--wide"):u.data.classes.push("ui-input--horizontal","ui-input--spaced"),u.data.label||(u.data.label={text:this.labelGenerator(i)}),"number"===a.type&&u.data.classes.push("ui-input--input-align-right"),"select"===a.type&&a.options){u.data.options=[];for(var c=0;c<a.options.length;c++){var l=a.options[c];u.data.options.push({label:this.labelGenerator(l),value:l})}}switch(null!==t&&void 0!==t[i]?u.data.value=t[i]:t||void 0===a.value||(u.data.value=a.value),a.type){case"text":u.data.maxlen=a.max;break;case"checkbox":u.data.checked=u.data.value}e.as.content.push(u)}return[e]}},{key:"getFormData",value:function(t){for(var e=new Po(t,!1,this.app.debug).get(),n=Object.entries(this.modelFields),r=0;r<n.length;r++){var o=Ou(n[r],2),i=o[0],a=o[1];void 0===e[i]&&"checkbox"===a.type&&(e[i]=!1)}return e}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t instanceof HTMLElement))throw new Gu("Nothing to bind");e.dom=t,this.app.bindActions(this.modelActions,t,e);for(var n=0;n<this.modelBinds.length;n++){(0,this.modelBinds[n])(e)}}},{key:"bindForm",value:function(t,e){for(var n=t.querySelectorAll('input:not([type="hidden"]), select, textarea'),r=function(){var t=n[o],r=t.closest(".ui-input"),i=r.querySelector(".ui-input__error");t.addEventListener("blur",(function(){r.classList.remove("ui-input--error"),r.classList.remove("ui-input--error-visible"),i.innerHTML=""})),t.addEventListener("keyup",(function(t){"Enter"===t.key&&e.getDomRefs("confirm.confirm",!1).click()}))},o=0;o<n.length;o++)r()}},{key:"validate",value:function(t){for(var e=!0,n={},r=Object.entries(this.modelFields),o=0;o<r.length;o++){var i=Ou(r[o],2),a=i[0];i[1].required&&dn(t[a])&&(e=!1,n[a]||(n[a]=[]),n[a].push("Field <q>".concat(this.labelGenerator(a),"</q> is required.")))}return e&&(n=null),{valid:e,errors:n}}}]);var n,r,o}(W);Cu(Ju,"app",null),Cu(Ju,"storage",null),Cu(Ju,"modelType","default"),Cu(Ju,"modelParentType","default"),Cu(Ju,"modelFields",{}),Cu(Ju,"modelBinds",[]),Cu(Ju,"modelActions",{}),Cu(Ju,"childrenHost",null),Cu(Ju,"childrenType",null);var Xu=[["CYCLONE","&#127744;"],["FOGGY","&#127745;"],["CLOSED UMBRELLA","&#127746;"],["NIGHT WITH STARS","&#127747;"],["SUNRISE OVER MOUNTAINS","&#127748;"],["SUNRISE","&#127749;"],["CITYSCAPE AT DUSK","&#127750;"],["SUNSET OVER BUILDINGS","&#127751;"],["RAINBOW","&#127752;"],["BRIDGE AT NIGHT","&#127753;"],["WATER WAVE","&#127754;"],["VOLCANO","&#127755;"],["MILKY WAY","&#127756;"],["EARTH GLOBE EUROPE-AFRICA","&#127757;"],["EARTH GLOBE AMERICAS","&#127758;"],["EARTH GLOBE ASIA-AUSTRALIA","&#127759;"],["GLOBE WITH MERIDIANS","&#127760;"],["NEW MOON SYMBOL","&#127761;"],["WAXING CRESCENT MOON SYMBOL","&#127762;"],["FIRST QUARTER MOON SYMBOL","&#127763;"],["WAXING GIBBOUS MOON SYMBOL","&#127764;"],["FULL MOON SYMBOL","&#127765;"],["WANING GIBBOUS MOON SYMBOL","&#127766;"],["LAST QUARTER MOON SYMBOL","&#127767;"],["WANING CRESCENT MOON SYMBOL","&#127768;"],["CRESCENT MOON","&#127769;"],["NEW MOON WITH FACE","&#127770;"],["FIRST QUARTER MOON WITH FACE","&#127771;"],["LAST QUARTER MOON WITH FACE","&#127772;"],["FULL MOON WITH FACE","&#127773;"],["SUN WITH FACE","&#127774;"],["GLOWING STAR","&#127775;"],["SHOOTING STAR","&#127776;"],["THERMOMETER","&#127777;"],["WHITE SUN WITH SMALL CLOUD","&#127780;"],["WHITE SUN BEHIND CLOUD","&#127781;"],["WHITE SUN BEHIND CLOUD WITH RAIN","&#127782;"],["CLOUD WITH RAIN","&#127783;"],["CLOUD WITH SNOW","&#127784;"],["CLOUD WITH LIGHTNING","&#127785;"],["CLOUD WITH TORNADO","&#127786;"],["FOG","&#127787;"],["WIND BLOWING FACE","&#127788;"],["HOT DOG","&#127789;"],["TACO","&#127790;"],["BURRITO","&#127791;"],["CHESTNUT","&#127792;"],["SEEDLING","&#127793;"],["EVERGREEN TREE","&#127794;"],["DECIDUOUS TREE","&#127795;"],["PALM TREE","&#127796;"],["CACTUS","&#127797;"],["HOT PEPPER","&#127798;"],["TULIP","&#127799;"],["CHERRY BLOSSOM","&#127800;"],["ROSE","&#127801;"],["HIBISCUS","&#127802;"],["SUNFLOWER","&#127803;"],["BLOSSOM","&#127804;"],["EAR OF MAIZE","&#127805;"],["EAR OF RICE","&#127806;"],["HERB","&#127807;"],["FOUR LEAF CLOVER","&#127808;"],["MAPLE LEAF","&#127809;"],["FALLEN LEAF","&#127810;"],["LEAF FLUTTERING IN WIND","&#127811;"],["MUSHROOM","&#127812;"],["TOMATO","&#127813;"],["AUBERGINE","&#127814;"],["GRAPES","&#127815;"],["MELON","&#127816;"],["WATERMELON","&#127817;"],["TANGERINE","&#127818;"],["LEMON","&#127819;"],["BANANA","&#127820;"],["PINEAPPLE","&#127821;"],["RED APPLE","&#127822;"],["GREEN APPLE","&#127823;"],["PEAR","&#127824;"],["PEACH","&#127825;"],["CHERRIES","&#127826;"],["STRAWBERRY","&#127827;"],["HAMBURGER","&#127828;"],["SLICE OF PIZZA","&#127829;"],["MEAT ON BONE","&#127830;"],["POULTRY LEG","&#127831;"],["RICE CRACKER","&#127832;"],["RICE BALL","&#127833;"],["COOKED RICE","&#127834;"],["CURRY AND RICE","&#127835;"],["STEAMING BOWL","&#127836;"],["SPAGHETTI","&#127837;"],["BREAD","&#127838;"],["FRENCH FRIES","&#127839;"],["ROASTED SWEET POTATO","&#127840;"],["DANGO","&#127841;"],["ODEN","&#127842;"],["SUSHI","&#127843;"],["FRIED SHRIMP","&#127844;"],["FISH CAKE WITH SWIRL DESIGN","&#127845;"],["SOFT ICE CREAM","&#127846;"],["SHAVED ICE","&#127847;"],["ICE CREAM","&#127848;"],["DOUGHNUT","&#127849;"],["COOKIE","&#127850;"],["CHOCOLATE BAR","&#127851;"],["CANDY","&#127852;"],["LOLLIPOP","&#127853;"],["CUSTARD","&#127854;"],["HONEY POT","&#127855;"],["SHORTCAKE","&#127856;"],["BENTO BOX","&#127857;"],["POT OF FOOD","&#127858;"],["COOKING","&#127859;"],["FORK AND KNIFE","&#127860;"],["TEACUP WITHOUT HANDLE","&#127861;"],["SAKE BOTTLE AND CUP","&#127862;"],["WINE GLASS","&#127863;"],["COCKTAIL GLASS","&#127864;"],["TROPICAL DRINK","&#127865;"],["BEER MUG","&#127866;"],["CLINKING BEER MUGS","&#127867;"],["BABY BOTTLE","&#127868;"],["FORK AND KNIFE WITH PLATE","&#127869;"],["BOTTLE WITH POPPING CORK","&#127870;"],["POPCORN","&#127871;"],["RIBBON","&#127872;"],["WRAPPED PRESENT","&#127873;"],["BIRTHDAY CAKE","&#127874;"],["JACK-O-LANTERN","&#127875;"],["CHRISTMAS TREE","&#127876;"],["FATHER CHRISTMAS","&#127877;"],["FIREWORKS","&#127878;"],["FIREWORK SPARKLER","&#127879;"],["BALLOON","&#127880;"],["PARTY POPPER","&#127881;"],["CONFETTI BALL","&#127882;"],["TANABATA TREE","&#127883;"],["CROSSED FLAGS","&#127884;"],["PINE DECORATION","&#127885;"],["JAPANESE DOLLS","&#127886;"],["CARP STREAMER","&#127887;"],["WIND CHIME","&#127888;"],["MOON VIEWING CEREMONY","&#127889;"],["SCHOOL SATCHEL","&#127890;"],["GRADUATION CAP","&#127891;"],["CAROUSEL HORSE","&#127904;"],["FERRIS WHEEL","&#127905;"],["ROLLER COASTER","&#127906;"],["FISHING POLE AND FISH","&#127907;"],["MICROPHONE","&#127908;"],["MOVIE CAMERA","&#127909;"],["CINEMA","&#127910;"],["HEADPHONE","&#127911;"],["ARTIST PALETTE","&#127912;"],["TOP HAT","&#127913;"],["CIRCUS TENT","&#127914;"],["TICKET","&#127915;"],["CLAPPER BOARD","&#127916;"],["PERFORMING ARTS","&#127917;"],["VIDEO GAME","&#127918;"],["DIRECT HIT","&#127919;"],["SLOT MACHINE","&#127920;"],["BILLIARDS","&#127921;"],["GAME DIE","&#127922;"],["BOWLING","&#127923;"],["FLOWER PLAYING CARDS","&#127924;"],["MUSICAL NOTE","&#127925;"],["MULTIPLE MUSICAL NOTES","&#127926;"],["SAXOPHONE","&#127927;"],["GUITAR","&#127928;"],["MUSICAL KEYBOARD","&#127929;"],["TRUMPET","&#127930;"],["VIOLIN","&#127931;"],["MUSICAL SCORE","&#127932;"],["RUNNING SHIRT WITH SASH","&#127933;"],["TENNIS RACQUET AND BALL","&#127934;"],["SKI AND SKI BOOT","&#127935;"],["BASKETBALL AND HOOP","&#127936;"],["CHEQUERED FLAG","&#127937;"],["SNOWBOARDER","&#127938;"],["RUNNER","&#127939;"],["SURFER","&#127940;"],["SPORTS MEDAL","&#127941;"],["TROPHY","&#127942;"],["HORSE RACING","&#127943;"],["AMERICAN FOOTBALL","&#127944;"],["RUGBY FOOTBALL","&#127945;"],["SWIMMER","&#127946;"],["WEIGHT LIFTER","&#127947;"],["GOLFER","&#127948;"],["RACING MOTORCYCLE","&#127949;"],["RACING CAR","&#127950;"],["CRICKET BAT AND BALL","&#127951;"],["VOLLEYBALL","&#127952;"],["FIELD HOCKEY STICK AND BALL","&#127953;"],["ICE HOCKEY STICK AND PUCK","&#127954;"],["TABLE TENNIS PADDLE AND BALL","&#127955;"],["SNOW CAPPED MOUNTAIN","&#127956;"],["CAMPING","&#127957;"],["BEACH WITH UMBRELLA","&#127958;"],["BUILDING CONSTRUCTION","&#127959;"],["HOUSE BUILDINGS","&#127960;"],["CITYSCAPE","&#127961;"],["DERELICT HOUSE BUILDING","&#127962;"],["CLASSICAL BUILDING","&#127963;"],["DESERT","&#127964;"],["DESERT ISLAND","&#127965;"],["NATIONAL PARK","&#127966;"],["STADIUM","&#127967;"],["HOUSE BUILDING","&#127968;"],["HOUSE WITH GARDEN","&#127969;"],["OFFICE BUILDING","&#127970;"],["JAPANESE POST OFFICE","&#127971;"],["EUROPEAN POST OFFICE","&#127972;"],["HOSPITAL","&#127973;"],["BANK","&#127974;"],["AUTOMATED TELLER MACHINE","&#127975;"],["HOTEL","&#127976;"],["LOVE HOTEL","&#127977;"],["CONVENIENCE STORE","&#127978;"],["SCHOOL","&#127979;"],["DEPARTMENT STORE","&#127980;"],["FACTORY","&#127981;"],["IZAKAYA LANTERN","&#127982;"],["JAPANESE CASTLE","&#127983;"],["EUROPEAN CASTLE","&#127984;"],["WAVING BLACK FLAG","&#127988;"],["ROSETTE","&#127989;"],["LABEL","&#127991;"],["BADMINTON RACQUET AND SHUTTLECOCK","&#127992;"],["BOW AND ARROW","&#127993;"],["AMPHORA","&#127994;"],["RAT","&#128000;"],["MOUSE","&#128001;"],["OX","&#128002;"],["WATER BUFFALO","&#128003;"],["COW","&#128004;"],["TIGER","&#128005;"],["LEOPARD","&#128006;"],["RABBIT","&#128007;"],["CAT","&#128008;"],["DRAGON","&#128009;"],["CROCODILE","&#128010;"],["WHALE","&#128011;"],["SNAIL","&#128012;"],["SNAKE","&#128013;"],["HORSE","&#128014;"],["RAM","&#128015;"],["GOAT","&#128016;"],["SHEEP","&#128017;"],["MONKEY","&#128018;"],["ROOSTER","&#128019;"],["CHICKEN","&#128020;"],["DOG","&#128021;"],["PIG","&#128022;"],["BOAR","&#128023;"],["ELEPHANT","&#128024;"],["OCTOPUS","&#128025;"],["SPIRAL SHELL","&#128026;"],["BUG","&#128027;"],["ANT","&#128028;"],["HONEYBEE","&#128029;"],["LADY BEETLE","&#128030;"],["FISH","&#128031;"],["TROPICAL FISH","&#128032;"],["BLOWFISH","&#128033;"],["TURTLE","&#128034;"],["HATCHING CHICK","&#128035;"],["BABY CHICK","&#128036;"],["FRONT-FACING BABY CHICK","&#128037;"],["BIRD","&#128038;"],["PENGUIN","&#128039;"],["KOALA","&#128040;"],["POODLE","&#128041;"],["DROMEDARY CAMEL","&#128042;"],["BACTRIAN CAMEL","&#128043;"],["DOLPHIN","&#128044;"],["MOUSE FACE","&#128045;"],["COW FACE","&#128046;"],["TIGER FACE","&#128047;"],["RABBIT FACE","&#128048;"],["CAT FACE","&#128049;"],["DRAGON FACE","&#128050;"],["SPOUTING WHALE","&#128051;"],["HORSE FACE","&#128052;"],["MONKEY FACE","&#128053;"],["DOG FACE","&#128054;"],["PIG FACE","&#128055;"],["FROG FACE","&#128056;"],["HAMSTER FACE","&#128057;"],["WOLF FACE","&#128058;"],["BEAR FACE","&#128059;"],["PANDA FACE","&#128060;"],["PIG NOSE","&#128061;"],["PAW PRINTS","&#128062;"],["CHIPMUNK","&#128063;"],["EYES","&#128064;"],["EYE","&#128065;"],["EAR","&#128066;"],["NOSE","&#128067;"],["MOUTH","&#128068;"],["TONGUE","&#128069;"],["WHITE UP POINTING BACKHAND INDEX","&#128070;"],["WHITE DOWN POINTING BACKHAND INDEX","&#128071;"],["WHITE LEFT POINTING BACKHAND INDEX","&#128072;"],["WHITE RIGHT POINTING BACKHAND INDEX","&#128073;"],["FISTED HAND SIGN","&#128074;"],["WAVING HAND SIGN","&#128075;"],["OK HAND SIGN","&#128076;"],["THUMBS UP SIGN","&#128077;"],["THUMBS DOWN SIGN","&#128078;"],["CLAPPING HANDS SIGN","&#128079;"],["OPEN HANDS SIGN","&#128080;"],["CROWN","&#128081;"],["WOMANS HAT","&#128082;"],["EYEGLASSES","&#128083;"],["NECKTIE","&#128084;"],["T-SHIRT","&#128085;"],["JEANS","&#128086;"],["DRESS","&#128087;"],["KIMONO","&#128088;"],["BIKINI","&#128089;"],["WOMANS CLOTHES","&#128090;"],["PURSE","&#128091;"],["HANDBAG","&#128092;"],["POUCH","&#128093;"],["MANS SHOE","&#128094;"],["ATHLETIC SHOE","&#128095;"],["HIGH-HEELED SHOE","&#128096;"],["WOMANS SANDAL","&#128097;"],["WOMANS BOOTS","&#128098;"],["FOOTPRINTS","&#128099;"],["BUST IN SILHOUETTE","&#128100;"],["BUSTS IN SILHOUETTE","&#128101;"],["BOY","&#128102;"],["GIRL","&#128103;"],["MAN","&#128104;"],["WOMAN","&#128105;"],["FAMILY","&#128106;"],["MAN AND WOMAN HOLDING HANDS","&#128107;"],["TWO MEN HOLDING HANDS","&#128108;"],["TWO WOMEN HOLDING HANDS","&#128109;"],["POLICE OFFICER","&#128110;"],["WOMAN WITH BUNNY EARS","&#128111;"],["BRIDE WITH VEIL","&#128112;"],["PERSON WITH BLOND HAIR","&#128113;"],["MAN WITH GUA PI MAO","&#128114;"],["MAN WITH TURBAN","&#128115;"],["OLDER MAN","&#128116;"],["OLDER WOMAN","&#128117;"],["BABY","&#128118;"],["CONSTRUCTION WORKER","&#128119;"],["PRINCESS","&#128120;"],["JAPANESE OGRE","&#128121;"],["JAPANESE GOBLIN","&#128122;"],["GHOST","&#128123;"],["BABY ANGEL","&#128124;"],["EXTRATERRESTRIAL ALIEN","&#128125;"],["ALIEN MONSTER","&#128126;"],["IMP","&#128127;"],["SKULL","&#128128;"],["INFORMATION DESK PERSON","&#128129;"],["GUARDSMAN","&#128130;"],["DANCER","&#128131;"],["LIPSTICK","&#128132;"],["NAIL POLISH","&#128133;"],["FACE MASSAGE","&#128134;"],["HAIRCUT","&#128135;"],["BARBER POLE","&#128136;"],["SYRINGE","&#128137;"],["PILL","&#128138;"],["KISS MARK","&#128139;"],["LOVE LETTER","&#128140;"],["RING","&#128141;"],["GEM STONE","&#128142;"],["KISS","&#128143;"],["BOUQUET","&#128144;"],["COUPLE WITH HEART","&#128145;"],["WEDDING","&#128146;"],["BEATING HEART","&#128147;"],["BROKEN HEART","&#128148;"],["TWO HEARTS","&#128149;"],["SPARKLING HEART","&#128150;"],["GROWING HEART","&#128151;"],["HEART WITH ARROW","&#128152;"],["BLUE HEART","&#128153;"],["GREEN HEART","&#128154;"],["YELLOW HEART","&#128155;"],["PURPLE HEART","&#128156;"],["HEART WITH RIBBON","&#128157;"],["REVOLVING HEARTS","&#128158;"],["HEART DECORATION","&#128159;"],["DIAMOND SHAPE WITH A DOT INSIDE","&#128160;"],["ELECTRIC LIGHT BULB","&#128161;"],["ANGER SYMBOL","&#128162;"],["BOMB","&#128163;"],["SLEEPING SYMBOL","&#128164;"],["COLLISION SYMBOL","&#128165;"],["SPLASHING SWEAT SYMBOL","&#128166;"],["DROPLET","&#128167;"],["DASH SYMBOL","&#128168;"],["PILE OF POO","&#128169;"],["FLEXED BICEPS","&#128170;"],["DIZZY SYMBOL","&#128171;"],["SPEECH BALLOON","&#128172;"],["THOUGHT BALLOON","&#128173;"],["WHITE FLOWER","&#128174;"],["HUNDRED POINTS SYMBOL","&#128175;"],["MONEY BAG","&#128176;"],["CURRENCY EXCHANGE","&#128177;"],["HEAVY DOLLAR SIGN","&#128178;"],["CREDIT CARD","&#128179;"],["BANKNOTE WITH YEN SIGN","&#128180;"],["BANKNOTE WITH DOLLAR SIGN","&#128181;"],["BANKNOTE WITH EURO SIGN","&#128182;"],["BANKNOTE WITH POUND SIGN","&#128183;"],["MONEY WITH WINGS","&#128184;"],["CHART WITH UPWARDS TREND AND YEN SIGN","&#128185;"],["SEAT","&#128186;"],["PERSONAL COMPUTER","&#128187;"],["BRIEFCASE","&#128188;"],["MINIDISC","&#128189;"],["FLOPPY DISK","&#128190;"],["OPTICAL DISC","&#128191;"],["DVD","&#128192;"],["FILE FOLDER","&#128193;"],["OPEN FILE FOLDER","&#128194;"],["PAGE WITH CURL","&#128195;"],["PAGE FACING UP","&#128196;"],["CALENDAR","&#128197;"],["TEAR-OFF CALENDAR","&#128198;"],["CARD INDEX","&#128199;"],["CHART WITH UPWARDS TREND","&#128200;"],["CHART WITH DOWNWARDS TREND","&#128201;"],["BAR CHART","&#128202;"],["CLIPBOARD","&#128203;"],["PUSHPIN","&#128204;"],["ROUND PUSHPIN","&#128205;"],["PAPERCLIP","&#128206;"],["STRAIGHT RULER","&#128207;"],["TRIANGULAR RULER","&#128208;"],["BOOKMARK TABS","&#128209;"],["LEDGER","&#128210;"],["NOTEBOOK","&#128211;"],["NOTEBOOK WITH DECORATIVE COVER","&#128212;"],["CLOSED BOOK","&#128213;"],["OPEN BOOK","&#128214;"],["GREEN BOOK","&#128215;"],["BLUE BOOK","&#128216;"],["ORANGE BOOK","&#128217;"],["BOOKS","&#128218;"],["NAME BADGE","&#128219;"],["SCROLL","&#128220;"],["MEMO","&#128221;"],["TELEPHONE RECEIVER","&#128222;"],["PAGER","&#128223;"],["FAX MACHINE","&#128224;"],["SATELLITE ANTENNA","&#128225;"],["PUBLIC ADDRESS LOUDSPEAKER","&#128226;"],["CHEERING MEGAPHONE","&#128227;"],["OUTBOX TRAY","&#128228;"],["INBOX TRAY","&#128229;"],["PACKAGE","&#128230;"],["E-MAIL SYMBOL","&#128231;"],["INCOMING ENVELOPE","&#128232;"],["ENVELOPE WITH DOWNWARDS ARROW ABOVE","&#128233;"],["CLOSED MAILBOX WITH LOWERED FLAG","&#128234;"],["CLOSED MAILBOX WITH RAISED FLAG","&#128235;"],["OPEN MAILBOX WITH RAISED FLAG","&#128236;"],["OPEN MAILBOX WITH LOWERED FLAG","&#128237;"],["POSTBOX","&#128238;"],["POSTAL HORN","&#128239;"],["NEWSPAPER","&#128240;"],["MOBILE PHONE","&#128241;"],["MOBILE PHONE WITH RIGHTWARDS ARROW AT LEFT","&#128242;"],["VIBRATION MODE","&#128243;"],["MOBILE PHONE OFF","&#128244;"],["NO MOBILE PHONES","&#128245;"],["ANTENNA WITH BARS","&#128246;"],["CAMERA","&#128247;"],["CAMERA WITH FLASH","&#128248;"],["VIDEO CAMERA","&#128249;"],["TELEVISION","&#128250;"],["RADIO","&#128251;"],["VIDEOCASSETTE","&#128252;"],["FILM PROJECTOR","&#128253;"],["PORTABLE STEREO","&#128254;"],["PRAYER BEADS","&#128255;"],["TWISTED RIGHTWARDS ARROWS","&#128256;"],["CLOCKWISE RIGHTWARDS AND LEFTWARDS OPEN CIRCLE ARROWS","&#128257;"],["CLOCKWISE RIGHTWARDS AND LEFTWARDS OPEN CIRCLE ARROWS WITH CIRCLED ONE OVERLAY","&#128258;"],["CLOCKWISE DOWNWARDS AND UPWARDS OPEN CIRCLE ARROWS","&#128259;"],["ANTICLOCKWISE DOWNWARDS AND UPWARDS OPEN CIRCLE ARROWS","&#128260;"],["LOW BRIGHTNESS SYMBOL","&#128261;"],["HIGH BRIGHTNESS SYMBOL","&#128262;"],["SPEAKER WITH CANCELLATION STROKE","&#128263;"],["SPEAKER","&#128264;"],["SPEAKER WITH ONE SOUND WAVE","&#128265;"],["SPEAKER WITH THREE SOUND WAVES","&#128266;"],["BATTERY","&#128267;"],["ELECTRIC PLUG","&#128268;"],["LEFT-POINTING MAGNIFYING GLASS","&#128269;"],["RIGHT-POINTING MAGNIFYING GLASS","&#128270;"],["LOCK WITH INK PEN","&#128271;"],["CLOSED LOCK WITH KEY","&#128272;"],["KEY","&#128273;"],["LOCK","&#128274;"],["OPEN LOCK","&#128275;"],["BELL","&#128276;"],["BELL WITH CANCELLATION STROKE","&#128277;"],["BOOKMARK","&#128278;"],["LINK SYMBOL","&#128279;"],["RADIO BUTTON","&#128280;"],["BACK WITH LEFTWARDS ARROW ABOVE","&#128281;"],["END WITH LEFTWARDS ARROW ABOVE","&#128282;"],["ON WITH EXCLAMATION MARK WITH LEFT RIGHT ARROW ABOVE","&#128283;"],["SOON WITH RIGHTWARDS ARROW ABOVE","&#128284;"],["TOP WITH UPWARDS ARROW ABOVE","&#128285;"],["NO ONE UNDER EIGHTEEN SYMBOL","&#128286;"],["KEYCAP TEN","&#128287;"],["INPUT SYMBOL FOR LATIN CAPITAL LETTERS","&#128288;"],["INPUT SYMBOL FOR LATIN SMALL LETTERS","&#128289;"],["INPUT SYMBOL FOR NUMBERS","&#128290;"],["INPUT SYMBOL FOR SYMBOLS","&#128291;"],["INPUT SYMBOL FOR LATIN LETTERS","&#128292;"],["FIRE","&#128293;"],["ELECTRIC TORCH","&#128294;"],["WRENCH","&#128295;"],["HAMMER","&#128296;"],["NUT AND BOLT","&#128297;"],["HOCHO","&#128298;"],["PISTOL","&#128299;"],["MICROSCOPE","&#128300;"],["TELESCOPE","&#128301;"],["CRYSTAL BALL","&#128302;"],["SIX POINTED STAR WITH MIDDLE DOT","&#128303;"],["JAPANESE SYMBOL FOR BEGINNER","&#128304;"],["TRIDENT EMBLEM","&#128305;"],["BLACK SQUARE BUTTON","&#128306;"],["WHITE SQUARE BUTTON","&#128307;"],["LARGE RED CIRCLE","&#128308;"],["LARGE BLUE CIRCLE","&#128309;"],["LARGE ORANGE DIAMOND","&#128310;"],["LARGE BLUE DIAMOND","&#128311;"],["SMALL ORANGE DIAMOND","&#128312;"],["SMALL BLUE DIAMOND","&#128313;"],["UP-POINTING RED TRIANGLE","&#128314;"],["DOWN-POINTING RED TRIANGLE","&#128315;"],["UP-POINTING SMALL RED TRIANGLE","&#128316;"],["DOWN-POINTING SMALL RED TRIANGLE","&#128317;"],["KAABA","&#128331;"],["MOSQUE","&#128332;"],["SYNAGOGUE","&#128333;"],["MENORAH WITH NINE BRANCHES","&#128334;"],["CLOCK FACE ONE OCLOCK","&#128336;"],["CLOCK FACE TWO OCLOCK","&#128337;"],["CLOCK FACE THREE OCLOCK","&#128338;"],["CLOCK FACE FOUR OCLOCK","&#128339;"],["CLOCK FACE FIVE OCLOCK","&#128340;"],["CLOCK FACE SIX OCLOCK","&#128341;"],["CLOCK FACE SEVEN OCLOCK","&#128342;"],["CLOCK FACE EIGHT OCLOCK","&#128343;"],["CLOCK FACE NINE OCLOCK","&#128344;"],["CLOCK FACE TEN OCLOCK","&#128345;"],["CLOCK FACE ELEVEN OCLOCK","&#128346;"],["CLOCK FACE TWELVE OCLOCK","&#128347;"],["CLOCK FACE ONE-THIRTY","&#128348;"],["CLOCK FACE TWO-THIRTY","&#128349;"],["CLOCK FACE THREE-THIRTY","&#128350;"],["CLOCK FACE FOUR-THIRTY","&#128351;"],["CLOCK FACE FIVE-THIRTY","&#128352;"],["CLOCK FACE SIX-THIRTY","&#128353;"],["CLOCK FACE SEVEN-THIRTY","&#128354;"],["CLOCK FACE EIGHT-THIRTY","&#128355;"],["CLOCK FACE NINE-THIRTY","&#128356;"],["CLOCK FACE TEN-THIRTY","&#128357;"],["CLOCK FACE ELEVEN-THIRTY","&#128358;"],["CLOCK FACE TWELVE-THIRTY","&#128359;"],["MAN IN BUSINESS SUIT LEVITATING","&#128372;"],["SLEUTH OR SPY","&#128373;"],["DARK SUNGLASSES","&#128374;"],["SPIDER","&#128375;"],["SPIDER WEB","&#128376;"],["JOYSTICK","&#128377;"],["MAN DANCING","&#128378;"],["RAISED HAND WITH FINGERS SPLAYED","&#128400;"],["REVERSED HAND WITH MIDDLE FINGER EXTENDED","&#128405;"],["RAISED HAND WITH PART BETWEEN MIDDLE AND RING FINGERS","&#128406;"],["BLACK HEART","&#128420;"],["DESKTOP COMPUTER","&#128421;"],["PRINTER","&#128424;"],["TRACKBALL","&#128434;"],["FRAME WITH PICTURE","&#128444;"],["CARD INDEX DIVIDERS","&#128450;"],["CARD FILE BOX","&#128451;"],["FILE CABINET","&#128452;"],["WASTEBASKET","&#128465;"],["SPIRAL NOTE PAD","&#128466;"],["SPIRAL CALENDAR PAD","&#128467;"],["COMPRESSION","&#128476;"],["OLD KEY","&#128477;"],["ROLLED-UP NEWSPAPER","&#128478;"],["DAGGER KNIFE","&#128481;"],["SPEAKING HEAD IN SILHOUETTE","&#128483;"],["LEFT SPEECH BUBBLE","&#128488;"],["BALLOT BOX WITH BALLOT","&#128499;"],["WORLD MAP","&#128506;"],["MOUNT FUJI","&#128507;"],["TOKYO TOWER","&#128508;"],["STATUE OF LIBERTY","&#128509;"],["SILHOUETTE OF JAPAN","&#128510;"],["MOYAI","&#128511;"],["GRINNING FACE","&#128512;"],["GRINNING FACE WITH SMILING EYES","&#128513;"],["FACE WITH TEARS OF JOY","&#128514;"],["SMILING FACE WITH OPEN MOUTH","&#128515;"],["SMILING FACE WITH OPEN MOUTH AND SMILING EYES","&#128516;"],["SMILING FACE WITH OPEN MOUTH AND COLD SWEAT","&#128517;"],["SMILING FACE WITH OPEN MOUTH AND TIGHTLY-CLOSED EYES","&#128518;"],["SMILING FACE WITH HALO","&#128519;"],["SMILING FACE WITH HORNS","&#128520;"],["WINKING FACE","&#128521;"],["SMILING FACE WITH SMILING EYES","&#128522;"],["FACE SAVOURING DELICIOUS FOOD","&#128523;"],["RELIEVED FACE","&#128524;"],["SMILING FACE WITH HEART-SHAPED EYES","&#128525;"],["SMILING FACE WITH SUNGLASSES","&#128526;"],["SMIRKING FACE","&#128527;"],["NEUTRAL FACE","&#128528;"],["EXPRESSIONLESS FACE","&#128529;"],["UNAMUSED FACE","&#128530;"],["FACE WITH COLD SWEAT","&#128531;"],["PENSIVE FACE","&#128532;"],["CONFUSED FACE","&#128533;"],["CONFOUNDED FACE","&#128534;"],["KISSING FACE","&#128535;"],["FACE THROWING A KISS","&#128536;"],["KISSING FACE WITH SMILING EYES","&#128537;"],["KISSING FACE WITH CLOSED EYES","&#128538;"],["FACE WITH STUCK-OUT TONGUE","&#128539;"],["FACE WITH STUCK-OUT TONGUE AND WINKING EYE","&#128540;"],["FACE WITH STUCK-OUT TONGUE AND TIGHTLY-CLOSED EYES","&#128541;"],["DISAPPOINTED FACE","&#128542;"],["WORRIED FACE","&#128543;"],["ANGRY FACE","&#128544;"],["POUTING FACE","&#128545;"],["CRYING FACE","&#128546;"],["PERSEVERING FACE","&#128547;"],["FACE WITH LOOK OF TRIUMPH","&#128548;"],["DISAPPOINTED BUT RELIEVED FACE","&#128549;"],["FROWNING FACE WITH OPEN MOUTH","&#128550;"],["ANGUISHED FACE","&#128551;"],["FEARFUL FACE","&#128552;"],["WEARY FACE","&#128553;"],["SLEEPY FACE","&#128554;"],["TIRED FACE","&#128555;"],["GRIMACING FACE","&#128556;"],["LOUDLY CRYING FACE","&#128557;"],["FACE WITH OPEN MOUTH","&#128558;"],["HUSHED FACE","&#128559;"],["FACE WITH OPEN MOUTH AND COLD SWEAT","&#128560;"],["FACE SCREAMING IN FEAR","&#128561;"],["ASTONISHED FACE","&#128562;"],["FLUSHED FACE","&#128563;"],["SLEEPING FACE","&#128564;"],["DIZZY FACE","&#128565;"],["FACE WITHOUT MOUTH","&#128566;"],["FACE WITH MEDICAL MASK","&#128567;"],["GRINNING CAT FACE WITH SMILING EYES","&#128568;"],["CAT FACE WITH TEARS OF JOY","&#128569;"],["SMILING CAT FACE WITH OPEN MOUTH","&#128570;"],["SMILING CAT FACE WITH HEART-SHAPED EYES","&#128571;"],["CAT FACE WITH WRY SMILE","&#128572;"],["KISSING CAT FACE WITH CLOSED EYES","&#128573;"],["POUTING CAT FACE","&#128574;"],["CRYING CAT FACE","&#128575;"],["WEARY CAT FACE","&#128576;"],["SLIGHTLY FROWNING FACE","&#128577;"],["SLIGHTLY SMILING FACE","&#128578;"],["UPSIDE-DOWN FACE","&#128579;"],["FACE WITH ROLLING EYES","&#128580;"],["FACE WITH NO GOOD GESTURE","&#128581;"],["FACE WITH OK GESTURE","&#128582;"],["PERSON BOWING DEEPLY","&#128583;"],["SEE-NO-EVIL MONKEY","&#128584;"],["HEAR-NO-EVIL MONKEY","&#128585;"],["SPEAK-NO-EVIL MONKEY","&#128586;"],["HAPPY PERSON RAISING ONE HAND","&#128587;"],["PERSON RAISING BOTH HANDS IN CELEBRATION","&#128588;"],["PERSON FROWNING","&#128589;"],["PERSON WITH POUTING FACE","&#128590;"],["PERSON WITH FOLDED HANDS","&#128591;"],["ROCKET","&#128640;"],["HELICOPTER","&#128641;"],["STEAM LOCOMOTIVE","&#128642;"],["RAILWAY CAR","&#128643;"],["HIGH-SPEED TRAIN","&#128644;"],["HIGH-SPEED TRAIN WITH BULLET NOSE","&#128645;"],["TRAIN","&#128646;"],["METRO","&#128647;"],["LIGHT RAIL","&#128648;"],["STATION","&#128649;"],["TRAM","&#128650;"],["TRAM CAR","&#128651;"],["BUS","&#128652;"],["ONCOMING BUS","&#128653;"],["TROLLEYBUS","&#128654;"],["BUS STOP","&#128655;"],["MINIBUS","&#128656;"],["AMBULANCE","&#128657;"],["FIRE ENGINE","&#128658;"],["POLICE CAR","&#128659;"],["ONCOMING POLICE CAR","&#128660;"],["TAXI","&#128661;"],["ONCOMING TAXI","&#128662;"],["AUTOMOBILE","&#128663;"],["ONCOMING AUTOMOBILE","&#128664;"],["RECREATIONAL VEHICLE","&#128665;"],["DELIVERY TRUCK","&#128666;"],["ARTICULATED LORRY","&#128667;"],["TRACTOR","&#128668;"],["MONORAIL","&#128669;"],["MOUNTAIN RAILWAY","&#128670;"],["SUSPENSION RAILWAY","&#128671;"],["MOUNTAIN CABLEWAY","&#128672;"],["AERIAL TRAMWAY","&#128673;"],["SHIP","&#128674;"],["ROWBOAT","&#128675;"],["SPEEDBOAT","&#128676;"],["HORIZONTAL TRAFFIC LIGHT","&#128677;"],["VERTICAL TRAFFIC LIGHT","&#128678;"],["CONSTRUCTION SIGN","&#128679;"],["POLICE CARS REVOLVING LIGHT","&#128680;"],["TRIANGULAR FLAG ON POST","&#128681;"],["DOOR","&#128682;"],["NO ENTRY SIGN","&#128683;"],["SMOKING SYMBOL","&#128684;"],["NO SMOKING SYMBOL","&#128685;"],["PUT LITTER IN ITS PLACE SYMBOL","&#128686;"],["DO NOT LITTER SYMBOL","&#128687;"],["POTABLE WATER SYMBOL","&#128688;"],["NON-POTABLE WATER SYMBOL","&#128689;"],["BICYCLE","&#128690;"],["NO BICYCLES","&#128691;"],["BICYCLIST","&#128692;"],["MOUNTAIN BICYCLIST","&#128693;"],["PEDESTRIAN","&#128694;"],["NO PEDESTRIANS","&#128695;"],["CHILDREN CROSSING","&#128696;"],["MENS SYMBOL","&#128697;"],["WOMENS SYMBOL","&#128698;"],["RESTROOM","&#128699;"],["BABY SYMBOL","&#128700;"],["TOILET","&#128701;"],["WATER CLOSET","&#128702;"],["SHOWER","&#128703;"],["BATH","&#128704;"],["BATHTUB","&#128705;"],["PASSPORT CONTROL","&#128706;"],["CUSTOMS","&#128707;"],["BAGGAGE CLAIM","&#128708;"],["LEFT LUGGAGE","&#128709;"],["COUCH AND LAMP","&#128715;"],["SLEEPING ACCOMMODATION","&#128716;"],["SHOPPING BAGS","&#128717;"],["BELLHOP BELL","&#128718;"],["BED","&#128719;"],["PLACE OF WORSHIP","&#128720;"],["OCTAGONAL SIGN","&#128721;"],["SHOPPING TROLLEY","&#128722;"],["HINDU TEMPLE","&#128725;"],["HUT","&#128726;"],["ELEVATOR","&#128727;"],["WIRELESS","&#128732;"],["PLAYGROUND SLIDE","&#128733;"],["WHEEL","&#128734;"],["RING BUOY","&#128735;"],["HAMMER AND WRENCH","&#128736;"],["SHIELD","&#128737;"],["OIL DRUM","&#128738;"],["MOTORWAY","&#128739;"],["RAILWAY TRACK","&#128740;"],["MOTOR BOAT","&#128741;"],["UP-POINTING MILITARY AIRPLANE","&#128742;"],["UP-POINTING AIRPLANE","&#128743;"],["UP-POINTING SMALL AIRPLANE","&#128744;"],["SMALL AIRPLANE","&#128745;"],["NORTHEAST-POINTING AIRPLANE","&#128746;"],["AIRPLANE DEPARTURE","&#128747;"],["AIRPLANE ARRIVING","&#128748;"],["SMALL AIRPLANE","&#128745;"],["SATELLITE","&#128752;"],["PASSENGER SHIP","&#128755;"],["SCOOTER","&#128756;"],["MOTOR SCOOTER","&#128757;"],["CANOE","&#128758;"],["SLED","&#128759;"],["FLYING SAUCER","&#128760;"],["SKATEBOARD","&#128761;"],["AUTO RICKSHAW","&#128762;"],["PICKUP TRUCK","&#128763;"],["ROLLER SKATE","&#128764;"],["PINCHED FINGERS","&#129292;"],["WHITE HEART","&#129293;"],["BROWN HEART","&#129294;"],["PINCHING HAND","&#129295;"],["ZIPPER-MOUTH FACE","&#129296;"],["MONEY-MOUTH FACE","&#129297;"],["FACE WITH THERMOMETER","&#129298;"],["NERD FACE","&#129299;"],["THINKING FACE","&#129300;"],["FACE WITH HEAD-BANDAGE","&#129301;"],["ROBOT FACE","&#129302;"],["HUGGING FACE","&#129303;"],["SIGN OF THE HORNS","&#129304;"],["CALL ME HAND","&#129305;"],["RAISED BACK OF HAND","&#129306;"],["LEFT-FACING FIST","&#129307;"],["RIGHT-FACING FIST","&#129308;"],["HANDSHAKE","&#129309;"],["HAND WITH INDEX AND MIDDLE FINGERS CROSSED","&#129310;"],["I LOVE YOU HAND SIGN","&#129311;"],["FACE WITH COWBOY HAT","&#129312;"],["CLOWN FACE","&#129313;"],["NAUSEATED FACE","&#129314;"],["ROLLING ON THE FLOOR LAUGHING","&#129315;"],["DROOLING FACE","&#129316;"],["LYING FACE","&#129317;"],["FACE PALM","&#129318;"],["SNEEZING FACE","&#129319;"],["FACE WITH ONE EYEBROW RAISED","&#129320;"],["GRINNING FACE WITH STAR EYES","&#129321;"],["GRINNING FACE WITH ONE LARGE AND ONE SMALL EYE","&#129322;"],["FACE WITH FINGER COVERING CLOSED LIPS","&#129323;"],["SERIOUS FACE WITH SYMBOLS COVERING MOUTH","&#129324;"],["SMILING FACE WITH SMILING EYES AND HAND COVERING MOUTH","&#129325;"],["FACE WITH OPEN MOUTH VOMITING","&#129326;"],["SHOCKED FACE WITH EXPLODING HEAD","&#129327;"],["PREGNANT WOMAN","&#129328;"],["BREAST-FEEDING","&#129329;"],["PALMS UP TOGETHER","&#129330;"],["SELFIE","&#129331;"],["PRINCE","&#129332;"],["MAN IN TUXEDO","&#129333;"],["MOTHER CHRISTMAS","&#129334;"],["SHRUG","&#129335;"],["PERSON DOING CARTWHEEL","&#129336;"],["JUGGLING","&#129337;"],["FENCER","&#129338;"],["WRESTLERS","&#129340;"],["WATER POLO","&#129341;"],["HANDBALL","&#129342;"],["DIVING MASK","&#129343;"],["WILTED FLOWER","&#129344;"],["DRUM WITH DRUMSTICKS","&#129345;"],["CLINKING GLASSES","&#129346;"],["TUMBLER GLASS","&#129347;"],["SPOON","&#129348;"],["GOAL NET","&#129349;"],["FIRST PLACE MEDAL","&#129351;"],["SECOND PLACE MEDAL","&#129352;"],["THIRD PLACE MEDAL","&#129353;"],["BOXING GLOVE","&#129354;"],["MARTIAL ARTS UNIFORM","&#129355;"],["CURLING STONE","&#129356;"],["LACROSSE STICK AND BALL","&#129357;"],["SOFTBALL","&#129358;"],["FLYING DISC","&#129359;"],["CROISSANT","&#129360;"],["AVOCADO","&#129361;"],["CUCUMBER","&#129362;"],["BACON","&#129363;"],["POTATO","&#129364;"],["CARROT","&#129365;"],["BAGUETTE BREAD","&#129366;"],["GREEN SALAD","&#129367;"],["SHALLOW PAN OF FOOD","&#129368;"],["STUFFED FLATBREAD","&#129369;"],["EGG","&#129370;"],["GLASS OF MILK","&#129371;"],["PEANUTS","&#129372;"],["KIWIFRUIT","&#129373;"],["PANCAKES","&#129374;"],["DUMPLING","&#129375;"],["FORTUNE COOKIE","&#129376;"],["TAKEOUT BOX","&#129377;"],["CHOPSTICKS","&#129378;"],["BOWL WITH SPOON","&#129379;"],["CUP WITH STRAW","&#129380;"],["COCONUT","&#129381;"],["BROCCOLI","&#129382;"],["PIE","&#129383;"],["PRETZEL","&#129384;"],["CUT OF MEAT","&#129385;"],["SANDWICH","&#129386;"],["CANNED FOOD","&#129387;"],["LEAFY GREEN","&#129388;"],["MANGO","&#129389;"],["MOON CAKE","&#129390;"],["BAGEL","&#129391;"],["SMILING FACE WITH SMILING EYES AND THREE HEARTS","&#129392;"],["YAWNING FACE","&#129393;"],["SMILING FACE WITH TEAR","&#129394;"],["FACE WITH PARTY HORN AND PARTY HAT","&#129395;"],["FACE WITH UNEVEN EYES AND WAVY MOUTH","&#129396;"],["OVERHEATED FACE","&#129397;"],["FREEZING FACE","&#129398;"],["NINJA","&#129399;"],["DISGUISED FACE","&#129400;"],["FACE HOLDING BACK TEARS","&#129401;"],["FACE WITH PLEADING EYES","&#129402;"],["SARI","&#129403;"],["LAB COAT","&#129404;"],["GOGGLES","&#129405;"],["HIKING BOOT","&#129406;"],["FLAT SHOE","&#129407;"],["CRAB","&#129408;"],["LION FACE","&#129409;"],["SCORPION","&#129410;"],["TURKEY","&#129411;"],["UNICORN FACE","&#129412;"],["EAGLE","&#129413;"],["DUCK","&#129414;"],["BAT","&#129415;"],["SHARK","&#129416;"],["OWL","&#129417;"],["FOX FACE","&#129418;"],["BUTTERFLY","&#129419;"],["DEER","&#129420;"],["GORILLA","&#129421;"],["LIZARD","&#129422;"],["RHINOCEROS","&#129423;"],["SHRIMP","&#129424;"],["SQUID","&#129425;"],["GIRAFFE FACE","&#129426;"],["ZEBRA FACE","&#129427;"],["HEDGEHOG","&#129428;"],["SAUROPOD","&#129429;"],["T-REX","&#129430;"],["CRICKET","&#129431;"],["KANGAROO","&#129432;"],["LLAMA","&#129433;"],["PEACOCK","&#129434;"],["HIPPOPOTAMUS","&#129435;"],["PARROT","&#129436;"],["RACCOON","&#129437;"],["LOBSTER","&#129438;"],["MOSQUITO","&#129439;"],["MICROBE","&#129440;"],["BADGER","&#129441;"],["SWAN","&#129442;"],["MAMMOTH","&#129443;"],["DODO","&#129444;"],["SLOTH","&#129445;"],["OTTER","&#129446;"],["ORANGUTAN","&#129447;"],["SKUNK","&#129448;"],["FLAMINGO","&#129449;"],["OYSTER","&#129450;"],["BEAVER","&#129451;"],["BISON","&#129452;"],["SEAL","&#129453;"],["GUIDE DOG","&#129454;"],["PROBING CANE","&#129455;"],["EMOJI COMPONENT RED HAIR","&#129456;"],["EMOJI COMPONENT CURLY HAIR","&#129457;"],["EMOJI COMPONENT BALD","&#129458;"],["EMOJI COMPONENT WHITE HAIR","&#129459;"],["BONE","&#129460;"],["LEG","&#129461;"],["FOOT","&#129462;"],["TOOTH","&#129463;"],["SUPERHERO","&#129464;"],["SUPERVILLAIN","&#129465;"],["SAFETY VEST","&#129466;"],["EAR WITH HEARING AID","&#129467;"],["MOTORIZED WHEELCHAIR","&#129468;"],["MANUAL WHEELCHAIR","&#129469;"],["MECHANICAL ARM","&#129470;"],["MECHANICAL LEG","&#129471;"],["CHEESE WEDGE","&#129472;"],["CUPCAKE","&#129473;"],["SALT SHAKER","&#129474;"],["BEVERAGE BOX","&#129475;"],["GARLIC","&#129476;"],["ONION","&#129477;"],["FALAFEL","&#129478;"],["WAFFLE","&#129479;"],["BUTTER","&#129480;"],["MATE DRINK","&#129481;"],["ICE CUBE","&#129482;"],["BUBBLE TEA","&#129483;"],["TROLL","&#129484;"],["STANDING PERSON","&#129485;"],["KNEELING PERSON","&#129486;"],["DEAF PERSON","&#129487;"],["FACE WITH MONOCLE","&#129488;"],["ADULT","&#129489;"],["CHILD","&#129490;"],["OLDER ADULT","&#129491;"],["BEARDED PERSON","&#129492;"],["PERSON WITH HEADSCARF","&#129493;"],["PERSON IN STEAMY ROOM","&#129494;"],["PERSON CLIMBING","&#129495;"],["PERSON IN LOTUS POSITION","&#129496;"],["MAGE","&#129497;"],["FAIRY","&#129498;"],["VAMPIRE","&#129499;"],["MERPERSON","&#129500;"],["ELF","&#129501;"],["GENIE","&#129502;"],["ZOMBIE","&#129503;"],["BRAIN","&#129504;"],["ORANGE HEART","&#129505;"],["BILLED CAP","&#129506;"],["SCARF","&#129507;"],["GLOVES","&#129508;"],["COAT","&#129509;"],["SOCKS","&#129510;"],["RED GIFT ENVELOPE","&#129511;"],["FIRECRACKER","&#129512;"],["JIGSAW PUZZLE PIECE","&#129513;"],["TEST TUBE","&#129514;"],["PETRI DISH","&#129515;"],["DNA DOUBLE HELIX","&#129516;"],["COMPASS","&#129517;"],["ABACUS","&#129518;"],["FIRE EXTINGUISHER","&#129519;"],["TOOLBOX","&#129520;"],["BRICK","&#129521;"],["MAGNET","&#129522;"],["LUGGAGE","&#129523;"],["LOTION BOTTLE","&#129524;"],["SPOOL OF THREAD","&#129525;"],["BALL OF YARN","&#129526;"],["SAFETY PIN","&#129527;"],["TEDDY BEAR","&#129528;"],["BROOM","&#129529;"],["BASKET","&#129530;"],["ROLL OF PAPER","&#129531;"],["BAR OF SOAP","&#129532;"],["SPONGE","&#129533;"],["RECEIPT","&#129534;"],["NAZAR AMULET","&#129535;"],["BALLET SHOES","&#129648;"],["ONE-PIECE SWIMSUIT","&#129649;"],["BRIEFS","&#129650;"],["SHORTS","&#129651;"],["THONG SANDAL","&#129652;"],["LIGHT BLUE HEART","&#129653;"],["GREY HEART","&#129654;"],["PINK HEART","&#129655;"],["DROP OF BLOOD","&#129656;"],["ADHESIVE BANDAGE","&#129657;"],["STETHOSCOPE","&#129658;"],["X-RAY","&#129659;"],["CRUTCH","&#129660;"],["YO-YO","&#129664;"],["KITE","&#129665;"],["PARACHUTE","&#129666;"],["BOOMERANG","&#129667;"],["MAGIC WAND","&#129668;"],["PINATA","&#129669;"],["NESTING DOLLS","&#129670;"],["MARACAS","&#129671;"],["FLUTE","&#129672;"],["RINGED PLANET","&#129680;"],["CHAIR","&#129681;"],["RAZOR","&#129682;"],["AXE","&#129683;"],["DIYA LAMP","&#129684;"],["BANJO","&#129685;"],["MILITARY HELMET","&#129686;"],["ACCORDION","&#129687;"],["LONG DRUM","&#129688;"],["COIN","&#129689;"],["CARPENTRY SAW","&#129690;"],["SCREWDRIVER","&#129691;"],["LADDER","&#129692;"],["HOOK","&#129693;"],["MIRROR","&#129694;"],["WINDOW","&#129695;"],["PLUNGER","&#129696;"],["SEWING NEEDLE","&#129697;"],["KNOT","&#129698;"],["BUCKET","&#129699;"],["MOUSE TRAP","&#129700;"],["TOOTHBRUSH","&#129701;"],["HEADSTONE","&#129702;"],["PLACARD","&#129703;"],["ROCK","&#129704;"],["MIRROR BALL","&#129705;"],["IDENTIFICATION CARD","&#129706;"],["LOW BATTERY","&#129707;"],["HAMSA","&#129708;"],["FOLDING HAND FAN","&#129709;"],["HAIR PICK","&#129710;"],["KHANDA","&#129711;"],["FLY","&#129712;"],["WORM","&#129713;"],["BEETLE","&#129714;"],["COCKROACH","&#129715;"],["POTTED PLANT","&#129716;"],["WOOD","&#129717;"],["FEATHER","&#129718;"],["LOTUS","&#129719;"],["CORAL","&#129720;"],["EMPTY NEST","&#129721;"],["NEST WITH EGGS","&#129722;"],["HYACINTH","&#129723;"],["JELLYFISH","&#129724;"],["WING","&#129725;"],["GOOSE","&#129727;"],["ANATOMICAL HEART","&#129728;"],["LUNGS","&#129729;"],["PEOPLE HUGGING","&#129730;"],["PREGNANT MAN","&#129731;"],["PREGNANT PERSON","&#129732;"],["PERSON WITH CROWN","&#129733;"],["MOOSE","&#129742;"],["DONKEY","&#129743;"],["BLUEBERRIES","&#129744;"],["BELL PEPPER","&#129745;"],["OLIVE","&#129746;"],["FLATBREAD","&#129747;"],["TAMALE","&#129748;"],["FONDUE","&#129749;"],["TEAPOT","&#129750;"]];function Zu(t){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(t)}function $u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ic(r.key),r)}}function Qu(t,e,n){return e=nc(e),function(t,e){if(e&&("object"===Zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tc()?Reflect.construct(e,n||[],nc(t).constructor):e.apply(t,n))}function tc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tc=function(){return!!t})()}function ec(){return ec="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ec.apply(this,arguments)}function nc(t){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nc(t)}function rc(t,e){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rc(t,e)}function oc(t,e,n){return(e=ic(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ic(t){var e=function(t,e){if("object"!=Zu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Zu(e)?e:e+""}function ac(){ac=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Zu(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Zu(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function uc(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function cc(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){uc(i,r,o,a,u,"next",t)}function u(t){uc(i,r,o,a,u,"throw",t)}a(void 0)}))}}var lc={"item.open":[["click",function(t,e){t.preventDefault(),e.model.actionOpen()}]],"item.close":[["click",function(t,e){t.preventDefault(),e.model.actionClose()}]],"item.modal":[["click",function(t,e){t.preventDefault(),e.model.dispatchEvent("item.modal")}]],"item.link":[["click",function(t,e){t.preventDefault();var n=null;switch(e.model.variant){case"url":n=e.model.url;break;case"youtube":n=e.model.youtubeLink}n&&window.open(n,"_blank")}]],"item.mark":[["click",function(){var t=cc(ac().mark((function t(e,n){return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n.model.dispatchEvent("item.mark"),n.model.marked=!0,t.next=5,n.model.save();case 5:n.model.dom.classList.add("item--marked"),i((function(){n.model.dispatchEvent("item.marked")}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]],"item.unmark":[["click",function(){var t=cc(ac().mark((function t(e,n){return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n.model.dispatchEvent("item.unmark"),n.model.marked=!1,t.next=5,n.model.save();case 5:n.model.dom.classList.remove("item--marked"),i((function(){n.model.dispatchEvent("item.unmarked")}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]],"item.edit":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.showModelModal("item",e.model,"edit")}]],"item.delete":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.view.deleteModel(e.model)}]],"item.more":[["click",function(){var t=cc(ac().mark((function t(e,n){return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n.model.amount=n.model.amount+1,t.next=4,n.model.save();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]],"item.less":[["click",function(){var t=cc(ac().mark((function t(e,n){return ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n.model.amount=n.model.amount-1,t.next=4,n.model.save();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]],"item.up":[["click",zt((function(t,e){e.model.constructor.app.view.updateIndexOrder(e.model.parent)}),750,(function(t,e){t.preventDefault();var n=e.model.dom;if(!n.previousElementSibling)return!0;n.parentElement.insertBefore(n,n.previousElementSibling)}))]],"item.down":[["click",zt((function(t,e){e.model.constructor.app.view.updateIndexOrder(e.model.parent)}),750,(function(t,e){t.preventDefault();var n=e.model.dom;if(!n.nextElementSibling)return!0;Dt(n,n.nextElementSibling)}))]]},sc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qu(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rc(t,e)}(e,t),n=e,r=[{key:"youtubeLink",get:function(){return dn(this.youtube)?null:"https://www.youtube.com/watch?v=".concat(this.youtube)}},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.dom.classList[this.marked?"add":"remove"]("item--marked");for(var r=this.constructor.modelFields.variant.options,o=0;o<r.length;o++){var i=r[o];this.dom.classList[i===this.variant?"add":"remove"]("item--".concat(i))}ec(nc(e.prototype),"update",this).call(this,t,n)}}],r&&$u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Ju);function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bc(r.key),r)}}function dc(t,e,n){return e=yc(e),function(t,e){if(e&&("object"===fc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hc()?Reflect.construct(e,n||[],yc(t).constructor):e.apply(t,n))}function hc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hc=function(){return!!t})()}function yc(t){return yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yc(t)}function vc(t,e){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vc(t,e)}function mc(t,e,n){return(e=bc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bc(t){var e=function(t,e){if("object"!=fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fc(e)?e:e+""}oc(sc,"modelType","item"),oc(sc,"modelParentType","group"),oc(sc,"childrenHost",".item__children"),oc(sc,"modelFields",{rel:{type:"hidden",required:!0},icon:{type:"text",max:32,autocomplete:Xu},label:{type:"text",max:60,required:!0},marked:{type:"checkbox",value:!1},variant:{label:{text:"Type"},type:"select",value:"label",options:["label","url","note","youtube"],required:!0},amount:{type:"number",value:0},note:{type:"textarea",value:""},url:{label:{text:"URL including protocol"},type:"text",value:""},youtube:{label:{text:"Youtube id"},type:"text",value:""}}),oc(sc,"modelActions",lc),oc(sc,"modelBinds",[function(t){if(t.modal){var e=t.modal.dom.querySelector('[name="variant"]');e.addEventListener("change",(function(){t.modal.dom.setAttribute("data-item-variant",e.value)})),t.modal.dom.setAttribute("data-item-variant",e.value)}}]);var gc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),dc(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(e,t),n=e,o=[{key:"modalRender",value:function(t){t.as["header.controls"]="",t.as["footer.controls.before"]='<button class="ui-button ui-button--icon ui-button--hide-label-m" data-action="settings.reset" data-modal="ctrl:close" type="button"><span class="ui-icon" data-icon="update"><span></span></span><span class="ui-button__label">Reset</span></button>'}}],(r=[{key:"applySettings",value:function(){document.documentElement.setAttribute("data-interface-size",this.interfaceSize),document.documentElement.setAttribute("data-interface-simple",this.simpleForms?"true":"false"),this.constructor.app.view.dom.classList[this.showOrderControls?"add":"remove"]("view--show-order-controls"),this.constructor.app.view.dom[this.exclusiveMaximize?"setAttribute":"removeAttribute"]("data-exclusive-maximize","true"),this.constructor.app.view.dom.setAttribute("data-note-style",this.itemShowNote),this.constructor.app.view.dom.setAttribute("data-youtube-style",this.itemShowYoutube),document.documentElement.style.setProperty("--modal-youtube-width","".concat(this.modalYoutubeWidth,"%"));for(var t=["boardColumns","groupColumns","groupColumnsMax","itemColumns","itemColumnsMax","itemColumnsMaxMax"],e=0;e<t.length;e++){var n=t[e],r=ln(n);document.documentElement.style.setProperty("--".concat(r),this._get(n))}sc.modelFields.variant.value=this.defaultVariant}}])&&pc(n.prototype,r),o&&pc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ju);mc(gc,"modelType","settings"),mc(gc,"modelFields",{interfaceSize:{label:{text:"Interface size"},type:"select",value:window.innerWidth<768?"mobile":"default",options:["tiny","small","default","mobile","medium","large"]},simpleForms:{label:{text:"Hide extended options"},type:"checkbox",value:!0},showOrderControls:{label:{text:"Always show controls to change the order"},type:"checkbox",value:!1},boardColumns:{label:{text:"Board columns (not maximized)"},type:"number",min:1,value:window.innerWidth<992?1:2},groupColumns:{label:{text:"Group columns (Board not maximized)"},type:"number",min:1,value:window.innerWidth<992?1:2},groupColumnsMax:{label:{text:"Group columns (Board maximized)"},type:"number",min:1,value:window.innerWidth<992?1:4},itemColumns:{label:{text:"Item columns (Board + Group not maximized)"},type:"number",min:1,value:1},itemColumnsMax:{label:{text:"Item columns (Board not, Group maximized)"},type:"number",min:1,value:window.innerWidth<992?1:2},itemColumnsMaxMax:{label:{text:"Item columns (Board + Group maximized)"},type:"number",min:1,value:window.innerWidth<992?1:4},defaultVariant:{label:{text:"Default type when creating a new item"},type:"select",value:"label",options:["label","note","url","youtube"]},maximizeBoardWithGroup:{label:{text:"Maximize board if group is maximized"},type:"checkbox",value:window.innerWidth<992},exclusiveMaximize:{label:{text:"Show only maximized board or group"},type:"checkbox",value:!0},easyHideModals:{label:{text:"Allow cancelling popups by escape key or background click"},type:"checkbox",value:!1},itemShowNote:{label:{text:"Show note content as"},type:"select",value:"content",options:["content","modal","both"]},itemShowYoutube:{label:{text:"Show youtube player as"},type:"select",value:"modal",options:["content","modal","both"]},modalYoutubeWidth:{label:{text:"Youtube player popup size"},prefix:"25%",suffix:"100%",type:"range",min:25,value:window.innerWidth<992?100:65,max:100,step:1}}),mc(gc,"modelActions",{"settings.reset":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.resetSettings()}]]}),mc(gc,"modelBinds",[function(t){t.dom.addEventListener("modal.hidden",(function(e){e.detail.target.confirmed||t.model.constructor.app.settings.applySettings()}));var e=t.dom.querySelector('[name="interfaceSize"]');e.addEventListener("change",(function(){document.documentElement.setAttribute("data-interface-size",e.value)}));var n=t.dom.querySelector('[name="simpleForms"]');n.addEventListener("change",(function(){document.documentElement.setAttribute("data-interface-simple",n.checked?"true":"false")}));var r=t.dom.querySelector('[name="showOrderControls"]');r.addEventListener("change",(function(){t.model.constructor.app.view.dom.classList[r.checked?"add":"remove"]("view--show-order-controls")}));var o=t.dom.querySelector('[name="exclusiveMaximize"]');o.addEventListener("change",(function(){t.model.constructor.app.view.dom[o.checked?"setAttribute":"removeAttribute"]("data-exclusive-maximize","true")}));var i=t.dom.querySelector('[name="itemShowNote"]');i.addEventListener("change",(function(){t.model.constructor.app.view.dom.setAttribute("data-note-style",i.value)}));var a=t.dom.querySelector('[name="itemShowYoutube"]');a.addEventListener("change",(function(){t.model.constructor.app.view.dom.setAttribute("data-youtube-style",a.value)}));for(var u=t.dom.querySelectorAll(['[name="boardColumns"]','[name="groupColumns"]','[name="groupColumnsMax"]','[name="itemColumns"]','[name="itemColumnsMax"]','[name="itemColumnsMaxMax"]'].join(", ")),c=function(){var t=u[l];t.addEventListener("change",(function(){var e=ln(t.getAttribute("name"));document.documentElement.style.setProperty("--".concat(e),parseInt(t.value))}))},l=0;l<u.length;l++)c()}]);var Ec=JSON.parse('{"theme":"classic","modalColorHeaderText":"#ffffff","modalColorHeaderTextOpacity":100,"modalColorHeaderBackground":"#00008b","modalColorHeaderBackgroundOpacity":100,"modalColorFooterText":"#ffffff","modalColorFooterTextOpacity":100,"modalColorFooterBackground":"#00008b","modalColorFooterBackgroundOpacity":100,"modalColorText":"#00008b","modalColorTextOpacity":100,"modalColorBackground":"#ffffff","modalColorBackgroundOpacity":100,"modalColorContentBackground":"#ADD8E6","modalColorContentBackgroundOpacity":100,"modalColorBackdrop":"#00008b","modalColorBackdropOpacity":80,"modalColorShadow":"#000000","modalColorShadowOpacity":100,"buttonColorBackgroundInteractive":"#ffffff","buttonColorBackgroundInteractiveOpacity":25,"inputColorBackground":"#ffffff","inputColorBackgroundOpacity":100,"errorColorText":"#ffffff","errorColorTextOpacity":100,"errorColorBackground":"#B22222","errorColorBackgroundOpacity":100,"errorColorShadow":"#000000","errorColorShadowOpacity":100,"tooltipColorText":"#000000","tooltipColorTextOpacity":100,"tooltipColorBackground":"#FFD700","tooltipColorBackgroundOpacity":100,"tooltipColorShadow":"#000000","tooltipColorShadowOpacity":100,"viewColorBackground":"#F5F5F5","viewColorBackgroundOpacity":100,"contentColorSpacer":"#FFFFFF","contentColorSpacerOpacity":100,"boardColorBackground":"#000000","boardColorBackgroundOpacity":10,"boardColorNavText":"#ffffff","boardColorNavTextOpacity":100,"boardColorNavBackground":"#00008b","boardColorNavBackgroundOpacity":100,"groupColorBackground":"#ADD8E6","groupColorBackgroundOpacity":100,"groupColorNavText":"#ffffff","groupColorNavTextOpacity":100,"groupColorNavBackground":"#0000CD","groupColorNavBackgroundOpacity":100,"groupColorNavBackgroundMarked":"#8B0000","groupColorNavBackgroundMarkedOpacity":100,"groupColorNavBackgroundCompleted":"#006400","groupColorNavBackgroundCompletedOpacity":100,"itemColorText":"#000000","itemColorTextOpacity":100,"itemColorBackground":"#F5F5F5","itemColorBackgroundOpacity":100,"itemColorNavText":"#ffffff","itemColorNavTextOpacity":100,"itemColorNavBackground":"#B22222","itemColorNavBackgroundOpacity":100,"itemColorNavBackgroundMarked":"#228B22","itemColorNavBackgroundMarkedOpacity":100}');function Oc(t){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(t)}function wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cc(r.key),r)}}function Ac(t,e,n){return e=Tc(e),function(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Sc()?Reflect.construct(e,n||[],Tc(t).constructor):e.apply(t,n))}function Sc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Sc=function(){return!!t})()}function Tc(t){return Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tc(t)}function Lc(t,e){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lc(t,e)}function Ic(t,e,n){return(e=Cc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cc(t){var e=function(t,e){if("object"!=Oc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Oc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Oc(e)?e:e+""}function Nc(){Nc=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Oc(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Oc(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Rc(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}var Pc={classic:o.t(Ec,2)},kc={"theme.reset":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.resetTheme()}]],"theme.apply":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.importTheme()}]],"theme.copy":[["click",function(){var t,e=(t=Nc().mark((function t(e,n){var r;return Nc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),delete(r=n.model.data).id,t.next=5,Yt(JSON.stringify(r));case 5:t.sent&&n.model.constructor.app.showAlertModal("Copied to clipboard",'<div class="ui-text"><p>The theme JSON was copied to your clipboard,<br />Press <q>ctrl/cmd + v</q> to paste into any text input or editor.</p></div>');case 9:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Rc(i,r,o,a,u,"next",t)}function u(t){Rc(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}()]]},_c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ac(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lc(t,e)}(e,t),n=e,o=[{key:"modalRender",value:function(t){t.as["header.controls.custom"]=['<button class="ui-button ui-button--icon ui-button--hide-label-m" data-action="theme.apply" data-modal="ctrl:close" data-focus="no-auto" type="button"><span class="ui-icon" data-icon="action-import"><span></span></span><span class="ui-button__label">Import</span></button>','<button class="ui-button ui-button--icon ui-button--hide-label-m" data-action="theme.copy" data-focus="no-auto" type="button"><span class="ui-icon" data-icon="action-export"><span></span></span><span class="ui-button__label">Export</span></button>'],t.as["footer.controls.before"]=['<button class="ui-button ui-button--icon ui-button--hide-label-m" data-action="theme.reset" data-modal="ctrl:close" type="button"><span class="ui-icon" data-icon="update"><span></span></span><span class="ui-button__label">Reset</span></button>']}}],(r=[{key:"applyTheme",value:function(){for(var t=["modalColorHeaderText","modalColorHeaderBackground","modalColorFooterText","modalColorFooterBackground","modalColorText","modalColorBackground","modalColorContentBackground","modalColorBackdrop","modalColorShadow","buttonColorBackgroundInteractive","inputColorBackground","errorColorText","errorColorBackground","errorColorShadow","tooltipColorText","tooltipColorBackground","tooltipColorShadow","viewColorBackground","contentColorSpacer","boardColorBackground","boardColorNavText","boardColorNavBackground","groupColorBackground","groupColorNavText","groupColorNavBackground","groupColorNavBackgroundMarked","groupColorNavBackgroundCompleted","itemColorText","itemColorBackground","itemColorNavText","itemColorNavBackground","itemColorNavBackgroundMarked"],e=0;e<t.length;e++){var n=t[e],r=cn(this._get(n),an(this._get("".concat(n,"Opacity"))/100));document.documentElement.style.setProperty("--".concat(ln(n)),r)}}}])&&wc(n.prototype,r),o&&wc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ju);function xc(t){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function jc(t,e,n){return e=Dc(e),function(t,e){if(e&&("object"===xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mc()?Reflect.construct(e,n||[],Dc(t).constructor):e.apply(t,n))}function Mc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mc=function(){return!!t})()}function Dc(t){return Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dc(t)}function Hc(t,e){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hc(t,e)}function Bc(t,e,n){return(e=Fc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fc(t){var e=function(t,e){if("object"!=xc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=xc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xc(e)?e:e+""}Ic(_c,"modelType","theme"),Ic(_c,"modelFields",{theme:{label:{text:"Select theme"},type:"select",value:"classic",options:["custom","classic"]},modalColorHeaderText:{type:"color",value:"#ffffff"},modalColorHeaderTextOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorHeaderBackground:{type:"color",value:"#00008b"},modalColorHeaderBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorFooterText:{type:"color",value:"#ffffff"},modalColorFooterTextOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorFooterBackground:{type:"color",value:"#00008b"},modalColorFooterBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorText:{type:"color",value:"#00008b"},modalColorTextOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorBackground:{type:"color",value:"#ffffff"},modalColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorContentBackground:{type:"color",value:"#ADD8E6"},modalColorContentBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},modalColorBackdrop:{type:"color",value:"#00008b"},modalColorBackdropOpacity:{type:"range",min:0,value:80,max:100,step:1},modalColorShadow:{type:"color",value:"#000000"},modalColorShadowOpacity:{type:"range",min:0,value:100,max:100,step:1},buttonColorBackgroundInteractive:{type:"color",value:"#ffffff"},buttonColorBackgroundInteractiveOpacity:{type:"range",min:0,value:25,max:100,step:1},inputColorBackground:{type:"color",value:"#ffffff"},inputColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},errorColorText:{type:"color",value:"#ffffff"},errorColorTextOpacity:{type:"range",min:0,value:100,max:100,step:1},errorColorBackground:{type:"color",value:"#B22222"},errorColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},errorColorShadow:{type:"color",value:"#000000"},errorColorShadowOpacity:{type:"range",min:0,value:100,max:100,step:1},tooltipColorText:{type:"color",value:"#000000"},tooltipColorTextOpacity:{type:"range",min:0,value:100,max:100,step:1},tooltipColorBackground:{type:"color",value:"#FFD700"},tooltipColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},tooltipColorShadow:{type:"color",value:"#000000"},tooltipColorShadowOpacity:{type:"range",min:0,value:100,max:100,step:1},viewColorBackground:{type:"color",value:"#F5F5F5"},viewColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},contentColorSpacer:{type:"color",value:"#FFFFFF"},contentColorSpacerOpacity:{type:"range",min:0,value:100,max:100,step:1},boardColorBackground:{type:"color",value:"#000000"},boardColorBackgroundOpacity:{type:"range",min:0,value:10,max:100,step:1},boardColorNavText:{type:"color",value:"#ffffff"},boardColorNavTextOpacity:{type:"range",min:0,value:100,max:100,step:1},boardColorNavBackground:{type:"color",value:"#00008b"},boardColorNavBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},groupColorBackground:{type:"color",value:"#ADD8E6"},groupColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},groupColorNavText:{type:"color",value:"#ffffff"},groupColorNavTextOpacity:{type:"range",min:0,value:100,max:100,step:1},groupColorNavBackground:{type:"color",value:"#0000CD"},groupColorNavBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},groupColorNavBackgroundMarked:{type:"color",value:"#8B0000"},groupColorNavBackgroundMarkedOpacity:{type:"range",min:0,value:100,max:100,step:1},groupColorNavBackgroundCompleted:{type:"color",value:"#006400"},groupColorNavBackgroundCompletedOpacity:{type:"range",min:0,value:100,max:100,step:1},itemColorText:{type:"color",value:"#000000"},itemColorTextOpacity:{type:"range",min:0,value:100,max:100,step:1},itemColorBackground:{type:"color",value:"#F5F5F5"},itemColorBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},itemColorNavText:{type:"color",value:"#ffffff"},itemColorNavTextOpacity:{type:"range",min:0,value:100,max:100,step:1},itemColorNavBackground:{type:"color",value:"#B22222"},itemColorNavBackgroundOpacity:{type:"range",min:0,value:100,max:100,step:1},itemColorNavBackgroundMarked:{type:"color",value:"#228B22"},itemColorNavBackgroundMarkedOpacity:{type:"range",min:0,value:100,max:100,step:1}}),Ic(_c,"modelActions",kc),Ic(_c,"modelBinds",[function(t){t.dom.addEventListener("modal.hidden",(function(e){e.detail.target.confirmed||t.model.constructor.app.theme.applyTheme()}));for(var e=t.dom.querySelectorAll(['[type="color"]','[type="range"]'].join(", ")),n="Opacity",r=function(){var r=e[o];r.addEventListener("change",(function(){var e=r.getAttribute("name");e.substring(e.length-7)===n&&(e=e.substring(0,e.length-7));var o=t.dom.querySelector('[name="'.concat(e,'"]')),i=t.dom.querySelector('[name="'.concat(e).concat(n,'"]')),a=cn(o.value,an(i.value/100));document.documentElement.style.setProperty("--".concat(ln(e)),a)}))},o=0;o<e.length;o++)r();var i=t.dom.querySelector('[name="theme"]'),a=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="custom"===e,o=t.dom.querySelectorAll(".ui-input--color, .ui-input--range"),i=0;i<o.length;i++)if(o[i].style.display=r?"":"none",!n&&!r){var a=o[i].querySelector("input");Pc[e]&&void 0!==Pc[e][a.name]&&(a.value=Pc[e][a.name],a.dispatchEvent(new CustomEvent("change")))}};i.addEventListener("change",(function(){a(i.value)})),a(i.value,!0)}]);var Gc={"board.toggle":[["click",function(t,e){t.preventDefault(),e.model.isOpen()?e.model.actionClose():e.model.actionOpen()}]],"board.open":[["click",function(t,e){t.preventDefault(),e.model.actionOpen()}]],"board.close":[["click",function(t,e){t.preventDefault(),e.model.actionClose()}]],"board.maximize":[["click",function(t,e){t.preventDefault(),e.model.actionMaximize()}]],"board.minimize":[["click",function(t,e){t.preventDefault(),e.model.actionMinimize()}]],"board.edit":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.showModelModal("board",e.model,"edit")}]],"board.delete":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.view.deleteModel(e.model)}]],"group.create":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.showModelModal("group",null,"create",e.model)}]],"board.up":[["click",zt((function(t,e){e.model.constructor.app.view.updateIndexOrder(e.model.parent)}),750,(function(t,e){t.preventDefault();var n=e.model.dom;if(!n.previousElementSibling)return!0;n.parentElement.insertBefore(n,n.previousElementSibling)}))]],"board.down":[["click",zt((function(t,e){e.model.constructor.app.view.updateIndexOrder(e.model.parent)}),750,(function(t,e){t.preventDefault();var n=e.model.dom;if(!n.nextElementSibling)return!0;Dt(n,n.nextElementSibling)}))]]},Wc=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jc(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hc(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(Ju);function Uc(t){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(t)}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zc(r.key),r)}}function Kc(t,e,n){return e=Vc(e),function(t,e){if(e&&("object"===Uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zc()?Reflect.construct(e,n||[],Vc(t).constructor):e.apply(t,n))}function zc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zc=function(){return!!t})()}function qc(){return qc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},qc.apply(this,arguments)}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(t)}function Jc(t,e){return Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jc(t,e)}function Xc(t,e,n){return(e=Zc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zc(t){var e=function(t,e){if("object"!=Uc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Uc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Uc(e)?e:e+""}function $c(){$c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Uc(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Uc(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Qc(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function tl(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qc(i,r,o,a,u,"next",t)}function u(t){Qc(i,r,o,a,u,"throw",t)}a(void 0)}))}}Bc(Wc,"modelType","board"),Bc(Wc,"childrenType","group"),Bc(Wc,"childrenHost",".board__children"),Bc(Wc,"modelFields",{icon:{type:"text",max:32,autocomplete:Xu},label:{type:"text",max:60,required:!0}}),Bc(Wc,"modelActions",Gc);var el={"group.toggle":[["click",function(t,e){t.preventDefault(),e.model.isOpen()?e.model.actionClose():e.model.actionOpen()}]],"group.open":[["click",function(t,e){t.preventDefault(),e.model.actionOpen()}]],"group.close":[["click",function(t,e){t.preventDefault(),e.model.actionClose()}]],"group.maximize":[["click",function(t,e){t.preventDefault(),e.model.actionMaximize()}]],"group.minimize":[["click",function(t,e){t.preventDefault(),e.model.actionMinimize()}]],"group.marked":[["click",function(){var t=tl($c().mark((function t(e,n){return $c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n.model.dispatchEvent("group.mark"),n.model.marked=!0,t.next=5,n.model.save();case 5:n.model.dom.classList.add("group--marked"),i((function(){n.model.dispatchEvent("group.marked")}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]],"group.unmarked":[["click",function(){var t=tl($c().mark((function t(e,n){return $c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n.model.dispatchEvent("group.unmark"),n.model.marked=!1,t.next=5,n.model.save();case 5:n.model.dom.classList.remove("group--marked"),i((function(){n.model.dispatchEvent("group.unmarked")}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()]],"group.edit":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.showModelModal("group",e.model,"edit")}]],"group.delete":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.view.deleteModel(e.model)}]],"item.create":[["click",function(t,e){t.preventDefault(),e.model.constructor.app.showModelModal("item",null,"create",e.model)}]],"group.up":[["click",zt((function(t,e){e.model.constructor.app.view.updateIndexOrder(e.model.parent)}),750,(function(t,e){t.preventDefault();var n=e.model.dom;if(!n.previousElementSibling)return!0;n.parentElement.insertBefore(n,n.previousElementSibling)}))]],"group.down":[["click",zt((function(t,e){e.model.constructor.app.view.updateIndexOrder(e.model.parent)}),750,(function(t,e){t.preventDefault();var n=e.model.dom;if(!n.nextElementSibling)return!0;Dt(n,n.nextElementSibling)}))]]},nl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Kc(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jc(t,e)}(e,t),n=e,r=[{key:"updateAsync",value:(o=tl($c().mark((function t(){var e,n,r;return $c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.constructor.app.view.getModels("item",null,{rel:this.id});case 2:if((e=t.sent).length){t.next=6;break}return this.stats={itemUnmarked:0,itemMarked:0,noAsync:!0},t.abrupt("return");case 6:return t.next=8,this.constructor.app.view.loadModelsParent(e);case 8:for(n=0,r=0;r<e.length;r++)e[r].marked&&n++;this.dom&&this.dom.classList[e.length-n>0?"remove":"add"]("group--completed"),this.stats={itemUnmarked:e.length-n,itemMarked:n,noAsync:!0};case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dom.classList[this.marked?"add":"remove"]("group--marked"),qc(Vc(e.prototype),"update",this).call(this,t)}},{key:"actionMaximize",value:function(){this.constructor.app.settings.maximizeBoardWithGroup&&(this.parent.isMaximized()||this.parent.actionMaximize()),qc(Vc(e.prototype),"actionMaximize",this).call(this)}}],r&&Yc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ju);function rl(t){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(t)}function ol(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return il(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?il(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function al(){al=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==rl(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(rl(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function ul(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function cl(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ul(i,r,o,a,u,"next",t)}function u(t){ul(i,r,o,a,u,"throw",t)}a(void 0)}))}}function ll(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function sl(t,e){return t.get(fl(t,e))}function fl(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hl(r.key),r)}}function dl(t,e,n){return e&&pl(t.prototype,e),n&&pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hl(t){var e=function(t,e){if("object"!=rl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==rl(e)?e:e+""}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e,n){return e=bl(e),function(t,e){if(e&&("object"===rl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ml()?Reflect.construct(e,n||[],bl(t).constructor):e.apply(t,n))}function ml(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ml=function(){return!!t})()}function bl(t){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bl(t)}function gl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}function El(t,e){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},El(t,e)}Xc(nl,"modelType","group"),Xc(nl,"modelParentType","board"),Xc(nl,"childrenType","item"),Xc(nl,"childrenHost",".group__children"),Xc(nl,"modelFields",{rel:{type:"hidden",required:!0},icon:{type:"text",max:32,autocomplete:Xu},label:{type:"text",max:60,required:!0},marked:{label:{text:"Show unmarked items only"},type:"checkbox",value:!0}}),Xc(nl,"modelActions",el);var Ol,wl,Al,Sl=function(t){function e(){return yl(this,e),vl(this,e,arguments)}return gl(e,t),dl(e)}(y),Tl=new WeakMap,Ll=new WeakMap,Il=new WeakMap,Cl=new WeakMap,Nl=function(t){function e(t,n){var r;yl(this,e),ll(r=vl(this,e,[null,t,n]),Tl,{}),ll(r,Ll,{}),ll(r,Il,{}),ll(r,Cl,!1);try{r.bind()}catch(t){throw new Sl("Failed to bind view",t)}return r}return gl(e,t),dl(e,[{key:"stats",get:function(){return sl(Il,this)},set:function(t){Z(sl(Il,this),t,!0,!0)}},{key:"update",value:function(){return null}},{key:"dom",get:function(){return document.getElementById("view")}},{key:"children",get:function(){return this.dom.querySelector(".boards__list")}},{key:"bind",value:function(){var t,e=this;sl(Cl,this)||(this.parent.addEventListener("data.ready",cl(al().mark((function t(){var n;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModels("board",e);case 2:n=t.sent,e.renderModels(n),e.bindModels(n),n&&1===n.length&&(e.parent.selectAction("board.open",n[0].dom)[0].click(),e.parent.selectAction("board.maximize",n[0].dom)[0].click());case 6:case"end":return t.stop()}}),t)})))),this.addEventListener("board.open",function(){var t=cl(al().mark((function t(n){var r;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModels("group",null,{rel:n.detail.target.id});case 2:return r=t.sent,n.detail.target.stats={group:r.length},t.next=6,e.loadModelsParent(r);case 6:e.renderModels(r),e.bindModels(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.addEventListener("board.maximized",(function(t){var n=t.detail.target.parent.children.closest("[data-scroller]");e.parent.scrollTo(t.detail.target.dom,null,0,n)})),this.addEventListener("board.close",(function(t){t.detail.target.children.innerHTML=""})),this.addEventListener("group.open",function(){var t=cl(al().mark((function t(n){var r;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModels("item",null,{rel:n.detail.target.id});case 2:return r=t.sent,n.detail.target.stats={item:r.length},t.next=6,e.loadModelsParent(r);case 6:e.renderModels(r),e.bindModels(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.addEventListener("group.maximized",(function(t){var n=t.detail.target.parent.children.closest("[data-scroller]");e.parent.scrollTo(t.detail.target.dom,null,0,n)})),this.addEventListener("group.close",(function(t){t.detail.target.children.innerHTML=""})),this.addEventListener("item.open",(function(t){var e=t.detail.target;e.render({template:"item"+fn(e.variant),append:e.children})})),this.addEventListener("item.close",(function(t){t.detail.target.children.innerHTML=""})),this.addEventListener("item.modal",(function(t){var n=t.detail.target,r="item"+fn(n.variant),o="".concat(fn(n.variant)," <strong>-</strong> ").concat(n.parent.label," <strong>-</strong> ").concat(n.label);e.parent.showAlertModal(o,'<div class="ui-modal__dialog-children" data-children></div>',(function(){n.clearRender(r)}),(function(t){t.data.classes=["ui-modal--".concat(n.type),"ui-modal--".concat(n.type,"-").concat(n.variant)],t.data.footer=null}),(function(t){n.render({template:r,append:t.querySelector("[data-children]")})}))})),this,!0,(t=Cl).set(fl(t,this),true))}},{key:"loadModelsParent",value:(h=cl(al().mark((function t(e){var n,r,o;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e instanceof Array||(e=[e]),n=0;case 2:if(!(n<e.length)){t.next=12;break}if((r=e[n]).parent){t.next=9;break}return t.next=7,this.getModels(r.constructor.modelParentType,null,{id:r.rel});case 7:o=t.sent,r.overrideParent(o[0]);case 9:n++,t.next=2;break;case 12:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"getModels",value:(d=cl(al().mark((function t(e){var n,r,o,i,a,u,c=arguments;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,o=c.length>2&&void 0!==c[2]?c[2]:null,sl(Tl,this)[e]){t.next=7;break}return t.next=5,this.parent.storage.typeList(e,r);case 5:sl(Ll,this)[e]=t.sent,sl(Tl,this)[e]=!0;case 7:return i=null,o&&(a=Object.entries(o),u=a.length,i=sl(Ll,this)[e].filter((function(t){for(var e=0,n=0;n<a.length;n++){var r=ol(a[n],2),o=r[0],i=r[1];t[o]===i&&e++}return e===u}))),t.abrupt("return",o?null!==(n=i)&&void 0!==n?n:[]:sl(Ll,this)[e]);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"createModel",value:(p=cl(al().mark((function t(e,n){var r,o,i,a,u,c=arguments;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:null,a={model:null!=(o=c.length>2&&void 0!==c[2]?c[2]:null)?o:this,dom:null!==(r=null==o?void 0:o.children)&&void 0!==r?r:this.dom.list},u=new e(n,a.model,this.debug),i&&(u.importId=i),i||this.bindModels(u),sl(Ll,this)[e.modelType]||(sl(Ll,this)[e.modelType]=[]),sl(Ll,this)[e.modelType].push(u),t.next=10,u.save();case 10:return t.abrupt("return",u);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"updateModel",value:(f=cl(al().mark((function t(e,n){return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.assign(n),t.next=3,e.save();case 3:case"end":return t.stop()}}),t)}))),function(t,e){return f.apply(this,arguments)})},{key:"deleteModel",value:function(t){var e=this,n="Delete ".concat(fn(t.type)),r='<div class="ui-text"><p>Are you sure you want to delete <q>'.concat(un(t.label),"</q>?</p></div>");this.parent.showConfirmModal(n,r,(function(){e.deleteModelStructure(t)}))}},{key:"deleteRealModel",value:(s=cl(al().mark((function t(e){var n;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return sl(Ll,this)[e.type]&&(n=sl(Ll,this)[e.type].indexOf(e))>-1&&sl(Ll,this)[e.type].splice(n,1),t.next=3,e.delete();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"deleteModelStructure",value:(l=cl(al().mark((function t(e){return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.constructor.childrenType){t.next=3;break}return t.next=3,this.deleteChildrenFrom(e);case 3:return t.next=5,this.deleteRealModel(e);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"deleteChildrenFrom",value:(c=cl(al().mark((function t(e){var n,r;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getModels(e.constructor.childrenType,null,{rel:e.id});case 2:n=t.sent,r=0;case 4:if(!(r<n.length)){t.next=10;break}return t.next=7,this.deleteModelStructure(n[r]);case 7:r++,t.next=4;break;case 10:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"updateIndexOrder",value:(u=cl(al().mark((function t(e){var n,r,o,i;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.children.children,r=[],o=0;o<n.length;o++)r.push(n[o].id);return t.next=5,this.parent.storage.requireIndex(e.constructor.childrenType);case 5:return i=t.sent,t.next=8,i.reorder(r);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"renderModels",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++)t[n].render(g(e))}},{key:"refreshModels",value:function(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++)t[e].update()}},{key:"removeModels",value:function(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++)t[e].dom.remove()}},{key:"bindModels",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t instanceof Array||(t=[t]);for(var r=function(){var r=t[o];r.addEventListener("model.saved",(function(t){if(r===t.detail.target){if(t.detail.created){var o;e.renderModels(r,n);var a={};if(a[r.type]=(null!==(o=r.parent.stats[r.type])&&void 0!==o?o:0)+1,r.parent.stats=a,"board"===r.type){var u=e.parent.selectAction("board.open",r.dom);u.length&&u[0].click(),i((function(){var t=e.parent.selectAction("group.create",r.dom);t.length&&t[0].focus()}))}if("group"===r.type){var c=e.parent.selectAction("group.open",r.dom);c.length&&c[0].click(),i((function(){var t=e.parent.selectAction("item.create",r.dom);t.length&&t[0].focus()}))}}else e.refreshModels(r);r.parent.update()}})),r.addEventListener("model.deleted",(function(t){var n;if(r===t.detail.target){var o={};o[r.type]=(null!==(n=r.parent.stats[r.type])&&void 0!==n?n:1)-1,r.parent.stats=o,e.removeModels(r),r.parent.update()}}))},o=0;o<t.length;o++)r()}},{key:"export",value:(a=cl(al().mark((function t(){var e,n,r,o,i,a,u=arguments;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(u.length>0&&void 0!==u[0])||u[0],t.next=3,this.getModels("board");case 3:return n=t.sent,t.next=6,this.getModels("group");case 6:return r=t.sent,t.next=9,this.getModels("item");case 9:if(o=t.sent,i={board:n,group:r,item:o},a=JSON.stringify(i,(function(t,e){return e instanceof Ju?e.data:dn(e)?void 0:e})),e){t.next=14;break}return t.abrupt("return",JSON.parse(a));case 14:return t.abrupt("return",new Blob([a],{type:"application/json"}));case 15:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"importData",value:(o=cl(al().mark((function t(e){var n,r,o,i;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.board.length)){t.next=24;break}if((r=e.board[n]).id){t.next=5;break}return t.abrupt("continue",21);case 5:return t.next=7,this.getModels("board",null,{id:r.id});case 7:if(o=t.sent,i=void 0,!o.length){t.next=16;break}return(i=o.pop()).assign(r),t.next=14,i.save(!0);case 14:t.next=19;break;case 16:return t.next=18,this.createModel(Wc,r,null,r.id);case 18:i=t.sent;case 19:return t.next=21,this.importNested(e,i);case 21:n++,t.next=1;break;case 24:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"importNested",value:(r=cl(al().mark((function t(e,n){var r,o,i,a,u;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.constructor.childrenType,o=0;case 2:if(!(o<e[r].length)){t.next=28;break}if((i=e[r][o]).id){t.next=6;break}return t.abrupt("continue",25);case 6:if(i.rel===n.id){t.next=8;break}return t.abrupt("continue",25);case 8:return t.next=10,this.getModels(r,n,{id:i.id,rel:n.id});case 10:if(a=t.sent,u=void 0,!a.length){t.next=19;break}return(u=a.pop()).assign(i),t.next=17,u.save(!0);case 17:t.next=22;break;case 19:return t.next=21,this.createModel(this.parent.storage.models[r],i,null,i.id);case 21:u=t.sent;case 22:if(!u.constructor.childrenType){t.next=25;break}return t.next=25,this.importNested(e,u);case 25:o++,t.next=2;break;case 28:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"importJSONString",value:(n=cl(al().mark((function t(e){var n,r,o,i,a;return al().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,m(n=JSON.parse(e))&&n.board&&n.board instanceof Array&&(!n.group||n.group instanceof Array)&&(!n.item||n.item instanceof Array)){t.next=4;break}throw new Error("Invalid json format");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r=t.t0;case 9:if(r){t.next=18;break}return t.prev=10,t.next=13,this.importData(n);case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(10),r=t.t1;case 18:a=null,r?(o="JSON import error",i="Failed to import: ".concat(r.toString())):(o="JSON import complete",i="Imported all connected data. The application will reload automatically.",a=function(){location.reload()}),this.parent.showAlertModal(o,i,a);case 21:case"end":return t.stop()}}),t,this,[[0,6],[10,15]])}))),function(t){return n.apply(this,arguments)})}]);var n,r,o,a,u,c,l,s,f,p,d,h}(W);function Rl(t){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(t)}function Pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_l(r.key),r)}}function kl(t,e,n){return e&&Pl(t.prototype,e),n&&Pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _l(t){var e=function(t,e){if("object"!=Rl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Rl(e)?e:e+""}function xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jl(t,e,n){return e=Dl(e),function(t,e){if(e&&("object"===Rl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ml()?Reflect.construct(e,n||[],Dl(t).constructor):e.apply(t,n))}function Ml(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ml=function(){return!!t})()}function Dl(t){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dl(t)}function Hl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bl(t,e)}function Bl(t,e){return Bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bl(t,e)}Ol=Nl,Al="board",(wl=hl(wl="childrenType"))in Ol?Object.defineProperty(Ol,wl,{value:Al,enumerable:!0,configurable:!0,writable:!0}):Ol[wl]=Al;var Fl=function(t){function e(){return xl(this,e),jl(this,e,arguments)}return Hl(e,t),kl(e)}(y),Gl=function(t){function e(){var t;xl(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e,n){(e=_l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(t=jl(this,e,[].concat(r)),"_defaults",{id:null,icon:null,label:null}),t}return Hl(e,t),kl(e,[{key:"_validate",value:function(t){if("string"!=typeof t.id||!t.id.length)throw new Fl("Requires a valid id");if("string"!=typeof t.label||!t.label.length)throw new Fl("Requires a valid label")}},{key:"_render",value:function(t){var e;return'<section id="'.concat(t.id,'" data-type="board" class="board">')+'<nav class="board__nav ui-wrap ui-wrap--object-nav"><div data-nav="options"><div data-nav="nav"><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-nav="show" type="button"><span class="ui-icon" data-model-update="attr:iconType:data-icon"'+' data-icon="'.concat(t.icon&&t.icon.length?"font":"menu",'">')+'<span data-model-update="text:icon">'.concat(null!==(e=t.icon)&&void 0!==e?e:"","</span>")+'</span><span class="ui-button__label ui-tooltip__tip">Show options</span></button><div data-nav="drop" tabindex="0"><div class="ui-wrap ui-wrap--options-drop"><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="board.up" data-keep type="button"><span class="ui-button__label ui-tooltip__tip">Move up</span><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="board.down" data-keep type="button"><span class="ui-button__label ui-tooltip__tip">Move down</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="board.edit" type="button"><span class="ui-icon" data-icon="action-edit"><span></span></span><span class="ui-button__label ui-tooltip__tip">Edit</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="board.delete" type="button"><span class="ui-icon" data-icon="action-delete"><span></span></span><span class="ui-button__label ui-tooltip__tip">Delete</span></button></div></div></div><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-nav="hide" type="button"><span class="ui-icon" data-icon="close"><span></span></span><span class="ui-button__label ui-tooltip__tip">Hide options</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="board.up" type="button"><span class="ui-button__label ui-tooltip__tip">Move up</span><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="board.down" type="button"><span class="ui-button__label ui-tooltip__tip">Move down</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button></div>'+'<label class="board__label" title="'.concat(t.id,'" data-action="board.toggle"><strong data-model-update="text:label">').concat(un(t.label),"</strong></label>")+'<div data-nav="interactive"><button class="ui-button ui-button--icon ui-tooltip ui-interactive" data-tip="bl" data-action="board.minimize" type="button"><span class="ui-button__label ui-tooltip__tip">Minimize</span><span class="ui-icon" data-icon="minimize"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip ui-interactive" data-tip="bl" data-action="board.maximize" type="button"><span class="ui-button__label ui-tooltip__tip">Maximize</span><span class="ui-icon" data-icon="fullscreen"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="bl" data-action="board.open" type="button"><span class="ui-button__label ui-tooltip__tip">Open</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="bl" data-action="board.close" type="button"><span class="ui-button__label ui-tooltip__tip">Close</span><span class="ui-icon" data-icon="close-small"><span></span></span></button></div></nav><div class="board__content"><div class="board__scroll" data-scroller><ol class="board__children" data-children></ol></div></div><nav class="board__nav ui-wrap ui-wrap--object-nav"><div class="ui-button ui-button--icon ui-button--label-hidden ui-button--static"><span class="ui-icon" data-icon="stats"><span></span></span><span class="ui-button__label">Board statistics</span></div><div class="board__stats"><em><span data-model-update="attr:stats.group:data-stats-count" data-stats-count="0"><strong data-model-update="text:stats.group">0</strong> group<span>s</span></span></em></div><div data-nav="interactive"><button class="ui-button ui-button--icon ui-tooltip" data-tip="tl" data-action="group.create" type="button"><span class="ui-button__label ui-tooltip__tip">Add group</span><span class="ui-icon" data-icon="action-create"><span></span></span></button></div></nav></section>'}}])}(qr);function Wl(t){return Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(t)}function Ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kl(r.key),r)}}function Yl(t,e,n){return e&&Ul(t.prototype,e),n&&Ul(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kl(t){var e=function(t,e){if("object"!=Wl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wl(e)?e:e+""}function zl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ql(t,e,n){return e=Jl(e),function(t,e){if(e&&("object"===Wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vl()?Reflect.construct(e,n||[],Jl(t).constructor):e.apply(t,n))}function Vl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vl=function(){return!!t})()}function Jl(t){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jl(t)}function Xl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zl(t,e)}function Zl(t,e){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zl(t,e)}var $l=function(t){function e(){return zl(this,e),ql(this,e,arguments)}return Xl(e,t),Yl(e)}(y),Ql=function(t){function e(){var t;zl(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e,n){(e=Kl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(t=ql(this,e,[].concat(r)),"_defaults",{id:null,rel:null,icon:null,label:null,marked:!0}),t}return Xl(e,t),Yl(e,[{key:"_validate",value:function(t){if("string"!=typeof t.id||!t.id.length)throw new $l("Requires a valid id");if("string"!=typeof t.rel||!t.rel.length)throw new $l("Requires a valid relation");if("string"!=typeof t.label||!t.label.length)throw new $l("Requires a valid label")}},{key:"_render",value:function(t){var e,n=["group"];return t.marked&&n.push("group--marked"),'<section id="'.concat(t.id,'" data-type="group" class="').concat(n.join(" "),'">')+'<nav class="group__nav ui-wrap ui-wrap--object-nav"><div data-nav="options"><div data-nav="nav"><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-nav="show" type="button"><span class="ui-icon" data-model-update="attr:iconType:data-icon"'+' data-icon="'.concat(t.icon&&t.icon.length?"font":"menu",'">')+'<span data-model-update="text:icon">'.concat(null!==(e=t.icon)&&void 0!==e?e:"","</span>")+'</span><span class="ui-button__label ui-tooltip__tip">Show options</span></button><div data-nav="drop" tabindex="0"><div class="ui-wrap ui-wrap--options-drop"><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.unmarked" type="button"><span class="ui-button__label ui-tooltip__tip">Show all items</span><span class="ui-icon" data-icon="check"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.marked" type="button"><span class="ui-button__label ui-tooltip__tip">Show only unmarked items</span><span class="ui-icon" data-icon="close-small"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.up" data-keep type="button"><span class="ui-button__label ui-tooltip__tip">Move up</span><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.down" data-keep type="button"><span class="ui-button__label ui-tooltip__tip">Move down</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.edit" type="button"><span class="ui-icon" data-icon="action-edit"><span></span></span><span class="ui-button__label ui-tooltip__tip">Edit</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.delete" type="button"><span class="ui-icon" data-icon="action-delete"><span></span></span><span class="ui-button__label ui-tooltip__tip">Delete</span></button></div></div></div><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-nav="hide" type="button"><span class="ui-icon" data-icon="close"><span></span></span><span class="ui-button__label ui-tooltip__tip">Hide options</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.up" type="button"><span class="ui-button__label ui-tooltip__tip">Move up</span><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="br" data-action="group.down" type="button"><span class="ui-button__label ui-tooltip__tip">Move down</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button></div>'+'<label class="group__label" title="'.concat(t.id,'" data-action="group.toggle"><strong data-model-update="text:label">').concat(un(t.label),"</strong></label>")+'<div data-nav="interactive"><button class="ui-button ui-button--icon ui-tooltip ui-interactive" data-tip="bl" data-action="group.minimize" type="button"><span class="ui-button__label ui-tooltip__tip">Minimize</span><span class="ui-icon" data-icon="minimize"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip ui-interactive" data-tip="bl" data-action="group.maximize" type="button"><span class="ui-button__label ui-tooltip__tip">Maximize</span><span class="ui-icon" data-icon="fullscreen"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="bl" data-action="group.open" type="button"><span class="ui-button__label ui-tooltip__tip">Open</span><span class="ui-icon  ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="bl" data-action="group.close" type="button"><span class="ui-button__label ui-tooltip__tip">Close</span><span class="ui-icon" data-icon="close-small"><span></span></span></button></div></nav><div class="group__content"><div class="group__scroll" data-scroller><div class="group__children" data-children></div></div></div><nav class="group__nav ui-wrap ui-wrap--object-nav"><div class="ui-button ui-button--icon ui-button--label-hidden ui-button--static ui-tooltip" data-tip="tr"><span class="ui-icon" data-icon="stats"><span></span></span><span class="ui-button__label ui-tooltip__tip">Group statistics</span></div><div class="group__stats"><em><span data-model-update="attr:stats.item:data-stats-count" data-stats-count="0"><strong data-model-update="text:stats.item">0</strong> item<span>s</span></span> <span data-model-update="attr:stats.itemMarked:data-stats-count" data-stats-count="0"><strong data-model-update="text:stats.itemMarked">0</strong> marked </span><span data-model-update="attr:stats.itemUnmarked:data-stats-count" data-stats-count="0"><strong data-model-update="text:stats.itemUnmarked">0</strong> unmarked</span></em></div><div data-nav="interactive"><button class="ui-button ui-button--icon ui-tooltip" data-tip="tl" data-action="item.create" type="button"><span class="ui-button__label ui-tooltip__tip">Add item</span><span class="ui-icon" data-icon="action-create"><span></span></span></button></div></nav></section>'}}])}(qr);function ts(t){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(t)}function es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rs(r.key),r)}}function ns(t,e,n){return e&&es(t.prototype,e),n&&es(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rs(t){var e=function(t,e){if("object"!=ts(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ts(e)?e:e+""}function os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function is(t,e,n){return e=us(e),function(t,e){if(e&&("object"===ts(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,as()?Reflect.construct(e,n||[],us(t).constructor):e.apply(t,n))}function as(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(as=function(){return!!t})()}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},us(t)}function cs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ls(t,e)}function ls(t,e){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ls(t,e)}var ss=function(t){function e(){return os(this,e),is(this,e,arguments)}return cs(e,t),ns(e)}(y),fs=function(t){function e(){var t;os(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e,n){(e=rs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(t=is(this,e,[].concat(r)),"_defaults",{id:null,rel:null,label:null,icon:null,marked:!1,variant:null,amount:0,note:null,youtube:null}),t}return cs(e,t),ns(e,[{key:"_validate",value:function(t){if("string"!=typeof t.id||!t.id.length)throw new ss("Requires a valid id");if("string"!=typeof t.rel||!t.rel.length)throw new ss("Requires a valid relation");if("string"!=typeof t.label||!t.label.length)throw new ss("Requires a valid label");if("string"!=typeof t.variant||!t.variant.length)throw new ss("Requires a valid variant")}},{key:"_render",value:function(t){var e,n=["item","item--".concat(t.variant)];return t.marked&&n.push("item--marked"),'<article id="'.concat(t.id,'" data-type="item" class="').concat(n.join(" "),'">')+'<nav class="item__nav ui-wrap ui-wrap--object-nav"><div data-nav="options"><div data-nav="nav"><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-nav="show" type="button"><span class="ui-icon" data-model-update="attr:iconType:data-icon"'+' data-icon="'.concat(t.icon&&t.icon.length?"font":"menu",'">')+'<span data-model-update="text:icon">'.concat(null!==(e=t.icon)&&void 0!==e?e:"","</span>")+'</span><span class="ui-button__label ui-tooltip__tip">Show options</span></button><div data-nav="drop" tabindex="0"><div class="ui-wrap ui-wrap--options-drop"><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.up" data-keep type="button"><span class="ui-button__label ui-tooltip__tip">Move up</span><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.down" data-keep type="button"><span class="ui-button__label ui-tooltip__tip">Move down</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.more" type="button"><span class="ui-button__label ui-tooltip__tip">More</span><span class="ui-icon" data-icon="add"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.less" type="button"><span class="ui-button__label ui-tooltip__tip">Less</span><span class="ui-icon" data-icon="remove"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.edit" type="button"><span class="ui-icon" data-icon="action-edit"><span></span></span><span class="ui-button__label ui-tooltip__tip">Edit</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.delete" type="button"><span class="ui-icon" data-icon="action-delete"><span></span></span><span class="ui-button__label ui-tooltip__tip">Delete</span></button></div></div></div><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-nav="hide" type="button"><span class="ui-icon" data-icon="close"><span></span></span><span class="ui-button__label ui-tooltip__tip">Hide options</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.up" type="button"><span class="ui-button__label ui-tooltip__tip">Move up</span><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.down" type="button"><span class="ui-button__label ui-tooltip__tip">Move down</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button></div>'+'<div class="item__amount" data-model-update="attr:amount:data-item-amount" data-item-amount="'.concat(t.amount,'">')+'<div data-nav="options"><div data-nav="nav"><button class="ui-button" data-nav="show" type="button">'+'<span class="ui-button__label" data-model-update="text:amount">'.concat(t.amount,"</span>")+'</button><div data-nav="drop" tabindex="0"><div class="ui-wrap ui-wrap--options-drop"><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.more" type="button"><span class="ui-button__label ui-tooltip__tip">More</span><span class="ui-icon" data-icon="add"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="r" data-action="item.less" type="button"><span class="ui-button__label ui-tooltip__tip">Less</span><span class="ui-icon" data-icon="remove"><span></span></span></button></div></div></div><button class="ui-button" data-nav="hide" type="button">'+'<span class="ui-button__label" data-model-update="text:amount">'.concat(t.amount,"</span>")+"</button></div></div>"+'<label class="item__label" title="'.concat(t.id,'"><strong data-model-update="text:label">').concat(un(t.label),"</strong></label>")+'<div data-nav="interactive"><button class="ui-button ui-button--icon ui-tooltip" data-tip="l" data-action="item.open" type="button"><span class="ui-button__label ui-tooltip__tip">Open</span><span class="ui-icon ui-icon--rotate-90" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="l" data-action="item.close" type="button"><span class="ui-button__label ui-tooltip__tip">Close</span><span class="ui-icon" data-icon="close-small"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="l" data-action="item.modal" type="button"><span class="ui-button__label ui-tooltip__tip">Show in popup</span><span class="ui-icon" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="l" data-action="item.link" type="button"><span class="ui-button__label ui-tooltip__tip">Show in new window</span><span class="ui-icon ui-icon--rotate-315" data-icon="arrow-simple"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="l" data-action="item.unmark" type="button"><span class="ui-button__label ui-tooltip__tip">Unmark</span><span class="ui-icon" data-icon="check"><span></span></span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="l" data-action="item.mark" type="button"><span class="ui-button__label ui-tooltip__tip">Mark</span><span class="ui-icon" data-icon="close-small"><span></span></span></button></div></nav><div class="item__content"><div class="item__scroll" data-scroller><div class="item__children" data-children></div></div></div></article>'}}])}(qr);function ps(t){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(t)}function ds(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ys(r.key),r)}}function hs(t,e,n){return e&&ds(t.prototype,e),n&&ds(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ys(t){var e=function(t,e){if("object"!=ps(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ps(e)?e:e+""}function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ms(t,e,n){return e=gs(e),function(t,e){if(e&&("object"===ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bs()?Reflect.construct(e,n||[],gs(t).constructor):e.apply(t,n))}function bs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bs=function(){return!!t})()}function gs(t){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(t)}function Es(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Os(t,e)}function Os(t,e){return Os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Os(t,e)}var ws=function(t){function e(){return vs(this,e),ms(this,e,arguments)}return Es(e,t),hs(e)}(y),As=function(t){function e(){var t;vs(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e,n){(e=ys(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(t=ms(this,e,[].concat(r)),"_defaults",{id:null,note:null}),t}return Es(e,t),hs(e,[{key:"_validate",value:function(t){if("string"!=typeof t.id||!t.id.length)throw new ws("Requires a valid id")}},{key:"_render",value:function(t){var e;return'<div data-type="note" class="note"><div class="note__wrap" data-model-update="text:note">'.concat(un(null!==(e=t.note)&&void 0!==e?e:""),"</div></div>")}}])}(qr);function Ss(t){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(t)}function Ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Is(r.key),r)}}function Ls(t,e,n){return e&&Ts(t.prototype,e),n&&Ts(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Is(t){var e=function(t,e){if("object"!=Ss(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Ss(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ss(e)?e:e+""}function Cs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ns(t,e,n){return e=Ps(e),function(t,e){if(e&&("object"===Ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rs()?Reflect.construct(e,n||[],Ps(t).constructor):e.apply(t,n))}function Rs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rs=function(){return!!t})()}function Ps(t){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ps(t)}function ks(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_s(t,e)}function _s(t,e){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_s(t,e)}var xs=function(t){function e(){return Cs(this,e),Ns(this,e,arguments)}return ks(e,t),Ls(e)}(y),js=function(t){function e(){var t;Cs(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e,n){(e=Is(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(t=Ns(this,e,[].concat(r)),"_defaults",{id:null,youtube:null}),t}return ks(e,t),Ls(e,[{key:"_validate",value:function(t){if("string"!=typeof t.id||!t.id.length)throw new xs("Requires a valid id");if("string"!=typeof t.youtube||!t.youtube.length)throw new xs("Requires a valid youtube id")}},{key:"_render",value:function(t){return'<div data-type="youtube" class="youtube"><div class="youtube__wrap">'+'<iframe src="https://www.youtube-nocookie.com/embed/dakOQMNa_2Q?si='.concat(t.youtube,'"')+' title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerPolicy="strict-origin-when-cross-origin" allowFullScreen></iframe></div></div>'}}])}(qr);function Ms(t){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(t)}function Ds(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Hs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bs(){Bs=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),u=new R(r||[]);return o(a,"_invoke",{value:L(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function b(){}function g(){}var E={};l(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(P([])));w&&w!==n&&r.call(w,a)&&(E=w);var A=g.prototype=m.prototype=Object.create(E);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==Ms(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=I(u,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function I(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ms(e)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Fs(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Gs(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Fs(i,r,o,a,u,"next",t)}function u(t){Fs(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Ws(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Us(t,e){return t.get(Ks(t,e))}function Ys(t,e,n){return t.set(Ks(t,e),n),n}function Ks(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vs(r.key),r)}}function qs(t,e,n){return e&&zs(t.prototype,e),n&&zs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vs(t){var e=function(t,e){if("object"!=Ms(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ms(e)?e:e+""}function Js(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xs(t,e,n){return e=$s(e),function(t,e){if(e&&("object"===Ms(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zs()?Reflect.construct(e,n||[],$s(t).constructor):e.apply(t,n))}function Zs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zs=function(){return!!t})()}function $s(t){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$s(t)}function Qs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tf(t,e)}function tf(t,e){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tf(t,e)}var ef=function(t){function e(){return Js(this,e),Xs(this,e,arguments)}return Qs(e,t),qs(e)}(y),nf=new WeakMap,rf=new WeakMap,of=new WeakMap,af=new WeakMap,uf=new WeakMap,cf=new WeakMap,lf=new WeakMap,sf=new WeakMap,ff=new WeakMap,pf=new WeakMap,df=function(t){function e(t,n,r,o){var i;Js(this,e),Ws(i=Xs(this,e,[document,null,o]),nf,!1),Ws(i,rf,!1),Ws(i,of,void 0),Ws(i,af,void 0),Ws(i,uf,void 0),Ws(i,cf,void 0),Ws(i,lf,!1),Ws(i,sf,void 0),Ws(i,ff,void 0),Ws(i,pf,void 0),Ys(ff,i,t),Ys(pf,i,n),Ys(sf,i,r);try{i.bind()}catch(t){throw new ef("Failed to bind application",t)}return i}return Qs(e,t),qs(e,[{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Us(sf,this).scrollTo(t,e,n,r)}},{key:"version",get:function(){return Us(ff,this)}},{key:"storage",get:function(){return Us(of,this)}},{key:"view",get:function(){return Us(cf,this)}},{key:"settings",get:function(){return Us(af,this)}},{key:"theme",get:function(){return Us(uf,this)}},{key:"bind",value:function(){var t=this;if(!Us(rf,this)){var e=document.getElementById("header"),n=document.getElementById("footer");this.addEventListener("storage.ready",Gs(Bs().mark((function e(){var n,r;return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.storage.typeHasData("settings");case 2:return n=e.sent,e.next=5,t.initSettings(!n);case 5:return e.next=7,t.storage.typeHasData("theme");case 7:return r=e.sent,e.next=10,t.initTheme(!r);case 10:return e.next=12,t.storage.typeHasData("board");case 12:e.sent||Ys(lf,t,!0),t.dispatchEvent("data.ready");case 15:case"end":return e.stop()}}),e)})))),this.addEventListener("data.ready",Gs(Bs().mark((function r(){var o;return Bs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.querySelector("[data-version]").innerText=t.version,Us(lf,t)&&t.showWelcome(),o=function(){t.selectAction("app.install",e)[0].remove()},window.addEventListener("appinstalled",(function(){o(),delete window._deferredInstallPrompt,t.showInstallThanks()})),t.bindActions({"app.install":[["click",function(){var e=Gs(Bs().mark((function e(n){return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),window._deferredInstallPrompt){e.next=4;break}return o(),e.abrupt("return");case 4:window._deferredInstallPrompt.prompt(),window._deferredInstallPrompt.userChoice.then((function(e){delete window._deferredInstallPrompt,o(),"accepted"===e.outcome&&t.showInstallThanks()}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]],"board.create":[["click",function(e){e.preventDefault(),t.showModelModal("board",null,"create")}]],"settings.show":[["click",function(e){e.preventDefault(),t.showModelModal("settings",Us(af,t),"edit")}]],"theme.show":[["click",function(e){e.preventDefault(),t.showModelModal("theme",Us(uf,t),"edit")}]],"storage.show":[["click",function(e){e.preventDefault(),t.showStorageSetup()}]],"about.show":[["click",function(e){e.preventDefault(),t.showAbout()}]],"privacy.show":[["click",function(e){e.preventDefault(),t.showPrivacy()}]],"app.share":[["click",function(e){e.preventDefault(),t.shareApp()}]]},e,[],(function(t){t.disabled=!1})),t.bindActions({"about.show":[["click",function(e){e.preventDefault(),t.showAbout()}]],"privacy.show":[["click",function(e){e.preventDefault(),t.showPrivacy()}]]},n,[],(function(t){t.disabled=!1}));case 6:case"end":return r.stop()}}),r)})))),Ys(rf,this,!0)}}},{key:"initSettings",value:(c=Gs(Bs().mark((function t(){var e,n=arguments;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length>0&&void 0!==n[0]&&!n[0]){t.next=5;break}Ys(af,this,new gc(null,this,this.debug)),t.next=9;break;case 5:return t.next=7,this.view.getModels("settings");case 7:e=t.sent,Ys(af,this,e[0]);case 9:Us(af,this).applySettings(),Us(af,this).addEventListener("model.saved",(function(t){t.detail.target.applySettings()}));case 11:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"initTheme",value:(u=Gs(Bs().mark((function t(){var e,n=arguments;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.length>0&&void 0!==n[0]&&!n[0]){t.next=5;break}Ys(uf,this,new _c(null,this,this.debug)),t.next=9;break;case 5:return t.next=7,this.view.getModels("theme");case 7:e=t.sent,Ys(uf,this,e[0]);case 9:Us(uf,this).applyTheme(),Us(uf,this).addEventListener("model.saved",(function(t){t.detail.target.applyTheme()}));case 11:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"boot",value:(a=Gs(Bs().mark((function t(){var e,n,r,o,i,a;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Us(nf,this)){t.next=2;break}return t.abrupt("return");case 2:for(t.prev=2,uo.debug=this.debug,e={modal:ia,input:Ai,fieldset:Jo,form:li,board:Gl,group:Ql,item:fs,itemNote:As,itemYoutube:js},n=Object.entries(e),r=0;r<n.length;r++)o=Ds(n[r],2),i=o[0],a=o[1],uo.require(i,new a(null,this.debug));return Ys(of,this,new mu(this,this.debug)),Ju.app=this,Ju.storage=this.storage,Ys(cf,this,new Nl(this,this.debug)),t.next=13,this.storage.load([gc,_c,Wc,nl,sc]);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(2),new ef("Failed to boot application",t.t0);case 18:Ys(nf,this,!0),this.dispatchEvent("app.ready");case 20:case"end":return t.stop()}}),t,this,[[2,15]])}))),function(){return a.apply(this,arguments)})},{key:"shareApp",value:function(){var t=this;navigator.share?navigator.share({title:"nutZtash - The private todo and notes tool",text:"The private todo and notes tool for every device",url:Us(pf,this)}).catch((function(){t.shareCopyUrl()})):this.shareCopyUrl()}},{key:"shareCopyUrl",value:(i=Gs(Bs().mark((function t(){return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yt(Us(pf,this),this.debug);case 2:t.sent&&this.showAlertModal("Copied to clipboard",'<div class="ui-text"><p>The app url was copied to your clipboard.</p></div>');case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"showWelcome",value:function(){var t=this,e=uo.node({template:"modal",data:{id:"modal-welcome",mode:"alert",header:{title:document.querySelector("#welcome .headline").innerHTML},focusable:!1,content:document.querySelector("#welcome .content").innerHTML}})[0];e.addEventListener("modal.initialized",(function(t){t.detail.target.show()})),e.addEventListener("modal.hidden",(function(e){e.detail.target.dom.remove();var n=t.selectAction("board.create",document.getElementById("header"));n.length&&n[0].focus()})),document.body.appendChild(e),Wi.make(e,{mode:"alert"},[da],this,this.debug)}},{key:"showInstallThanks",value:function(){this.showAlertModal("Application installed","<p>Thanks for installing the nutZtash application.</p><p>You may close this window now and open the app from your applications list.</p><p>Please report any issues or bugs to improve the expirence.</p>")}},{key:"showAbout",value:function(){var t=document.querySelector("#about .headline").innerHTML,e=document.querySelector("#about .content").innerHTML;this.showAlertModal(t,e)}},{key:"showPrivacy",value:function(){var t=document.querySelector("#privacy .headline").innerHTML,e=document.querySelector("#privacy .content").innerHTML;this.showAlertModal(t,e)}},{key:"deleteAllData",value:function(){var t=this;this.showConfirmModal("Delete all stored data","Are you sure you wish to delete all stored data, including settings and theme?",Gs(Bs().mark((function e(){return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.storage.clear();case 2:t.showAlertModal("All data was deleted","Application will reload and present itself in a blank state.",(function(){location.reload()}));case 3:case"end":return e.stop()}}),e)}))))}},{key:"resetSettings",value:(o=Gs(Bs().mark((function t(){var e=this;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Us(af,this).label="current Settings",Us(af,this).addEventListener("model.deleted",Gs(Bs().mark((function t(){return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initSettings();case 2:e.showAlertModal("Defaults restored",'<div class="ui-text"><p>Default settings restored successfully.</p></div>',(function(){e.selectAction("settings.show",document.getElementById("header"))[0].click()}));case 5:case"end":return t.stop()}}),t)})))),t.next=4,Us(cf,this).deleteModel(Us(af,this));case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"resetTheme",value:(r=Gs(Bs().mark((function t(){var e=this;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Us(uf,this).label="current Theme",Us(uf,this).addEventListener("model.deleted",Gs(Bs().mark((function t(){return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initTheme();case 2:e.showAlertModal("Defaults restored",'<div class="ui-text"><p>Default theme restored successfully.</p></div>',(function(){e.selectAction("theme.show",document.getElementById("header"))[0].click()}));case 5:case"end":return t.stop()}}),t)})))),t.next=4,Us(cf,this).deleteModel(Us(uf,this));case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"importTheme",value:function(){var t=this;this.showConfirmModal("Import theme JSON",[{template:"input",data:{type:"textarea",name:"theme-import-json",width:100}}],function(){var e=Gs(Bs().mark((function e(n){var r,o;return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.detail.target.dom.querySelector('[name="theme-import-json"]').value,e.prev=1,m(o=JSON.parse(r))){e.next=5;break}throw new ef("Must be an object");case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),t.showAlertModal("Failed theme import",'<div class="ui-text"><p>Failed to import theme JSON.</p></div>',(function(){t.importTheme()})),e.abrupt("return");case 13:return Us(uf,t).assign(o),e.next=16,Us(uf,t).save();case 16:Us(uf,t).applyTheme(),t.selectAction("theme.show",document.getElementById("header"))[0].click();case 18:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),(function(t){t.data.icons={confirm:"action-import"},t.data.i18n={confirm:"Import"}}))}},{key:"showStorageSetup",value:(n=Gs(Bs().mark((function t(){var e,n,r,o=this;return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="Storage setup",t.next=3,this.storage.storageSize();case 3:n=t.sent,r=['<div class="ui-text">'+"<p><strong>Local storage usage</strong> ".concat(n," <strong>of</strong> ~5mib</p>")+"</div>","<hr />",{template:"fieldset",data:{},as:{content:[{template:"input",data:{label:{text:"Storage driver"},classes:["ui-input--driver","ui-input--wide","ui-input--grow","ui-input--grow-label","ui-input--label-multiline","ui-input--horizontal","ui-input--spaced"],name:"driver",type:"select",value:this.storage.local.get("driver"),options:[{label:"Local storage",value:"local"}]}}]}},"<hr />",'<nav class="ui-text-nav">',{template:"input",data:{label:{text:null},classes:["ui-input--hidden"],name:"import",type:"file"}},'<button class="ui-button ui-button--wide ui-button--icon" data-action="storage.import" type="button"><span class="ui-icon" data-icon="action-import"><span></span></span><span class="ui-button__label">Import from JSON file</span></button>',"<hr />",'<button class="ui-button ui-button--wide ui-button--icon" data-action="storage.export" type="button"><span class="ui-icon" data-icon="action-export"><span></span></span><span class="ui-button__label">Export to JSON file</span></button>',"<hr />",'<button class="ui-button ui-button--wide ui-button--icon" data-action="storage.delete" type="button"><span class="ui-icon" data-icon="action-delete"><span></span></span><span class="ui-button__label">Delete all data</span></button>',"</nav>"],this.showConfirmModal(e,r,(function(){o.debug&&o.debug.warn("Only localStorage available currently")}),(function(t){t.data.icons={confirm:"save"},t.data.i18n={confirm:"Save"}}),(function(t){var e=t.querySelector('[name="import"]'),n=new FileReader;n.addEventListener("load",(function(){o.view.importJSONString(n.result)})),e.addEventListener("change",(function(){n.readAsText(e.files[0])})),o.bindActions({"storage.import":[["click",function(t){t.preventDefault(),e.click()}]],"storage.export":[["click",function(){var t=Gs(Bs().mark((function t(e){return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,o.view.export(!0);case 3:n=t.sent,r="nutZtash.json",i=void 0,a=void 0,i=document.createElement("a"),a=window.URL.createObjectURL(n),i.style.display="none",i.href=a,i.download=r,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),i.remove();case 5:case"end":return t.stop()}var n,r,i,a}),t)})));return function(e){return t.apply(this,arguments)}}()]],"storage.delete":[["click",function(){var t=Gs(Bs().mark((function t(e){return Bs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),o.deleteAllData();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]]},t)}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"showInputErrors",value:function(t,e){for(var n=Object.entries(e),r=null,o=0;o<n.length;o++){var i=Ds(n[o],2),a=i[0],u=i[1],c=t.querySelector('[name="'.concat(a,'"]'));if(c){r||(r=c);var l=c.closest(".ui-input");l.querySelector(".ui-input__error").innerHTML=u instanceof Array?u.join("<br />"):u,l.classList.add("ui-input--error"),l.classList.add("ui-input--error-visible")}else this.debug&&this.debug.warn(this.constructor.name+".showInputErrors(".concat(a,") Unknown field"))}r&&r.focus()}},{key:"showModelModal",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"create",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.storage.models[t],a="modal-model-".concat(r);if(!document.getElementById(a)){if("edit"===r&&!(n instanceof i))throw new ef("Invalid model relation");var u={create:"confirm",edit:"confirm"},c={create:'<span class="ui-icon" data-icon="action-create"><span></span></span><h3 class="ui-modal__dialog-title">Create '.concat(fn(i.modelType)),edit:'<span class="ui-icon" data-icon="action-edit"><span></span></span><h3 class="ui-modal__dialog-title">Edit '.concat(fn(i.modelType))};n&&n.label&&(c.edit="".concat(c.edit," <q>").concat(n.label,"</q>"),c.view="".concat(c.view," <q>").concat(n.label,"</q>"));var l=o&&o.label?" in ".concat(fn(o.type)," <q>").concat(o.label,"</q>"):"",s={create:function(){return i.form(o?{rel:o.id}:null)},edit:function(){return i.form(n.data)}},f={template:"modal",data:{id:a,classes:["ui-modal--".concat(t)],mode:u[r],focusable:!1,header:{custom:c[r]+l+"</h3>",controls:{custom:'<button class="ui-button ui-button--icon ui-tooltip" data-tip="bl" data-action="simple.on" data-focus="no-auto" type="button"><span class="ui-icon ui-icon--rotate-270" data-icon="arrow-simple"><span></span></span><span class="ui-button__label ui-tooltip__tip">Simple mode</span></button><button class="ui-button ui-button--icon ui-tooltip" data-tip="bl" data-action="simple.off" data-focus="no-auto" type="button"><span class="ui-icon" data-icon="settings"><span></span></span><span class="ui-button__label ui-tooltip__tip">More options</span></button>'}},icons:{confirm:"save"},i18n:{confirm:"Save"}},as:{content:s[r]()}};i.modalRender&&i.modalRender(f);var p=uo.node(f)[0];p.addEventListener("modal.confirm.confirm",(function(t){var n=i.getFormData(p),r=i.validate(n);!0!==r.valid&&(e.showInputErrors(p,r.errors),t.preventDefault())})),p.addEventListener("modal.initialized",(function(a){var u=a.detail.target;e.bindActions({"simple.on":[["click",function(t){t.preventDefault(),document.documentElement.setAttribute("data-interface-simple","true")}]],"simple.off":[["click",function(t){t.preventDefault(),document.documentElement.setAttribute("data-interface-simple","false")}]]},p,{}),i.bindForm(p,u),i.bind(p,{type:t,model:n,mode:r,parent:o,modal:u}),a.detail.target.open=!0})),p.addEventListener("modal.hidden",(function(t){var a=i.getFormData(p);document.documentElement.setAttribute("data-interface-simple",e.settings.simpleForms?"true":"false"),t.detail.target.dom.remove(),t.detail.target.confirmed&&("create"!==r||n?"edit"===r&&n&&Us(cf,e).updateModel(n,a):Us(cf,e).createModel(i,a,o))})),document.body.appendChild(p),Wi.make(p,{mode:u[r],easyHide:Us(af,this).easyHideModals,focusResetOnHidden:!1,focusLast:[]},[da,wa],this,this.debug)}}},{key:"showConfirmModal",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!document.getElementById("modal-confirm")){var i={template:"modal",data:{id:"modal-confirm-".concat(bt()),mode:"confirm",focusable:!1,header:{title:t}},as:{content:e}};r&&r(i);var a=uo.node(i)[0];return o&&o(a),a.addEventListener("modal.initialized",(function(t){t.detail.target.open=!0})),a.addEventListener("modal.hidden",(function(t){t.detail.target.dom.remove(),t.detail.target.confirmed&&n(t)})),document.body.appendChild(a),Wi.make(a,{mode:"confirm",easyHide:Us(af,this).easyHideModals},[wa],this,this.debug)}}},{key:"showAlertModal",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!document.getElementById("modal-alert")){var i={template:"modal",data:{id:"modal-alert",mode:"alert",focusable:!1,header:{title:t}},as:{content:e}};r&&r(i);var a=uo.node(i)[0];o&&o(a),a.addEventListener("modal.initialized",(function(t){t.detail.target.open=!0})),a.addEventListener("modal.hidden",(function(t){t.detail.target.dom.remove(),n&&n(t)})),document.body.appendChild(a),Wi.make(a,{mode:"alert",easyHide:Us(af,this).easyHideModals},[da],this,this.debug)}}},{key:"selectAction",value:function(t,e){return e.querySelectorAll('[data-action="'.concat(t,'"]'))}},{key:"bindActions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!m(t))throw new ef("Invalid action handlers definition");for(var o=e.querySelectorAll("[data-action]"),i=0;i<o.length;i++){var a=o[i],u=a.getAttribute("data-action");t[u]?(n.button=a,n.action=u,Bt([a],this.wrapActionHandlers(t[u],n))):this.debug&&this.debug.warn(this.constructor.name+".bindActions(".concat(u,") action not defined")),r&&r(a,u)}return o}},{key:"wrapActionHandlers",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=function(){var r=t[o].slice(),i=r[1];r[1]=function(t){i(t,e)},n.push(r)},o=0;o<t.length;o++)r();return n}}]);var n,r,o,i,a,u,c}(W);function hf(){document.documentElement.style.setProperty("--scrollbar-width",function(){var t=document.createElement("div"),e=document.createElement("div");t.setAttribute("style",["z-index:-1","position:fixed","width:50vw;","height:50vh;","visibility:hidden","overflow:scroll","-ms-overflow-style:scrollbar"].join(";")),e.setAttribute("style","display:block;width:100%;height:100vh"),t.appendChild(e),document.body.appendChild(t);var n=t.offsetWidth-e.offsetWidth;return document.body.removeChild(t),n}()+"px")}var yf="#debug"===location.hash?console:null;window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),window._deferredInstallPrompt=t;var e=document.querySelector('#header [data-action="app.install"]');e&&(e.style.display="")}));var vf=new df("1.2.1","https://squirrel-forge.github.io/nutztash/",function(t){Bt(document.querySelectorAll('[data-nav="show"], [data-nav="hide"]'),[["click",function(t){t.preventDefault(),this.focus()}]]);var e=new pt(null,t);return e.config.offset=function(){var t,e;return null!==(t=null===(e=document.getElementById("header"))||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==t?t:0},window.addEventListener("resize",zt((function(){hf()}))),e}(yf),yf);q((function(){var t;hf(),null===(t=vf.boot())||void 0===t||t.catch((function(t){window.console.error("Please report the following bug to: https://github.com/squirrel-forge/nutztash/issues"),window.console.error(t),alert('You have encountered a bug "'.concat(t.toString(),'"'))}))}))}();